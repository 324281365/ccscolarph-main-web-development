if (self.CavalryLogger) { CavalryLogger.start_js(["Tcrsc"]); }

__d("AudienceInsightsFBPixel",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();!function(a,b,c,d,e,f,g){__p&&__p();if(a.fbq)return;e=a.fbq=function(){e.callMethod?e.callMethod.apply(e,arguments):e.queue.push(arguments)};a._fbq||(a._fbq=e);e.push=e;e.loaded=!0;e.version="2.0";e.queue=[];f=b.createElement(c);f.async=!0;f.src=d;g=b.getElementsByTagName(c)[0];g.parentNode.insertBefore(f,g)}(window,document,"script","https://connect.facebook.net/en_US/fbevents.js");a=window.fbq;a("init","2212941965605364");a("init","322096738387347");a("track","PageView");e.exports={fbq:a}}),null);
__d("AudienceInsightsLoggingStrategy",["invariant","Promise"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(){__p&&__p();function a(){var a=this;this.isReady=function(){return a.$2};this.$2=new(b("Promise"))(function(b){a.$1=b})}var c=a.prototype;c.logRawEvent=function(a){g(0,3010)};c.updateUserProperties=function(a){g(0,3011)};c.__ready=function(){this.$1(!0)};return a}();e.exports=a}),null);
__d("KeplerAdAccountStore",[],(function(a,b,c,d,e,f){var g={},h={};a={addAdAccounts:function(a){g=babelHelpers["extends"]({},g,a),Object.keys(a).forEach(function(b){b=a[b];h[b.legacyAccountID]=b})},getAdAccount:function(a){return g[a]},getByLegacyAccountID:function(a){return h[a]},getAllAdAccounts:function(){return g}};e.exports=a}),null);
__d("KeplerConstants",["fbt","KeplerConstantsJSStatic","KeplerVariables","createObjectFrom","immutable","keyMirror"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=b("immutable").Set;c={key:"Page",name:g._("Page")};d={key:"Place",name:g._("Place")};e.exports=babelHelpers["extends"]({},b("KeplerConstantsJSStatic"),b("KeplerVariables"),{PartnerCategoryTabs:a(["retail","household"]),ActionType:(f=b("keyMirror"))({CREATE:null,DELETE:null,UPDATE:null}),BlacklistedBehaviorCategories:b("createObjectFrom")(b("KeplerVariables").BlacklistedBehaviorCategoriesArray),PageTokenizerDescription:c,PlaceTokenizerDescription:d,ConnectionType:{1:c,6:d},CategoryValues:{6006371273532:"summit_estates",6006371276132:"established_elite",6006371278332:"corporate_connected",6006371280932:"top_professionals",6006371283732:"active_&_involved",6006371324532:"casual_comfort",6006371325332:"active_lifestyles",6006371325532:"solid_surroundings",6006371325732:"busy_schedules",6006371260332:"careers_&_travel",6006371260532:"schools_&_shopping",6006371260932:"on_the_go",6006371262132:"work_&_play",6006371262332:"career_centered",6006371272532:"country_ways",6006371272732:"country_enthusiasts",6006371272932:"firmly_established",6006371273132:"climbing_the_ladder",6006371273332:"country_comfort",6006371273732:"carving_out_time",6006371273932:"children_first",6006371274132:"comfortable_cornerstones",6006371274332:"good_neighbors",6006371274532:"career_building",6006371274732:"clubs_&_causes",6006371275132:"getting_established",6006371275332:"tenured_proprietors",6006371275532:"community_pillars",6006371275932:"city_mixers",6006371276332:"out_&_about",6006371276532:"mid-americana",6006371276732:"metro_mix",6006371276932:"urban_diversity",6006371277132:"outward_bound",6006371277332:"working_&_active",6006371277532:"persistent_&_productive",6006371277732:"firm_foundations",6006371278732:"rural_adventure",6006371280132:"rural_parents"},CategoryDescriptions:{6006371277132:g._("People with middle-income, rural households, most without children, but a few with some toddlers, preschool and grade school children. Home ownerships dominates this cluster, along with their tendency to drive compact or full-size pickup trucks. Source: Acxiom"),6006521001625:g._("Interest in and purchase of value-priced domestic goods and housewares, children's toys and clothing. Source: Datalogix"),6006520977625:g._("Interests and purchases include services, products and activities that promote a healthy lifestyle. Source: Datalogix"),6006520979425:g._("Interests include working hard and smart financial planning. Focused on second careers, family, travel, hobbies and retirement. Source: Datalogix"),6006520991825:g._("Interests and purchases include high-end retailers and the coolest designers. Source: Datalogix"),6006520999225:g._("Interests and purchases include outdoor activities. Source: Datalogix"),6006371350532:g._("People who have indicated that they work in the professional\/technical job category. Includes accountants, architects, engineers, geologists and CEOs. Source: Acxiom"),6006371350732:g._("People who have indicated that they work in the administration\/managerial job category. Includes executives, directors, assistant managers, office managers, project managers and supervisors."),6006371350932:null,6006371351132:null,6006371351332:null,6006371351532:g._("People who have indicated that they are students. Source: Acxiom"),6006371351732:g._("People who have indicated that they are housewives\/house husbands. Source: Acxiom"),6006371351932:g._("People who have indicated that they are retired. Source: Acxiom"),6006371352132:g._("People who have indicated that they are a farmer. Source: Acxiom"),6006371352532:null,6006371352732:null,6006371352932:g._("People who have indicated that they are self-employed. Source: Acxiom"),6006371353132:g._("People who have indicated that they are in the education job category. Includes librarians, head teachers, deans, teachers, coaches, trainers, counsellors and professors. Source: Acxiom"),6006371353332:g._("People who have indicated that they are in the financial job category. Includes treasurers, bankers, loan processors, brokers and traders. Source: Acxiom"),6006371353532:null,6006371353732:g._("People who have indicated that they are in the medical job category. Includes doctors, chiropractors, dentists, optometrists, pharmacists, therapists and nurses. Source: Acxiom"),6006371349332:g._("People who have indicated that they have a bank card, such as Visa or MasterCard. Source: Acxiom"),6006371349532:g._("People who have indicated that they have a credit card, but the type is unknown. Source: Acxiom"),6006371349732:g._("People who have indicated that they have an upmarket department store card. Includes high-end stores like Nieman Marcus. Source: Acxiom"),6006371349932:g._("People who have indicated they have a fuel card, department store card and\/or retail store card. Includes Exxon, Conoco, Shell or BP cards; JCPenny, Sears or Montgomery Ward cards; and Home Depot, Victoria's Secret or Best Buy cards, among others from fuel, retail and department stores. Source: Acxiom"),6006371350132:g._("People who have indicated that they have a gold card or platinum card, which generally has a larger credit limit. Source: Acxiom"),6006371350332:g._("People who have indicated that they have a travel and entertainment card, such as Diner's Club card. Source: Acxiom"),6006371379132:g._("People who are likely to use cash and have no formal banking relationships. Source: Acxiom"),6006371381932:g._("People who are likely to use a credit card 20+ times a month. Source: Acxiom"),6006371274332:g._("Acred Couples households are comfortable and well-established couples in their late 50s and early 60s. These upper-middle income empty nesters enjoy a wide range of social activities in the outer suburban areas."),6006371272932:g._("Apple Pie Families are upper-middle class couples with school-age children. They are homeowners, often people carrier drivers and avid radio listeners."),6006371274532:g._("Career Building is made up of young, childless singles. They are a mix of mobile renters and first-time homeowners, living in condos and single-family houses."),6006371262332:g._("Career Centred Singles are affluent, single professionals. They are well educated, dedicated to their careers and long-term homeowners in their communities."),6006371277732:g._("Cartoons and Carpools are solidly middle-income married couples with children of all ages. These homeowners are blue-collar and white-collar workers, supporting their families while establishing roots in their communities."),6006371273932:g._("Children First are generally young families. At a mean age of 25, all are currently raising children. Evenly split between married couples and singles, these renters are four times more likely to be students. They earn upper-middle incomes and live in suburban areas."),6006371275932:g._("City Mixers households are single urbanites. At a mean age of 41, there are no children in the home, and they work in a broad spectrum of white-collar jobs."),6006371274732:g._("Clubs & Causes is dominated by upper-middle income, retired singles and couples in their late 60s and early 70s. These long-time homeowners live comfortably in outer suburbs and towns."),6006371282932:g._("Collegiate Crowd, with a mean age of 21, represents the youngest of households. The cluster has a high concentration of students, a correlating low net worth and high mobility, but interestingly, they fall right in the middle for income."),6006371278332:g._("Corporate Clout contains well-educated and well-compensated singles and couples in their 40s and 50s. These corporate executives and professionals are serious travellers, whether for work or pleasure, and intelligent investors."),6006371273332:g._("Country Comfort is a combination of rural white-collar and blue-collar families, some self-employed, with mixed-age children. There is a relatively high percentage of working women."),6006371272732:g._("Country Single is a group of successful singles who are firmly entrenched in their rural communities. Upper-middle incomes and no children enable his group to save and spend on their personal interests."),6006371272532:g._("Country Ways are country empty nesters. They are an interesting mix of technicians, entrepreneurs and blue-collar workers. With average educational attainment levels, they enjoy upper incomes and middle-to-upper net worth."),6006371273732:g._("Dynamic Duos are upper-middle income couples with no kids. They are well educated and well compensated. They are homeowners in mostly up-market neighbourhoods."),6006371276132:g._("Established Elite represents America's elite couples and singles. With no school-age children at home and the second highest income in the country, these households have enormous disposable incomes and pursue correlating luxuries and activities."),6006371325532:g._("Full Steaming is a mix of affluent, well-educated couples and singles who have a net worth tending to fall between $500,000 and $1,000,000 and are an entrepreneurial bunch."),6006371274132:g._("Fun & Games includes a mix of couples in their late 40s and early 50s, living in outer suburbs and towns. Married and childless, these upper-middle income homeowners work in a mix of white-collar and blue-collar fields."),6006371260332:g._("Hard Chargers is dominated by well-educated and professionally successful singles. They are almost all homeowners in a mix of houses and condominiums."),6006371260532:g._("Kids & Clout is comprised of affluent couples with school-age children. Their activities tend to be geared towards work, home or kids."),6006371325332:g._("Lavish Lifestyles contains established couples with teenage kids, people carriers and mortgages. Luckily, with a rank of fifth in the country, they have the high incomes to support them."),6006371273132:g._("Married Sophisticates is made up of recently married young couples who enjoy healthy upper-middle range incomes. They are almost all homeowners with above-average net worth, living in up-market suburban neighbourhoods."),6006371276732:g._("Metro Mix households live in the nation's mega-markets. In their mid-40s to mid-60s and with middle incomes, this group of diverse urbanites resides in expensive multi-family dwellings."),6006371276532:g._("Mid Americana are married suburbanites. They are middle of the road in terms of education and income, although long tenure and high equity versus home values result in above-average net worth."),6006371325732:g._("Platinum Oldies are well-heeled retirees and soon-to-be retirees living in the outer edges of the city who are enjoying the fruits of their lifetime labour. They are active pillars of their communities and dedicated grandparents."),6006371277532:g._("Raisin' Grandkids are older singles and couples notable for their active grandparent status. Every household shows the presence of children."),6006371280132:g._("Rural Parents are single parents who live in some of the most rural parts of the country. They rank high for working women and most have started to accrue some net worth, predominantly through the homes they own."),6006371275132:g._("Savvy Singles households are reasonably well educated and enjoy upper-middle incomes. Despite solid incomes, their residence in metropolitan areas often requires renting in multiple-family dwellings."),6006371324532:g._("Shooting Stars is made up of childless couples in their 30s and early 40s. These home-owning households often include professionals with postgraduate degrees."),6006371283732:g._("Sitting Pretty represents financially secure couples nearing retirement. They are empty-nester homeowners, living in outer suburbs and towns, enjoying a luxurious lifestyle."),6006371280932:g._("Skyboxes & Suburbans is one of the best educated of all the clusters. These families shop at up-market stores, spend time feathering their nest and adhere to regular fitness programmes."),6006371275332:g._("Soccer & SUVs households are large, upper-middle income families. Located in the cities and surrounding areas, they typically have accrued a net worth of $500,000 or less."),6006371262132:g._("Solid Single Parents contains affluent single parents. These predominantly white-collar, professional metrocentrics enjoy comfortable incomes and are a mix of homeowners and renters."),6006371277332:g._("Solo and Stable are singles and homeowners who work in mainly white-collar professional, administrative and managerial jobs. Their education and income place them about average in the middle class."),6006371276332:g._("Spouses & Houses is dominated by middle-income, childless couples in their mid-20s. This group consists mainly of high school finishers who own their homes and tend to live in suburbs and towns around the country."),6006371275532:g._("Suburban Seniors are mostly retired octogenarians who are community activists and devoted grandparents. With upper-middle incomes and net worth, they are very comfortable in their advancing age."),6006371273532:g._("Summit Estates families are enjoying the good life \u2013 luxury travel, entertainment and consumption of every kind are within easy reach."),6006371260932:g._("Tots & Toys is dominated by affluent and well-educated working couples with preschool-age children. They are homeowners, mainly in single-family houses."),6006371278732:g._("Truckin' & Stylin' households are in their mid-to-late 30s and live in rural towns. Though, on average, they earn middle incomes, they rank below average for income when compared to the nation and have a very low net worth."),6006371276932:g._("Urban Tenants households are predominantly singles in their early 50s. These middle-income, white-collar professionals take advantage of urban life, enjoying the income and time that they have to the fullest.")},Payload:f({ACCOUNT:null,ACTIVE_FILTER_SET:null,AD_ACCOUNTS_TO_FILTER_SETS:null,BUSINESS:null,DISPLAY:null,FILTER:null,FILTER_SETS:null,HIGHLIGHTED_FIELDSET:null,METADATA:null,METRIC:null,NUMBERS:null,PAGE:null,SECTION:null,TOAST:null}),PayloadSource:f({SERVER:null,VIEW:null}),Numbers:f({RATIO:null,TOTAL:null}),Start:f({CONNECTIONS:null,CUSTOM_AUDIENCE:null,LOCATIONS:null}),SPEC_KEY:"kepler_temp_spec",getMatchingPrefix:function(a){a=a.toUpperCase();a.substr(-1)!=="_"&&(a+="_");return Object.keys(this).filter(function(b){return b.indexOf(a)===0})},isLocationParam:function(a){var c;return[(c=b("KeplerConstantsJSStatic")).PARAM_CITY,c.PARAM_COUNTRY,c.PARAM_NOT_CITY,c.PARAM_NOT_COUNTRY].indexOf(a)>-1}})}),null);
__d("KeplerDispatcher",["invariant","Dispatcher_DEPRECATED","KeplerConstants","curry","setImmediate"],(function(a,b,c,d,e,f,g){__p&&__p();function a(a,b){b.source=a,k.dispatch(b)}var h=null,i={actions:[],data:{}},j=function(){k.dispatch(i),i={actions:[],data:{}}},k=Object.assign(new(b("Dispatcher_DEPRECATED"))(),{queueAction:function(a){typeof a.actionType==="string"||g(0,2628),i.actions.push(a),h||(h=b("setImmediate")(function(){h=null,j()}))},queueData:function(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];b.length>=2||g(0,2629);var d=b.pop(),e=b.pop(),f=b,h=i.data;f.forEach(function(a){typeof h==="object"||g(0,2630),h[a]=h[a]||{},h=h[a]});h[e]=d},handleUpdateFromServer:b("curry")(a,b("KeplerConstants").PayloadSource.SERVER),handleUpdateFromView:b("curry")(a,b("KeplerConstants").PayloadSource.VIEW)});e.exports=k}),null);
__d("KeplerDaoGraph",["fbt","AdsCustomAudienceType","AdsDao","AdsDaoGraphDataProvider","KeplerConstants","adsDaoGraphFetch","adsDaoGraphMutate","adsDaoGraphPrimed","adsDaoUtils"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=b("AdsDao").TransformParameterValue;var h=new Set(b("AdsCustomAudienceType").SUBTYPES.LOOKALIKE,b("AdsCustomAudienceType").SUBTYPES.COMBINATION_AUDIENCE),i=[];Object.keys(b("AdsCustomAudienceType").SUBTYPES).forEach(function(a){a=b("AdsCustomAudienceType").SUBTYPES[a];h.has(a)||i.push(a)});f={keplerCustomAudiencesForAccount:(c=b("adsDaoUtils")).createDataCommand(d=b("AdsDaoGraphDataProvider"),{requiredParameters:{accountId:!0},constantParameters:{endpoint:new a(function(a){return"/act_"+a.accountId+"/customaudiences"},"accountId"),fields:["description","id","is_kepler_data_available","name","permission_for_actions"],filtering:[{field:"subtype",operator:"IN",value:i}],limit:9999},processData:function(a){var b=[];(a.data||a).forEach(function(a){!a.permission_for_actions.can_see_insight?(a.isDisabled=!0,a.unselectable=!0,a.tooltip=g._("This audience has been shared with you for targeting only. Ask the owner to share insights permissions with you.")):a.is_kepler_data_available||(a.isDisabled=!0,a.unselectable=!0,a.tooltip=g._("It can take up to 72 hours for insights to be available for new Custom Audiences.")),b.push(a)},this);return b}}),keplerEngagementInsightsRulesForAccount:c.createDataCommand(d,{requiredParameters:{accountId:!0},constantParameters:{endpoint:new a(function(a){return"/act_"+a.accountId+"/engagementinsightsrules"},"accountId")},optionalParameters:{rule_ids:!0},processData:function(a){var c={};(a.data||a).forEach(function(a){a.audience_size<b("KeplerConstants").CREATE_AD_MIN_SIZE&&(a.isDisabled=!0,a.unselectable=!0,a.tooltip=g._("It can take up to 48 hours, after creating an ad set, for video remarketing insights to become available. If you cannot select a video remarketing audience after this period it is because the audience contains fewer than 1000 people.")),a.id=a.rule_id,a.name=a.description,c[a.id]=a});var d=[];Object.keys(c).forEach(function(a){d.push(c[a])});return d}}),keplerIndustries:c.createDataCommand(d,{constantParameters:{"class":"industries",endpoint:"/search",type:"adTargetingCategory"}}),keplerMobileDeviceOwnersForAccount:c.createDataCommand(d,{requiredParameters:{accountId:!0},constantParameters:{endpoint:new a(function(a){return"/act_"+a.accountId+"/keplerbehaviorcategories"},"accountId"),whitelisted_paths:["Mobile Device User"]},processData:function(a){var b=[];(a.data||a).forEach(function(a){Array.isArray(a.path)&&a.path.length&&(a.path=a.path.length>1?a.path.slice(1):null,a.parent_category=a.path?a.path[0]:null,b.push(a))});return b}}),keplerConnectionObjectsForAccount:c.createDataCommand(d,{requiredParameters:{accountId:!0},constantParameters:{endpoint:new a(function(a){return"/act_"+a.accountId+"/connectionobjects"},"accountId"),limit:9999},optionalParameters:{extra_fbids:!0,extra_only:!0},processData:function(a){__p&&__p();var c=[],d={};(a.data||a).forEach(function(a){if(b("KeplerConstants").ConnectionType[a.type]){var e=b("KeplerConstants").ConnectionType[a.type];a.path=[e.key];a.parent_category=e.key;c.push(a);d[a.type]||(c.push(e),d[a.type]=!0)}});return c}}),keplerBehaviorCategoriesForAccount:c.createDataCommand(d,{requiredParameters:{accountId:!0},constantParameters:{blacklisted_paths:["Congressional districts","Education","Family","Mobile Device User","Party affiliation","Work","Purchase behavior","Financial"],endpoint:new a(function(a){return"/act_"+a.accountId+"/keplerbehaviorcategories"},"accountId")}}),pagesForUser:c.createDataCommand(d,{requiredParameters:{},constantParameters:{endpoint:"/me/accounts",fields:["global_brand_page_name","id","place_type"],limit:9999},processData:function(a){var c=[],d=!1,e=!1;(a.data||a).forEach(function(a){var f;a.name=a.global_brand_page_name;a.place_type==="PLACE"?(f=b("KeplerConstants").PlaceTokenizerDescription,a.path=[f.key],a.parent_category=f.key,d||(c.push(f),d=!0)):(f=b("KeplerConstants").PageTokenizerDescription,a.path=[f.key],a.parent_category=f.key,e||(c.push(f),e=!0));c.push(a)});return c}}),keplerPrivateCategoriesForAccount:c.createDataCommand(d,{requiredParameters:{accountId:!0},optionalParameters:{},constantParameters:{custom_categories_only:!0,endpoint:new a(function(a){return"/act_"+a.accountId+"/broadtargetingcategories"},"accountId")},processData:function(a){a=a.data;a.forEach(function(a){a.path=[]});return a}})};c={forAccount:function(a){b("adsDaoGraphPrimed").forAccount.call(this,a);a={constantParameters:{accountId:a}};this.fetch=b("adsDaoUtils").primeDao(this.fetch,a,{keplerCustomAudiencesForAccount:!0,keplerMobileDeviceOwnersForAccount:!0,keplerBehaviorCategoriesForAccount:!0,keplerConnectionObjectsForAccount:!0,keplerEngagementInsightsRulesForAccount:!0,keplerPrivateCategoriesForAccount:!0});return this},forLocale:function(a){b("adsDaoGraphPrimed").forLocale.call(this,a);a={constantParameters:{locale:a}};this.fetch=b("adsDaoUtils").primeDao(this.fetch,a,{keplerMobileDeviceOwnersForAccount:!0,keplerBehaviorCategoriesForAccount:!0,keplerPrivateCategoriesForAccount:!0});return this}};d={add:b("adsDaoGraphMutate").add,fetch:babelHelpers["extends"]({},b("adsDaoGraphFetch").fetch,f),mutate:b("adsDaoGraphMutate").mutate,primedForAccount:c.forAccount,primedForLocale:c.forLocale,remove:b("adsDaoGraphMutate").remove};e.exports=d}),null);
__d("KeplerPrimedDao",["ApiClient","CurrentLocale","KeplerConnectConfig","KeplerDaoGraph"],(function(a,b,c,d,e,f){b("ApiClient").setClientID(b("KeplerConnectConfig").client_id);b("ApiClient").setAccessToken(b("KeplerConnectConfig").access_token);var g={};a={getInstanceForAccount:function(a){g[a]||(g[a]=b("KeplerDaoGraph").primedForLocale(b("CurrentLocale").get()).primedForAccount(a));return g[a]}};e.exports=a}),null);
__d("KeplerActiveAdAccountStore",["invariant","ArbiterMixin","KeplerAdAccountStore","KeplerConstants","KeplerDispatcher","KeplerPrimedDao","curry"],(function(a,b,c,d,e,f,g){__p&&__p();var h;function i(a){!h&&g(0,375);var c=b("KeplerAdAccountStore").getAdAccount(h);!c&&g(0,376);return c[a]}function a(a){if(!h)return null;var c=b("KeplerAdAccountStore").getAdAccount(h);return c?c[a]:null}var j=babelHelpers["extends"]({},b("ArbiterMixin"),{getAdmarketID:(c=b("curry"))(i,"admarketID"),getCurrency:c(i,"currency"),getFriendlyName:c(i,"friendlyName"),getLegacyAccountID:c(i,"legacyAccountID"),getAdmarketIDNullable:c(a,"admarketID"),getDao:function(){var a=i("legacyAccountID");return b("KeplerPrimedDao").getInstanceForAccount(a)},toUpdate:b("KeplerDispatcher").register(function(a){var c=h,d;d=a.get(b("KeplerConstants").Payload.ACCOUNT);d&&d.forEach(function(a){a.type===b("KeplerConstants").ActionType.UPDATE&&(h=a.data)});d=a.get(b("KeplerConstants").Payload.PAGE);d&&d.forEach(function(a){var c=a.data;a.type===b("KeplerConstants").ActionType.CREATE&&(h=c.admarketID)});c!==h&&j.inform("change")})});e.exports=j}),null);
__d("AudienceInsightsFBPixelLoggingStrategy",["AudienceInsightsFBPixel","AudienceInsightsLoggingStrategy","BonsaiConfig","KeplerActiveAdAccountStore"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AudienceInsightsFBPixel").fbq,h=b("BonsaiConfig").isEmployee,i=b("BonsaiConfig").isInternal;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b;b=a.call(this)||this;b.__ready();return b}var d=c.prototype;d.logRawEvent=function(a){var c=a.eventName;a=babelHelpers["extends"]({account_id:b("KeplerActiveAdAccountStore").getAdmarketID()},a.params);h&&i&&(console.groupCollapsed("[AIFBPixelLogger]: "+c),console.groupEnd());g("trackCustom",c,a)};return c}(b("AudienceInsightsLoggingStrategy"));e.exports=a}),null);
__d("AudienceInsightsMetaLogger",["Queue"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(){this.$2=[],this.$3=[],this.$1=null}var c=a.prototype;c.setSessionID=function(a){this.$1=a};c.getSessionID=function(){return this.$1};c.addLoggingStrategy=function(a){var c=new(b("Queue"))({processor:function(b){a.logRawEvent(b)}});this.$2.push(c);var d=new(b("Queue"))({processor:function(b){a.updateUserProperties(b)}});this.$3.push(d);a.isReady().then(function(){c.start(),d.start()})};c.updateUserProperties=function(a){this.$3.forEach(function(b){b.enqueue(a)})};c.logEvent=function(a,b){this.$4({eventName:a,params:babelHelpers["extends"]({session_id:this.$1},b)})};c.$4=function(a){this.$2.forEach(function(b){b.enqueue(a)})};return a}();e.exports=a}),null);
__d("KeplerTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(){this.$1={}}var c=a.prototype;c.log=function(){b("GeneratedLoggerUtils").log("logger:KeplerLoggerConfig",this.$1,b("Banzai").BASIC)};c.logVital=function(){b("GeneratedLoggerUtils").log("logger:KeplerLoggerConfig",this.$1,b("Banzai").VITAL)};c.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:KeplerLoggerConfig",this.$1,{signal:!0})};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setAccountID=function(a){this.$1.account_id=a;return this};c.setAdgroupID=function(a){this.$1.adgroup_id=a;return this};c.setAdproTargetSpec=function(a){this.$1.adpro_target_spec=a;return this};c.setAudienceID=function(a){this.$1.audience_id=a;return this};c.setAudienceSize=function(a){this.$1.audience_size=a;return this};c.setClientTime=function(a){this.$1.client_time=a;return this};c.setEvent=function(a){this.$1.event=a;return this};c.setFilterAiAttributes=function(a){this.$1.filter_ai_attributes=b("GeneratedLoggerUtils").serializeVector(a);return this};c.setFilterName=function(a){this.$1.filter_name=a;return this};c.setFilterValue=function(a){this.$1.filter_value=a;return this};c.setGroupByAiAttributes=function(a){this.$1.group_by_ai_attributes=b("GeneratedLoggerUtils").serializeVector(a);return this};c.setHavingAiAttributes=function(a){this.$1.having_ai_attributes=b("GeneratedLoggerUtils").serializeVector(a);return this};c.setMetric=function(a){this.$1.metric=a;return this};c.setQuerySql=function(a){this.$1.query_sql=a;return this};c.setQueryTime=function(a){this.$1.query_time=a;return this};c.setSection=function(a){this.$1.section=a;return this};c.setSelectAiAttributesAndOperators=function(a){this.$1.select_ai_attributes_and_operators=b("GeneratedLoggerUtils").serializeVector(a);return this};c.setSessionID=function(a){this.$1.session_id=a;return this};c.setThriftQueryTime=function(a){this.$1.thrift_query_time=a;return this};c.setThriftStatusCode=function(a){this.$1.thrift_status_code=a;return this};c.setTime=function(a){this.$1.time=a;return this};c.setTransportTime=function(a){this.$1.transport_time=a;return this};c.setVC=function(a){this.$1.vc=a;return this};c.setWeight=function(a){this.$1.weight=a;return this};return a}();c={account_id:!0,adgroup_id:!0,adpro_target_spec:!0,audience_id:!0,audience_size:!0,client_time:!0,event:!0,filter_ai_attributes:!0,filter_name:!0,filter_value:!0,group_by_ai_attributes:!0,having_ai_attributes:!0,metric:!0,query_sql:!0,query_time:!0,section:!0,select_ai_attributes_and_operators:!0,session_id:!0,thrift_query_time:!0,thrift_status_code:!0,time:!0,transport_time:!0,vc:!0,weight:!0};e.exports=a}),null);
__d("AudienceInsightsTypedLoggerLoggingStrategy",["AudienceInsightsLoggingStrategy","KeplerActiveAdAccountStore","KeplerTypedLogger"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c;c=a.call(this)||this;c.$AudienceInsightsTypedLoggerLoggingStrategy1=new(b("KeplerTypedLogger"))();c.__ready();return c}var d=c.prototype;d.logRawEvent=function(a){var c;c=babelHelpers["extends"]({account_id:b("KeplerActiveAdAccountStore").getAdmarketID(),client_time:Date.now(),event:a.eventName,session_id:(c=a.params)==null?void 0:c.sessionId},a.params);this.$AudienceInsightsTypedLoggerLoggingStrategy1.updateData(c).log()};return c}(b("AudienceInsightsLoggingStrategy"));e.exports=a}),null);
__d("AudienceInsightsMetaLoggerWWW",["AudienceInsightsFBPixelLoggingStrategy","AudienceInsightsMetaLogger","AudienceInsightsTypedLoggerLoggingStrategy"],(function(a,b,c,d,e,f){"use strict";var g=new(b("AudienceInsightsMetaLogger"))();function a(){g.addLoggingStrategy(new(b("AudienceInsightsTypedLoggerLoggingStrategy"))()),g.addLoggingStrategy(new(b("AudienceInsightsFBPixelLoggingStrategy"))())}e.exports={LOGGER:g,initLogger:a}}),null);
__d("KeplerAccountSelector.react",["fbt","KeplerAdAccountStore","React","XUISelector.react","prop-types"],(function(a,b,c,d,e,f,g){__p&&__p();var h=b("XUISelector.react").Option;a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=b("KeplerAdAccountStore").getAllAdAccounts(),c=a[this.props.activeAdAccountID],d=Object.keys(a).map(function(c){c=a[c];var d=g._("{account name} ({account ID}, {account currency})",[g._param("account name",c.friendlyName),g._param("account ID",c.legacyAccountID),g._param("account currency",c.currency)]);return b("React").jsx(h,{title:d,value:c.admarketID,children:d},c.admarketID)},this);return b("React").jsx(b("XUISelector.react"),{className:this.props.className,maxwidth:this.props.maxWidth,value:c.admarketID,onChange:this.props.onAccountSelect,children:d})};return c}(b("React").Component);a.propTypes={activeAdAccountID:(c=b("prop-types")).string.isRequired,className:c.string,maxWidth:c.number.isRequired,onAccountSelect:c.func.isRequired};e.exports=a}),null);
__d("KeplerSavedAudience",["KeplerConstants","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(b){return a.call(this,b)||this}c.fromFilterSet=function(a){var d;return new c({admarketID:a[(d=b("KeplerConstants")).FILTER_SET_PARAM_ADMARKET_ID],audienceSize:a[d.FILTER_SET_PARAM_SIZE],id:a[d.FILTER_SET_PARAM_ID],name:a[d.FILTER_SET_PARAM_NAME],updatedTime:a[d.FILTER_SET_PARAM_UPDATED_TIME],preview:a[d.FILTER_SET_PARAM_PREVIEW],unsharedCustomAudiences:a[d.FILTER_SET_PARAM_UNSHARED_CUSTOM_AUDIENCES],owners:b("immutable").List(a[d.FILTER_SET_PARAM_OWNERS]),spec:a[d.FILTER_SET_PARAM_FILTER]})};return c}(b("immutable").Record({admarketID:null,audienceSize:null,id:null,name:null,owners:null,preview:null,spec:null,unsharedCustomAudiences:null,updatedTime:null}));e.exports=a}),null);
__d("KeplerAudienceStore",["ArbiterMixin","KeplerConstants","KeplerDispatcher","KeplerSavedAudience","KeyedCallbackManager","mapObject"],(function(a,b,c,d,e,f){var g,h=new(b("KeyedCallbackManager"))(),i=babelHelpers["extends"]({},b("ArbiterMixin"),{getAudiences:function(a,b){h.executeOrEnqueue(a,b)},register:function(){b("KeplerDispatcher").register(function(a){a.has(b("KeplerConstants").Payload.FILTER_SETS)&&(a.get(b("KeplerConstants").Payload.FILTER_SETS).forEach(function(a){a.type===b("KeplerConstants").ActionType.UPDATE&&(b("KeplerConstants").UseTargetSpec||h.addResourcesAndExecute((g||(g=b("mapObject")))(a.data,b("KeplerSavedAudience").fromFilterSet)))}),i.inform("change"))})}});e.exports=i}),null);
__d("KeplerActiveAudienceStore",["ArbiterMixin","KeplerAudienceStore","KeplerConstants","KeplerDispatcher"],(function(a,b,c,d,e,f){__p&&__p();var g,h=babelHelpers["extends"]({},b("ArbiterMixin"),{getActiveAudience:function(a){if(!g){a(null);return}b("KeplerAudienceStore").getAudiences([g],function(b){a(b[g])})},getID:function(){return g}});b("KeplerDispatcher").register(function(a){a.has(b("KeplerConstants").Payload.ACTIVE_FILTER_SET)&&a.get(b("KeplerConstants").Payload.ACTIVE_FILTER_SET).forEach(function(a){a.type===b("KeplerConstants").ActionType.UPDATE&&(g=a.data,h.inform("change"))})});e.exports=h}),null);
__d("KeplerAudienceUtils",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={isViewerOwnerOfAudience:function(a,b){if(!b)return!1;if(!b.owners)return!1;for(var c=0;c<b.owners.size;++c)if(b.owners.get(c).id===a)return!0;return!1}};e.exports=a}),null);
__d("HubbleTabbedSections",["cx","ix","InsightsTabbedSectionsMixin","createReactClass_DEPRECATED"],(function(a,b,c,d,e,f,g,h){a=b("createReactClass_DEPRECATED")({displayName:"HubbleTabbedSections",mixins:[b("InsightsTabbedSectionsMixin")],theme:{activeNavLinkClass:"_5nwq _5cmg",navClass:"_5nwo _5cmi",navLinkClass:"_5nwp _5cmf",nubClass:"_5nwr _5cmh",nubSrc:h("76195")}});e.exports=a}),null);
__d("KeplerCardFooter.react",["cx","React"],(function(a,b,c,d,e,f,g){__p&&__p();a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return b("React").jsx("div",{className:"_5p7v",children:this.props.children})};return c}(b("React").Component);e.exports=a}),null);
__d("KeplerSelector.react",["cx","AbstractSelector.react","React","ReactXUIMenu","curry","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("ReactXUIMenu").SelectableItem,i=b("ReactXUIMenu").SelectableMenu;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this,c)||this;d.$1=function(a){d.setState({label:a.label,value:a.value},b("curry")(d.props.onChange,a.value))};var e;for(var f=0,g;g=c.options[f];++f)c.value===g.value&&(e=g.label);d.state={label:e,value:c.value};return d}var d=c.prototype;d.render=function(){var a=this.props.options.map(function(a){return b("React").jsx(h,{value:a.value,children:a.label},a.value)},this),c=this.props.label?b("React").jsx("span",{className:"_5wo5",children:this.props.label}):null;c=b("React").jsxs("div",{className:"_5wo4",children:[c,b("React").jsx("span",{className:"_5wo6",children:this.state.label})]});c={button:c,menu:b("React").jsx(i,{})};return b("React").jsx(b("AbstractSelector.react"),babelHelpers["extends"]({},this.props,{className:b("joinClasses")(this.props.className,"_5wo3"),config:c,value:this.state.value,onChange:this.$1,children:a}))};return c}(b("React").Component);a.Menu=i;a.Option=h;e.exports=a}),null);
__d("KeplerCardHeader.react",["cx","DOM","KeplerSelector.react","React","ReactDOM","curry"],(function(a,b,c,d,e,f,g){__p&&__p();var h=b("DOM").create("div",{style:"position:absolute;visibility:hidden"}),i=b("DOM").create("div");a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={showTooltip:!1},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentDidMount=function(){this.$1()};d.render=function(){__p&&__p();var a=null;this.props.title!==void 0&&this.props.title.length>0&&(a=b("React").jsx("div",{className:"_5wo0",children:this.props.title}));var c=null;this.props.description!==void 0&&this.props.description.length>0&&(this.state.showTooltip?c=b("React").jsx("div",{className:"_-0c","data-hover":"tooltip","data-tooltip-alignh":"right","data-tooltip-content":this.props.description,children:this.props.description}):c=b("React").jsx("div",{className:"_-0c",children:this.props.description}));var d=null;this.props.selectors&&(d=this.props.selectors.map(function(a){return b("React").jsx(b("KeplerSelector.react"),{className:"_5wo1",label:a.label,options:a.options,value:a.value,onChange:b("curry")(this.props.onSelectorChange,a.param)},a.param)},this));var e=null;if(this.props.link){var f=this.props.link,g=f.description;f=f.uri;e=b("React").jsx("p",{children:b("React").jsx("a",{className:"_3m6k",href:f,children:g})})}f="_5p7w"+(this.props.description?" _4vvp":"");return b("React").jsxs("div",{className:f,children:[d,a,c,e]})};d.$1=function(){__p&&__p();if(this.props.description===void 0||this.props.description.length===0)return;var a=b("ReactDOM").findDOMNode(this);b("DOM").prependContent(a,i);var c=i.offsetWidth;b("DOM").setContent(h,this.props.description);b("DOM").insertBefore(a,h);a=c<h.offsetWidth;b("DOM").setContent(h,"");b("DOM").remove(h);b("DOM").remove(i);this.setState({showTooltip:a})};return c}(b("React").Component);e.exports=a}),null);
__d("KeplerDisplayStore",["ArbiterMixin","KeplerConstants","KeplerDispatcher"],(function(a,b,c,d,e,f){var g={},h=babelHelpers["extends"]({},b("ArbiterMixin"),{addSetting:function(a){g=babelHelpers["extends"]({},g,a)},getSetting:function(a){return g[a]},getAllSettings:function(){return babelHelpers["extends"]({},g)}});b("KeplerDispatcher").register(function(a){a.has(b("KeplerConstants").Payload.DISPLAY)&&(a.get(b("KeplerConstants").Payload.DISPLAY).forEach(function(a){a.type===b("KeplerConstants").ActionType.UPDATE&&h.addSetting(a.data)}),h.inform("change"))});e.exports=h}),null);
__d("KeplerLabel.react",["cx","React"],(function(a,b,c,d,e,f,g){__p&&__p();a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return b("React").jsx("div",{className:"_5qxz",children:this.props.children})};return c}(b("React").Component);e.exports=a}),null);
__d("KeplerAgeRange.react",["cx","fbt","invariant","AdsSBTokenizerConstants","KeplerConstants","Keys","React","XUISingleSelector.react","prop-types","XUITextInput.react","debounce","joinClasses"],(function(a,b,c,d,e,f,g,h,i){__p&&__p();var j=b("XUISingleSelector.react").Option,k=0,l=1,m=String(b("KeplerConstants").NOT_SET),n=500;a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(a){return b("KeplerConstants").UseTargetSpec?[""+(a.value.age_min||m),""+(a.value.age_max||m)]:a.value||[m,m]},d.$3=function(a,b){var c=d.state.value[b]||"";c===m&&(c="");a=babelHelpers["extends"]({},a,{value:c});if(a.defaultValues)return d.$4(a,b);else return d.$5(a,b)},d.$5=function(a,c){Object.assign(a,{className:"_46xq",onBlur:function(a){this.$6(a,c)}.bind(babelHelpers.assertThisInitialized(d)),onChange:function(a){var b=this.state.value.slice(0);b[c]=a.target.value;this.setState({value:b})}.bind(babelHelpers.assertThisInitialized(d)),onKeyUp:function(a){this.$7(a,c),this.$2||(this.$2=b("debounce")(this.$6,n,this)),this.$2(babelHelpers["extends"]({},a),c)}.bind(babelHelpers.assertThisInitialized(d))});return b("React").jsx(b("XUITextInput.react"),babelHelpers["extends"]({},a))},d.$6=function(a,c){a=a.target?a.target.value:a.value;var e=/^0+|[^0-9]/g;a=a.replace(e,"");e=d.state.value.slice();e[c]=a||m;e[k]===m&&e[l]===m?e=null:d.$8(e,c);b("KeplerConstants").UseTargetSpec&&(e&&(e[k]=e[k]===m?0:e[k],e[l]=e[l]===m?0:e[l],e={age_min:e[k],age_max:e[l]}));d.props.onChange({target:{value:e}})},d.$7=function(a,c){var e=a.which||a.keyCode;e===b("Keys").RETURN&&d.$6(a,c)},d.$8=function(a,b){var c=a[k],d=a[l];if(c===m||d===m)return;var e=Number(c)>Number(d);e&&(b===k?a[l]=c:a[k]=d)},d.state={value:d.$1(d.props)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.UNSAFE_componentWillReceiveProps=function(a){"value"in a&&this.setState({value:this.$1(a)})};d.componentWillUnmount=function(){this.$2&&this.$2.reset()};d.$4=function(a,c){var d=a.defaultValues.map(function(a){var c=a;a===65&&(c="65+");a=String(a);return b("React").jsx(j,{value:a,children:c},"value_"+a)});a.hasEmptyValue?d.unshift(b("React").jsx(j,{value:"",children:h._("Any")},"value_any")):a.value||(a.value=String(a.defaultValues[0]));Object.assign(a,{children:d,className:"_46xm",defaultValue:a.value,maxheight:b("AdsSBTokenizerConstants").TYPEAHEAD.HEIGHT,onChange:function(a){this.$6(a,c)}.bind(this),value:a.value});return b("React").jsx(b("XUISingleSelector.react"),babelHelpers["extends"]({},a))};d.render=function(){var a=this.props.inputs.map(this.$3),c=b("joinClasses")("_46xr",this.props.className);return b("React").jsxs("div",{className:c,children:[a[k]," \u2014 ",a[l]]})};return c}(b("React").Component);a.propTypes={defaultValues:(c=b("prop-types")).array,inputs:c.array.isRequired,onChange:c.func.isRequired,value:c.oneOfType([c.array,c.object]).isRequired};e.exports=a}),null);
__d("KeplerBrowseableSearchSource",["AbstractSearchSource","AdsGraphAPI","AdsSearchBrowseUtils","CurrentUser","SearchableEntry","TokenizeUtil","isValidID","promiseDone"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=30,h={};function i(a,b){b=b||[];a.forEach(function(a){!a.numLeafCategories?b.push(a):b=i(a.children,b)},this);return b}function j(a,c){var d=0,e=a.toLowerCase().indexOf(c);b("TokenizeUtil").isExactMatch(c,a)&&e===0?d=5:b("TokenizeUtil").isExactMatch(c,a)&&a[e-1]==" "?d=4:e===0?d=3:e>0&&a[e-1]==" "&&(d=2);return d}function k(a,b){__p&&__p();var c={},d=1;a.forEach(function(a){if(!a.name)return;var e=a.name,f=a.parent_category,g=a.path,h=a.untranslated_parent_name,i=e;g&&g.length&&(i=g.join(" > ")+" > "+e,h in c||(c[h]={id:null,key:h,uniqueID:d,name:h},d++));f in c||(c[f]={auxiliaryData:null,id:null,isDisabled:null,key:f,uniqueID:d,name:f,parentName:null,path:null,tooltip:null,unselectable:null},d++);i in c&&(b===!0||typeof i==="string")&&(i+=d);c[i]={auxiliaryData:a,id:a.id,isDisabled:a.isDisabled,key:i,uniqueID:d,name:a.name,parentName:f,path:g,tooltip:a.tooltip,unselectable:a.unselectable};d++},this);return c}var l=function(c){__p&&__p();babelHelpers.inheritsLoose(a,c);function a(a,b,d){var e;e=c.call(this)||this;b=a.dataCommandId+(b||"");if(h[b])return h[b]||babelHelpers.assertThisInitialized(e);else e.$KeplerBrowseableSearchSource1=a,e.$KeplerBrowseableSearchSource2=[],e.$KeplerBrowseableSearchSource3=d;return e}var d=a.prototype;d.dataToEntry=function(a){var c=new(b("SearchableEntry"))({auxiliaryData:a.auxiliaryData,uniqueID:a.id||a.uniqueID,title:a.name});Object.assign(c,a);return c};d.getEntriesAsTree=function(a){__p&&__p();var b={},c=[];a.forEach(function(a){__p&&__p();if(a.path){var d="",e;a.path.forEach(function(a){__p&&__p();!d?d=a:d=d+" > "+a;a=b[d];if(!a){var f=this.$KeplerBrowseableSearchSource4[d];a=this.dataToEntry(f);a.children=[];e?e.children.push(a):c.push(a);b[d]=a}e=a},this);e.children.push(a)}else c.push(a)},this);return c};d.getTreeData=function(a){this.$KeplerBrowseableSearchSource5?this.$KeplerBrowseableSearchSource6(a):(this.$KeplerBrowseableSearchSource2.push(this.$KeplerBrowseableSearchSource6.bind(this,a)),this.$KeplerBrowseableSearchSource7())};d.searchImpl=function(a,b,c){this.$KeplerBrowseableSearchSource4?this.$KeplerBrowseableSearchSource8(a,b,c):(this.$KeplerBrowseableSearchSource2.push(this.$KeplerBrowseableSearchSource8.bind(this,a,b,c)),this.$KeplerBrowseableSearchSource7())};d.$KeplerBrowseableSearchSource7=function(){if(this.$KeplerBrowseableSearchSource2.length!==1)return;this.$KeplerBrowseableSearchSource1.one(this.$KeplerBrowseableSearchSource9.bind(this))};d.reset=function(){this.$KeplerBrowseableSearchSource5=this.$KeplerBrowseableSearchSource4=null};d.$KeplerBrowseableSearchSource9=function(a){this.$KeplerBrowseableSearchSource4=k(a,this.$KeplerBrowseableSearchSource3);this.$KeplerBrowseableSearchSource5=b("AdsSearchBrowseUtils").generateTreeData(this.$KeplerBrowseableSearchSource4,!0);while(this.$KeplerBrowseableSearchSource2.length){a=this.$KeplerBrowseableSearchSource2.pop();a()}};d.getAdditionalEntry=function(a,c){if(!b("CurrentUser").isEmployee())return;b("promiseDone")(b("AdsGraphAPI").get(e.id).object("page",a).get({}),function(d){d=d.name;var e=[];e.push(new(b("SearchableEntry"))({uniqueID:a,title:d}));c(e,a)})};d.$KeplerBrowseableSearchSource8=function(a,c,d){__p&&__p();if(!a){c([],a);return}d=[];var e=a.toLowerCase();for(var f in this.$KeplerBrowseableSearchSource4){var h=this.$KeplerBrowseableSearchSource4[f];if(!h.id||h.unselectable)continue;var k=h.name;k=j(k,e);var l=0;if(h.path){var m=h.path.join(" ").toLowerCase();l=j(m,e)}k=k*10+l;if(!k)continue;m=this.dataToEntry(h);m.score=k;d.push(m);if(d.length>g)break}d.length==0&&b("isValidID")(a)&&this.getAdditionalEntry(a,c);d.sort(b("AdsSearchBrowseUtils").sortEntries);l=this.getEntriesAsTree(d);h=i(l);c(h,a)};d.$KeplerBrowseableSearchSource6=function(a){a(this.$KeplerBrowseableSearchSource5)};return a}(b("AbstractSearchSource"));l.getInstance=function(a,b,c){var d=a.dataCommandId+(b||"");h[d]||(h[d]=new l(a,b,c));return h[d]};e.exports=l}),null);
__d("XBusinessOverviewIndexController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/overview/",{business_creation_redirect_uri:{type:"String"}})}),null);
__d("XBusinessShareAudienceIndexController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/shared_audience/{?ad_account_id}/",{ad_account_id:{type:"String",required:!0},business_id:{type:"String",required:!0}})}),null);
__d("AdsDetailedTargetingPerformanceRating.react",["ix","cx","fbt","FDSText.react","Image.react","Layout.react","React","asset","fbglyph"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=b("Layout.react").Column,k=b("Layout.react").FillColumn;a=b("React").Component;var l=g("138206"),m=g("378139");function n(a){var c=a.max;a=a.rating;var d=[];for(var e=0;e<c;e++)d.push(b("React").jsx(b("Image.react"),{className:"_4dwd",src:e<a?l:m},e));return b("React").jsx(j,{className:"_4dwn",children:d})}function o(a){switch(a){case 1:return i._("Low");case 2:return i._("Below average");case 3:return i._("Average");case 4:return i._("Above average");case 5:return i._("High");default:return""}}function p(a){if(a>=0)return i._("{amount of dollar}\u0025 more conversions.",[i._param("amount of dollar",a)]);else return i._("{amount of dollar}\u0025 fewer conversions.",[i._param("amount of dollar",-a)])}c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props,c=a.conversionLift,d=a.max,e=a.name,f=a.rating,g=a.showPerformanceCost;a=a.spend;g=g===!0?b("React").jsx(b("Layout.react"),{children:b("React").jsxs(k,{className:"_4dws",children:[b("React").jsx(b("FDSText.react"),{color:"primary",size:"meta1",children:i._("You spent a total of {highlighted dollar spent of given descriptor} on this option across past campaigns,",[i._param("highlighted dollar spent of given descriptor",b("React").jsx("strong",{children:i._("${amount of dollar}",[i._param("amount of dollar",a)])}))])})," ",b("React").jsx(b("FDSText.react"),{color:"primary",size:"meta1",children:i._("which resulted in an average of {highlighted conversion lift sentence}",[i._param("highlighted conversion lift sentence",b("React").jsx("strong",{children:p(c)}))])})]})}):b("React").jsx(b("Layout.react"),{children:b("React").jsx(k,{className:"_4dws",children:b("React").jsx(b("FDSText.react"),{color:"primary",size:"meta1",children:i._("Based on the relative conversions and cost per conversion resulting from this option in your past campaigns.")})})});return b("React").jsxs("div",{className:"_4dwo",children:[b("React").jsx(b("Layout.react"),{children:b("React").jsx(k,{className:"_4dwp",children:b("React").jsx(b("FDSText.react"),{color:"primary",size:"meta1",weight:"bold",children:i._("Your past performance when using {descriptor name}",[i._param("descriptor name",'"'+e+'"')])})})}),b("React").jsxs(b("Layout.react"),{className:"_4dwq",children:[b("React").jsx(n,{max:d,rating:f}),b("React").jsx(k,{className:"_4dwr",children:b("React").jsx(b("FDSText.react"),{color:"primary",size:"meta1",children:o(f)})})]}),g]})};return c}(a);e.exports=c}),null);
__d("DatafileCustomAudienceSharingStatus",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({NO_RELATIONSHIP:1,PENDING_RELATIONSHIP:2,ACCEPTED_RELATIONSHIP:3})}),null);
__d("LetterboxEnumUtils",[],(function(a,b,c,d,e,f){"use strict";function g(a,b){return Object.keys(a).find(function(c){return a[c]===b})}function a(a,b){return b.map(function(b){return g(a,b)}).filter(Boolean)}e.exports={getEnumKey:g,getEnumKeys:a}}),null);
__d("XAdsTargetingValueBasedSourceLookalikeCreationController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ads/targeting/vblal/audience_source_vblal/",{audience_map:{type:"TypeAssert",required:!0},account_id:{type:"String",required:!0},source:{type:"Enum",required:!0,enumType:0},pass_converted_lal_status:{type:"Bool",defaultValue:!1}})}),null);
__d("KeplerBrowseableTokenizerView.react",["cx","AdsSBTokenizerConstants","AdsSBTokenizerPlusIcon.react","React","prop-types","ScrollableArea.react","isEmpty"],(function(a,b,c,d,e,f,g){__p&&__p();var h,i=b("React").Fragment,j=9,k=15,l=1,m=31,n=b("AdsSBTokenizerConstants").TYPEAHEAD.HEIGHT,o;a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$3=function(a,c){c=c||0;a=a.map(d.$4.bind(babelHelpers.assertThisInitialized(d),c));return b("React").jsx("ul",{className:"_1c2r",children:a})},d.$4=function(a,c){var e=c===d.props.highlightedEntry;e&&(d.$5=o);o++;var f=!!c.numLeafCategories,g=(f?"_5lrh":"")+(e?" _5lq-":"")+" _5lr4";g=b("React").jsx("li",{className:g,children:b("React").jsxs("div",{className:"_5lr3",style:{paddingLeft:j+a*k},onMouseDown:d.$6.bind(babelHelpers.assertThisInitialized(d),c),onMouseEnter:d.$7.bind(babelHelpers.assertThisInitialized(d),c),children:[c.getTitle(),b("React").jsx(b("AdsSBTokenizerPlusIcon.react"),{hidden:f,hovered:e})]})});if(c.children)var h=d.$3(c.children,a+1);return b("React").jsxs(i,{children:[g,h]},c.getUniqueID())},d.$6=function(a,b){a.numLeafCategories||d.props.onSelect(a,b)},d.$7=function(a,b){a.numLeafCategories||d.props.onHighlight(a,b)},d.$1=function(){if(!d.refs.scrollableArea)return;var a=l*m,b=d.refs.scrollableArea.getArea(),c=b.getScrollTop(),e=c+n,f=d.$5*m,g=f-a;f=f+m+a;g<c?b.setScrollTop(g):f>e&&b.setScrollTop(f-n)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidUpdate=function(){this.$1()};d.UNSAFE_componentWillMount=function(){this.$2=[]};d.UNSAFE_componentWillReceiveProps=function(a){a.entries!==this.props.entries&&(this.$2=this.props.searchSource.getEntriesAsTree(a.entries))};d.render=function(){if(this.props.hidden||(h||(h=b("isEmpty")))(this.$2))return null;o=0;var a=this.$3(this.$2);return b("React").jsx("div",{className:"_5lr2",style:{width:this.props.width},children:b("React").jsx(b("ScrollableArea.react"),{height:n,ref:"scrollableArea",width:this.props.width,children:a})})};return c}(b("React").Component);a.propTypes={entries:(c=b("prop-types")).array.isRequired,hidden:c.bool,highlightedEntry:c.object,onHighlight:c.func.isRequired,onSelect:c.func.isRequired,searchSource:c.object.isRequired,width:c.number.isRequired};e.exports=a}),null);
__d("KeplerPayload",["KeplerConstants"],(function(a,b,c,d,e,f){__p&&__p();a=function(){"use strict";__p&&__p();function a(){this.$1={},Object.keys(b("KeplerConstants").ActionType).forEach(function(a){var b=a.replace(/(\w)(\w+)/,function(a,b,c){return"queue"+b.toUpperCase()+c.toLowerCase()});this[b]=this.$2.bind(this,a)},this)}var c=a.prototype;c.get=function(a){return this.$1[a]};c.has=function(a){return Object.prototype.hasOwnProperty.call(this.$1,a)};c.$2=function(a,b){__p&&__p();this.$1[b]||(this.$1[b]=[]);var c;for(var d=arguments.length,e=new Array(d>2?d-2:0),f=2;f<d;f++)e[f-2]=arguments[f];if(e.length>1){c={};var g=c;while(e.length>2){var h=e.shift();g[h]={};g=g[h]}g[e[0]]=e[1]}else c=e[0];this.$1[b].push({data:c,type:a})};return a}();e.exports=a}),null);
__d("KeplerMetaDataActions",["KeplerConstants","KeplerDispatcher","KeplerPayload"],(function(a,b,c,d,e,f){a={resolve:function(a,c,d){var e=new(b("KeplerPayload"))();e.queueUpdate(b("KeplerConstants").Payload.METADATA,a,c,d);b("KeplerDispatcher").handleUpdateFromServer(e)},reject:function(a,c,d){var e=new(b("KeplerPayload"))();e.queueDelete(b("KeplerConstants").Payload.METADATA,a,c,d);b("KeplerDispatcher").handleUpdateFromServer(e)}};e.exports=a}),null);
__d("XAdsKeplerMetaDataController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ads/audience-insights/metadata/",{age:{type:"IntVector",defaultValue:[]},behavior_categories:{type:"IntVector",defaultValue:[]},city:{type:"IntVector",defaultValue:[]},college_years:{type:"IntVector",defaultValue:[]},custom_audiences:{type:"IntVector",defaultValue:[]},device_owners:{type:"IntVector",defaultValue:[]},education:{type:"IntVector",defaultValue:[]},education_majors:{type:"IntVector",defaultValue:[]},education_schools:{type:"IntVector",defaultValue:[]},engagement_specs:{type:"IntVector",defaultValue:[]},ethnic_affinity:{type:"IntVector",defaultValue:[]},excluded_engagement_specs:{type:"IntVector",defaultValue:[]},generation:{type:"IntVector",defaultValue:[]},home_ownership:{type:"IntVector",defaultValue:[]},home_type:{type:"IntVector",defaultValue:[]},home_value:{type:"IntVector",defaultValue:[]},household_composition:{type:"IntVector",defaultValue:[]},income:{type:"IntVector",defaultValue:[]},industries:{type:"IntVector",defaultValue:[]},interests:{type:"IntVector",defaultValue:[]},language:{type:"IntVector",defaultValue:[]},life_events:{type:"IntVector",defaultValue:[]},net_worth:{type:"IntVector",defaultValue:[]},not_city:{type:"IntVector",defaultValue:[]},not_page:{type:"IntVector",defaultValue:[]},not_region:{type:"IntVector",defaultValue:[]},office_type:{type:"IntVector",defaultValue:[]},page:{type:"IntVector",defaultValue:[]},family_statuses:{type:"IntVector",defaultValue:[]},party_affiliation:{type:"IntVector",defaultValue:[]},politics:{type:"IntVector",defaultValue:[]},private_categories:{type:"IntVector",defaultValue:[]},relationship:{type:"IntVector",defaultValue:[]},relationship_engaged:{type:"IntVector",defaultValue:[]},relationship_newlywed:{type:"IntVector",defaultValue:[]},region:{type:"IntVector",defaultValue:[]},work_employers:{type:"IntVector",defaultValue:[]},country:{type:"StringVector",defaultValue:[]},admarket_id:{type:"Int",defaultValue:-1},condition:{type:"Int",defaultValue:-1},display_type:{type:"Int",defaultValue:-1},gender:{type:"Int",defaultValue:-1},is_primary:{type:"Int",defaultValue:-1},logger_session_id:{type:"String"},metrics:{type:"EnumVector",defaultValue:[],enumType:{member:0}}})}),null);
__d("KeplerMetaDataSync",["invariant","Promise","AsyncRequest","KeplerActiveAdAccountStore","KeplerConstants","KeplerDaoGraph","KeplerMetaDataActions","SearchableEntry","XAdsKeplerMetaDataController","debounce","promiseDone"],(function(a,b,c,d,e,f,g){__p&&__p();var h=function(a,c){__p&&__p();switch(a){case b("KeplerConstants").PARAM_DEVICE_OWNERS:c=b("KeplerDaoGraph").fetch.keplerMobileDeviceOwnersForAccount.processData(c);break;case b("KeplerConstants").PARAM_PAGE:case b("KeplerConstants").PARAM_NOT_PAGE:c=b("KeplerDaoGraph").fetch.keplerConnectionObjectsForAccount.processData(c);break;case b("KeplerConstants").PARAM_ENGAGEMENT_SPECS:case b("KeplerConstants").PARAM_EXCLUDED_ENGAGEMENT_SPECS:var d={};c.forEach(function(a){d[a.rule_id]={},d[a.rule_id].id=a.rule_id,d[a.rule_id].name=a.description,d[a.rule_id].rule=a.rule});c=[];Object.keys(d).forEach(function(a){c.push(d[a])});break}var e;switch(a){case b("KeplerConstants").PARAM_CITY:case b("KeplerConstants").PARAM_NOT_CITY:case b("KeplerConstants").PARAM_NOT_REGION:case b("KeplerConstants").PARAM_REGION:e={};c.forEach(function(a){return e[a.key]=a});return e;case b("KeplerConstants").PARAM_COUNTRY:case b("KeplerConstants").PARAM_NOT_COUNTRY:g(0,1690);return;default:e={};c.forEach(function(a){var c=a.id||a.key,d=new(b("SearchableEntry"))({auxiliaryData:a,title:a.name,uniqueID:c});d.path=a.path||[];d.path.length&&(d.isInHierarchy=!0,d.path[d.path.length-1]===d.getTitle()&&d.path.pop());e[c]=d});return e}},i=function(a){return new(b("Promise"))(function(b,c){return a.setHandler(b).setErrorHandler(c).send()})},j=function(a){__p&&__p();var c={};a.forEach(function(a){var b=a.filterName;a=a.id;c[b]=c[b]||[];c[b].push(a)});a=b("XAdsKeplerMetaDataController").getURIBuilder().setInt(b("KeplerConstants").FILTER_SET_PARAM_ADMARKET_ID,b("KeplerActiveAdAccountStore").getAdmarketID()).getURI();a=new(b("AsyncRequest"))().setAllowCrossPageTransition(!0).setData(c).setMethod("GET").setReadOnly(!0).setURI(a);return i(a).then(function(b){var a={};Object.keys(b.payload).forEach(function(c){return a[c]=h(c,b.payload[c])});return a})},k=function(a){__p&&__p();b("promiseDone")(j(a),function(c){a.forEach(function(d){var a=d.filterName;d=d.id;d in(c[a]||{})||b("KeplerMetaDataActions").reject(a,d,null)});for(var d in c)for(var e in c[d]){var f=c[d][e];b("KeplerMetaDataActions").resolve(d,e,f)}},function(c){a.forEach(function(a){var d=a.filterName;a=a.id;b("KeplerMetaDataActions").reject(d,a,c)});throw c})},l=[],m=b("debounce")(function(){k(l),l=[]},50);a={fetch:function(a,b){l.push({filterName:a,id:b}),m()}};e.exports=a}),null);
__d("KeplerMetaDataStore",["invariant","ArbiterMixin","Deferred","FBLogger","KeplerConstants","KeplerDispatcher","KeplerMetaDataSync","SearchableEntry"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(){__p&&__p();function a(a){this.filterName=a,this.entries={},this.promises={}}var c=a.prototype;c.$1=function(a){this.promises[a]||(this.promises[a]=new(b("Deferred"))());return this.promises[a]};c.getPromise=function(a){this.promises[a]||this.fetch(a);return this.$1(a).getPromise().then()["catch"]()};c.get=function(a){this.getPromise(a);return this.entries[a]};c.resolve=function(a,b){a in this.entries||(this.$1(a).resolve(b),this.entries[a]=b)};c.reject=function(a,c){a in this.entries||(this.$1(a).reject(c),this.entries[a]=void 0,b("FBLogger")("kepler").mustfix("Cannot fetch metadata for filterName=%s id=%s",this.filterName,a))};c.fetch=function(a){return b("KeplerMetaDataSync").fetch(this.filterName,a)};c.getDefault=function(a){throw new Error("Not implemented")};return a}();var h=function(c){babelHelpers.inheritsLoose(a,c);function a(){return c.apply(this,arguments)||this}var d=a.prototype;d.getDefault=function(a){return new(b("SearchableEntry"))({title:a,uniqueID:a})};return a}(a),i=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}var c=a.prototype;c.getDefault=function(a){return{key:a,name:a}};return a}(a),j=babelHelpers["extends"]({},b("ArbiterMixin"),{buckets:{},_createBucket:function(a){switch(a){case b("KeplerConstants").PARAM_CITY:case b("KeplerConstants").PARAM_NOT_CITY:case b("KeplerConstants").PARAM_NOT_REGION:case b("KeplerConstants").PARAM_REGION:return new i(a);case b("KeplerConstants").PARAM_COUNTRY:case b("KeplerConstants").PARAM_NOT_COUNTRY:g(0,1690);return null;default:return new h(a)}},getBucket:function(a){this.buckets[a]||(this.buckets[a]=this._createBucket(a));return this.buckets[a]},get:function(a,b){return this.getBucket(a).get(b)},getImmediately:function(a,b){return this.get(a,b)},getMulti:function(a,b){return b.map(this.get.bind(this,a))},getPromise:function(a,b){return this.getBucket(a).getPromise(b)},getDefault:function(a,b){return this.getBucket(a).getDefault(b)},getDefaultMulti:function(a,b){return b.map(this.getDefault.bind(this,a))},getOrDefault:function(a,b){a=this.getBucket(a);return a.get(b)||a.getDefault(b)},getOrDefaultMulti:function(a,b){return b.map(this.getOrDefault.bind(this,a))},handleAction:function(a){__p&&__p();var c=this;switch(a.type){case b("KeplerConstants").ActionType.UPDATE:Object.keys(a.data).forEach(function(b){var d=c.getBucket(b),e=a.data[b];Object.keys(e).forEach(function(a){return d.resolve(a,e[a])})});break;case b("KeplerConstants").ActionType.DELETE:Object.keys(a.data).forEach(function(b){var d=c.getBucket(b),e=a.data[b];Object.keys(e).forEach(function(a){return d.reject(a,e[a])})});break}},handlePayload:function(a){a=a.get(b("KeplerConstants").Payload.METADATA);a&&(a.forEach(this.handleAction,this),this.inform("change"))},toUpdate:b("KeplerDispatcher").register(function(a){return j.handlePayload(a)})});e.exports=j}),null);
__d("KeplerTokenizerMixin",["KeplerMetaDataActions","KeplerMetaDataStore"],(function(a,b,c,d,e,f){__p&&__p();a={UNSAFE_componentWillMount:function(){this._mixinSubscription=b("KeplerMetaDataStore").subscribe("change",this._handleMetaDataChange)},componentWillUnmount:function(){this._mixinSubscription.unsubscribe()},addEntry:function(a){__p&&__p();var c=a.getUniqueID(),d=(this.props.value||[]).slice();if(d.indexOf(c)===-1){b("KeplerMetaDataActions").resolve(this.props.name,c,a);d.push(c);c=b("KeplerMetaDataStore").getOrDefaultMulti(this.props.name,d);var e={};c.forEach(function(a){e[a.getUniqueID()]=a.getTitle().toLowerCase()});d.sort(function(a,b){return e[a].localeCompare(e[b])});this.props.onChange({target:{value:d}});this.props.onAddEntry&&this.props.onAddEntry(a);return!0}return!1},addEntries:function(a){a.forEach(this.addEntry)},_handleMetaDataChange:function(){this.forceUpdate()},removeEntry:function(a){var b=a.getUniqueID(),c=this.props.value||[];b=c.indexOf(b);b!==-1&&(c.splice(b,1),this.props.onChange({target:{value:c}}),this.props.onRemoveEntry&&this.props.onRemoveEntry(a))},removeEntries:function(a){a.forEach(this.removeEntry)}};e.exports=a}),null);
__d("KeplerBrowseableTokenizer.react",["cx","AdsCFLoggerInternal","AdsSBAreaClicked","AdsSBTokenizerExpandableList.react","AdsSBTypeahead.react","AdsSearchBrowseTokenizerList.react","KeplerActiveAdAccountStore","KeplerBrowseableTokenizerView.react","KeplerMetaDataStore","KeplerTokenizerMixin","React","createReactClass_DEPRECATED","joinClasses","keyMirror","prop-types"],(function(a,b,c,d,e,f,g){__p&&__p();var h=30,i=400,j={ViewRenderer:b("KeplerBrowseableTokenizerView.react"),alwaysVisibleOnFocus:!1,useLayer:!0},k=b("keyMirror")({BROWSE:null,DEFAULT:null,SEARCH:null}),l="kbt_",m=0;c=b("createReactClass_DEPRECATED")({displayName:"KeplerBrowseableTokenizer",mixins:[b("KeplerTokenizerMixin")],propTypes:{className:(a=b("prop-types")).string,excludedEntries:a.object,listWidth:a.number,logger:a.object,maxEntries:a.number,openPath:a.array,placeholder:a.string,processTreeData:a.func,renderDefaultPath:a.bool,searchSource:a.func,validationSource:a.object,value:a.array},getDefaultProps:function(){return{logger:b("AdsCFLoggerInternal"),listWidth:i}},getInitialState:function(){return{activeState:k.DEFAULT,openPath:this.props.openPath,treeData:[],typeaheadVisible:!1,uniqueID:l+ ++m}},UNSAFE_componentWillMount:function(){b("AdsSBAreaClicked").init(),b("AdsSBAreaClicked").subscribe(this.state.uniqueID,this._handleOutsideComponentClick),this._subscription=b("KeplerActiveAdAccountStore").subscribe("change",this._handleActiveAdAccountChange),this._handleActiveAdAccountChange()},componentWillUnmount:function(){this._subscription.unsubscribe(),b("AdsSBAreaClicked").unsubscribe(this.state.uniqueID)},_handleActiveAdAccountChange:function(){var a=this.props.searchSource();a.getTreeData(this._handleTreeData)},_handleClick:function(){b("AdsSBAreaClicked").setAreaClicked(this.state.uniqueID,!0),this.state.typeaheadVisible?this.setState({activeState:k.SEARCH}):this.state.treeData.length&&this.setState({activeState:k.BROWSE})},_handleOpenPath:function(a){this.setState({activeState:k.BROWSE,openPath:a})},_handleOutsideComponentClick:function(){this.setState({activeState:k.DEFAULT})},_handleSelectAttempt:function(a){b("AdsSBAreaClicked").setAreaClicked(this.state.uniqueID,!0),a&&!a.numLeafCategories&&this.addEntry(a),this.setState({activeState:k.BROWSE})},_handleTreeData:function(a){this.props.processTreeData&&(a=this.props.processTreeData(a)),this.setState({treeData:a})},_handleTypeaheadVisibilityChanged:function(a){var b=a?k.SEARCH:k.BROWSE;this.setState({activeState:b,typeaheadVisible:a})},render:function(){__p&&__p();var a=this.props.searchSource(),c=babelHelpers["extends"]({},j);c.maxEntries=this.props.maxEntries;c.extraRendererProps={hidden:this.state.activeState===k.DEFAULT,searchSource:a,width:i};var d=this.props.value||[];d=b("KeplerMetaDataStore").getOrDefaultMulti(this.props.name,d);var e=babelHelpers["extends"]({},this.props.excludedEntries);d.forEach(function(a){return e[a.getUniqueID()]=a});var f=b("joinClasses")("_5uhb","_4t45",this.props.className);return b("React").jsxs("div",{className:f,children:[b("React").jsx(b("AdsSearchBrowseTokenizerList.react"),{entries:d,openToPath:this._handleOpenPath,renderDefaultPath:this.props.renderDefaultPath,showAnimation:!1,onMultiRemoveEntries:this.removeEntries,onRemoveEntry:this.removeEntry}),b("React").jsx(b("AdsSBTypeahead.react"),{clearTypeaheadOnSelect:!1,excludedEntries:e,placeholder:this.props.placeholder,presenter:c,ref:"typeahead",searchSource:a,validationSource:this.props.validationSource,onMouseDown:this._handleClick,onMultiAddEntries:this.addEntries,onSelectAttempt:this._handleSelectAttempt,onTypeaheadVisibilityChanged:this._handleTypeaheadVisibilityChanged}),b("React").jsx(b("AdsSBTokenizerExpandableList.react"),{className:"_4nyp",data:this.state.treeData,dataSource:a,hidden:this.state.activeState!==k.BROWSE,logger:this.props.logger,openPath:this.state.openPath,openToPath:this._handleOpenPath,rowHeight:h,selectedEntryIDs:e,showWhitebox:!1,uniqueID:this.state.uniqueID,width:this.props.listWidth,onAddEntryAttempt:this.addEntry})]})}});e.exports=c}),null);
__d("KeplerButtonGroup.react",["cx","invariant","KeplerConstants","React","XUIButton.react","XUIButtonGroup.react","isFalsey","joinClasses","prop-types"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=0,j=2;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(a,c){var e="_5qxv"+(c===i?" _5qxw":"")+(c===j?" _5qxx":""),f;b("KeplerConstants").UseTargetSpec?f=a.value?a.value:null:f=a.value?String(a.value):null;e=babelHelpers["extends"]({},a,{className:e,key:c,onClick:d.$2.bind(babelHelpers.assertThisInitialized(d),a.value),size:"large",type:"button",use:d.$3(f)?"confirm":"default"});return b("React").jsx(b("XUIButton.react"),babelHelpers["extends"]({},e,{label:a.label}))},d.$2=function(a,b){__p&&__p();if(!b)return;b=b.target;while(b.tagName.toLowerCase()!=="button"){b=b.parentNode;if(b===document)return}b=babelHelpers["extends"]({},b,{value:a});if(b.value===d.props.value)return;d.props.onChange({target:b})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$3=function(a){return a==this.props.value||b("isFalsey")(a)&&!this.props.value};d.render=function(){var a=this.props.buttons.map(this.$1),c=b("joinClasses")("_5qxy",this.props.className);return b("React").jsx("div",{className:c,children:b("React").jsx(b("XUIButtonGroup.react"),{ref:"xuiButtonGroup",children:a})})};return c}(b("React").Component);a.propTypes={buttons:b("prop-types").array.isRequired,onChange:b("prop-types").func.isRequired};e.exports=a}),null);
__d("KeplerCheckableInput.react",["cx","InputLabel.react","KeplerMetaDataStore","React","XUICheckboxInput.react","XUIRadioInput.react","joinClasses","prop-types"],(function(a,b,c,d,e,f,g){__p&&__p();var h={checkbox:b("XUICheckboxInput.react"),radio:b("XUIRadioInput.react")};a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=h[this.props.type];a=b("React").jsx(a,babelHelpers["extends"]({},this.props));this.props.checked&&this.props.value&&b("KeplerMetaDataStore").get(this.props.name,String(this.props.value));var c=b("joinClasses")("_2how",this.props.className);return b("React").jsx(b("InputLabel.react"),{className:c,label:this.props.label,children:a})};return c}(b("React").Component);a.propTypes={className:(c=b("prop-types")).string,checked:c.bool,label:c.string.isRequired,name:c.string,onChange:c.func.isRequired,type:c.oneOf(["checkbox","radio"]).isRequired,value:c.oneOfType([c.number,c.string])};e.exports=a}),null);
__d("KeplerConnectionValidationSource",["AdsInsightsConfig","KeplerActiveAdAccountStore","SearchableEntry"],(function(a,b,c,d,e,f){__p&&__p();a={getMetadata:function(a,c){__p&&__p();var d=Number(a[0]);if(d&&b("AdsInsightsConfig").canSeeInsights){a=b("KeplerActiveAdAccountStore").getDao();a.fetch.keplerConnectionObjectsForAccount.one(function(a){a=a&&a[0];if(a&&a.id===String(d)){var e=new(b("SearchableEntry"))({uniqueID:a.id||a.uniqueID,title:a.name});Object.assign(e,a);c([e])}}.bind(this),{extra_fbids:[d],extra_only:!0})}}};e.exports=a}),null);
__d("KeplerConnectionTokenizer.react",["KeplerBrowseableTokenizer.react","KeplerConnectionValidationSource","KeplerConstants","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=1;var g=b("KeplerConstants").ConnectionType[a].name,h={};c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$3=function(a){a.sort(function(a,b){return a.name===g?-1:1});c.props.processTreeData&&(a=c.props.processTreeData(a));return a},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.UNSAFE_componentWillReceiveProps=function(a){if(this.props.value&&this.props.value.length){var b=this.props.value.filter(function(b){return!a.value||a.value.indexOf(b)===-1});b.forEach(function(a){delete h[a]})}};d.$1=function(a){h[a.getUniqueID()]=a};d.$2=function(a){delete h[a.getUniqueID()]};d.render=function(){return b("React").jsx(b("KeplerBrowseableTokenizer.react"),babelHelpers["extends"]({},this.props,{excludedEntries:h,processTreeData:this.$3,validationSource:b("KeplerConnectionValidationSource"),onAddEntry:this.$1,onRemoveEntry:this.$2}))};return c}(b("React").Component);e.exports=c}),null);
__d("KeplerCustomAudienceValidationSource",["KeplerConstants","KeplerMetaDataStore"],(function(a,b,c,d,e,f){a={getMetadata:function(a,c){a.forEach(function(a){return b("KeplerMetaDataStore").getPromise(b("KeplerConstants").PARAM_CUSTOM_AUDIENCES,a).then(function(a){return c([a])})})}};e.exports=a}),null);
__d("KeplerEngagementSpecValidationSource",["AdsInsightsConfig","KeplerActiveAdAccountStore","SearchableEntry"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={getMetadata:function(a,c){__p&&__p();var d=Number(a[0]);if(d&&b("AdsInsightsConfig").canSeeInsights){a=b("KeplerActiveAdAccountStore").getDao();a.fetch.keplerEngagementInsightsRulesForAccount.one(function(a){a=a&&a[0];if(a&&a.rule_id===String(d)){var e=new(b("SearchableEntry"))({uniqueID:a.rule_id||a.uniqueID,title:a.description,auxiliaryData:a});Object.assign(e,a);c([e])}}.bind(this),{rule_ids:[d]})}}};e.exports=a}),null);
__d("KeplerEngagementSpecTokenizer.react",["KeplerBrowseableTokenizer.react","KeplerEngagementSpecValidationSource","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g={};a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.UNSAFE_componentWillReceiveProps=function(a){if(this.props.value&&this.props.value.length){var b=this.props.value.filter(function(b){return!a.value||a.value.indexOf(b)===-1});b.forEach(function(a){delete g[a]})}};d.$1=function(a){g[a.getUniqueID()]=a};d.$2=function(a){delete g[a.getUniqueID()]};d.render=function(){return b("React").jsx(b("KeplerBrowseableTokenizer.react"),babelHelpers["extends"]({},this.props,{excludedEntries:g,validationSource:b("KeplerEngagementSpecValidationSource"),onAddEntry:this.$1,onRemoveEntry:this.$2}))};return c}(b("React").Component);e.exports=a}),null);
__d("AdsPreferencesConstants",[],(function(a,b,c,d,e,f){a={CATEGORY_FILTERS:{NONE:"none",PAGE_LIKES:"page_likes",APP_INSTALLS:"app_installs",AD_CLICKS:"add_clicks",USER_ADDED:"user_added",BEHAVIORS:"behaviors",DEMOGRAPHICS:"demographics"}};e.exports=a}),null);
__d("XAdPreferencesReportController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ads/preferences/report/",{fbid:{type:"Int"},action:{type:"String",required:!0},name:{type:"String"},reason:{type:"String"}})}),null);
__d("KeplerInterestTokenizer.react",["cx","AdsSearchBrowseInterests.react","KeplerConstants","KeplerMetaDataActions","KeplerMetaDataStore","React","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=430,i=204;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$2=function(a){a.forEach(function(a){return b("KeplerMetaDataActions").resolve(b("KeplerConstants").PARAM_INTERESTS,a.getUniqueID(),a)});a=a.map(function(a){return a.getUniqueID()});d.props.onChange({target:{value:a}})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.UNSAFE_componentWillMount=function(){var a=this;this.$1=[b("KeplerMetaDataStore").subscribe("change",function(){return a.forceUpdate()})]};d.componentWillUnmount=function(){this.$1.forEach(function(a){return a.unsubscribe()})};d.render=function(){var a=b("joinClasses")("_5uhb","_5u1_",this.props.className),c=b("KeplerMetaDataStore").getOrDefaultMulti(b("KeplerConstants").PARAM_INTERESTS,this.props.value||[]);return b("React").jsx("div",{className:a,children:b("React").jsx(b("AdsSearchBrowseInterests.react"),{className:"_5u20",dao:this.props.dao(),entries:c,hideArrow:!0,hideBrowseButton:!0,hideSuggestions:!0,listWidth:h,placeholder:this.props.placeholder,retrievePrefillSuggestions:!1,showAnimation:!1,showWhiteBox:!1,width:i,onChange:this.$2})})};return c}(b("React").Component);e.exports=a}),null);
__d("KeplerLocationValidator",["fbt","LocationConstants","curry"],(function(a,b,c,d,e,f,g){__p&&__p();var h=g._("We currently only support filtering by cities and regions in the same country.");function i(a,c){var d=c.getAuxiliaryData();c=c.getType()===b("LocationConstants").COUNTRIES?"key":"country_code";return d[c]!==a}function j(a,b){return b.getType()!==a}a={determineInvalidEntry:function(a,c){__p&&__p();var d;c=[];var e=a[a.length-1];if(e){var f=e.getType(),g=e.getAuxiliaryData().country_code;c=c.concat(a.filter(b("curry")(j,f)));var k=c.length===1&&c[0].getAuxiliaryData().key===g;if(k){e=c[0];return{errorDescription:d,invalidEntry:c.length&&e,subsetEntries:c,suppressValidation:!d}}if(c.length){d=h;return{errorDescription:d,invalidEntry:c.length&&e,subsetEntries:c,suppressValidation:!d}}f!==b("LocationConstants").COUNTRIES&&(c=c.concat(a.filter(b("curry")(i,g))),c.length&&(d=h))}return{errorDescription:d,invalidEntry:c.length&&e,subsetEntries:c,suppressValidation:!d}}};e.exports=a}),null);
__d("KeplerLocationTokenizer.react",["cx","invariant","AdsGeoLocationTokenizer.react","KeplerConstants","KeplerLocationValidator","LocationConstants","React","isEmpty","joinClasses","prop-types"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j="geoLocations",k="excludedGeoLocations";a=function(){__p&&__p();var d,e=[(d=b("KeplerConstants")).PARAM_CITY,d.PARAM_COUNTRY,d.PARAM_REGION];d=[d.PARAM_NOT_CITY,d.PARAM_NOT_COUNTRY,d.PARAM_NOT_REGION];var f=[b("LocationConstants").CITIES,b("LocationConstants").COUNTRIES,b("LocationConstants").REGIONS],a={};e.forEach(function(b,c){a[b]=[j,f[c]]});d.forEach(function(b,c){a[b]=[k,f[c]]});var c={};c[j]={};c[k]={};e.forEach(function(a,b){c[j][f[b]]=a});d.forEach(function(a,b){c[k][f[b]]=a});return[function(b){return a[b]},function(a,b){return(c[a]||{})[b]}]}();var l=a[0],m=a[1];c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(b=d=a.call.apply(a,[this].concat(f))||this,d.state={countries:{}},d.$2=function(a){a=c.fromStoredData(a);d.props.onChange({target:{value:a}})},d.$1=function(a){d.setState({countries:a})},b)||babelHelpers.assertThisInitialized(d)}c.toStoredData=function(a){__p&&__p();if(b("KeplerConstants").UseTargetSpec)return a;var c={};for(var d in a){var e=l(d),f=e[0];e=e[1];var g=a[d]||[];g=e===b("LocationConstants").COUNTRIES?g:g.map(function(a){return{key:a}});c[f]=c[f]||{};c[f][e]=g}return c};c.fromStoredData=function(a){__p&&__p();if(b("KeplerConstants").UseTargetSpec)return a;a[j]||h(0,2184,j);a[k]||h(0,2184,k);var c={};for(var d in a)for(var e in a[d]){var f=a[d][e];f=e===b("LocationConstants").COUNTRIES?f:f.map(function(a){return a.key});var g=m(d,e);c[g]=f}return c};var d=c.prototype;d.UNSAFE_componentWillMount=function(){this.props.dao().fetch.countries.one(this.$1)};d.render=function(){var a=b("joinClasses")("_5uhb","_5tp6",this.props.className),d=this.props.value||{},e=!(i||(i=b("isEmpty")))(this.state.countries);e=e?c.toStoredData(d):{};d={disallowedLocationTypes:new Set([b("LocationConstants").COUNTRY_GROUPS,b("LocationConstants").CUSTOM_LOCATIONS,b("LocationConstants").ELECTORAL_DISTRICTS,b("LocationConstants").PLACES,b("LocationConstants").ZIPS]),location_types:[b("LocationConstants").COUNTRY,b("LocationConstants").CITY,b("LocationConstants").REGION]};return b("React").jsx("div",{className:a,children:b("React").jsx(b("AdsGeoLocationTokenizer.react"),{className:"_5tp7",countries:this.state.countries,determineInvalidEntry:b("KeplerLocationValidator").determineInvalidEntry,highlightNewItems:!1,placeholder:this.props.placeholder,searchSourceOptions:d,smallestEntry:b("LocationConstants").CITIES,storedData:e,supportsRadius:!1,onChange:this.$2})})};return c}(b("React").Component);c.INCLUDE_KEY=j;c.EXCLUDE_KEY=k;c.toLocationType=l;c.fromLocationType=m;c.propTypes={dao:(d=b("prop-types")).func.isRequired,placeholder:d.string,value:d.object,onChange:d.func.isRequired};e.exports=c}),null);
__d("KeplerTokenizer.react",["cx","AdsSearchBrowseTokenizerList.react","KeplerMetaDataStore","KeplerTokenizerMixin","React","XUITypeahead.react","createReactClass_DEPRECATED","joinClasses","prop-types"],(function(a,b,c,d,e,f,g){__p&&__p();c=b("createReactClass_DEPRECATED")({displayName:"KeplerTokenizer",mixins:[b("KeplerTokenizerMixin")],propTypes:{className:(a=b("prop-types")).string,excludedEntries:a.object,isFlat:a.bool,onAddEntry:a.func,onChange:a.func.isRequired,onRemoveEntry:a.func,placeholder:a.string,searchSource:a.func.isRequired,value:a.array},getInitialState:function(){return{entries:this.props.value||[],queryString:""}},_handleSelectAttempt:function(a){a&&(this.addEntry(a)&&this.setState({queryString:""}))},_handleTypeaheadChange:function(a){this.setState({queryString:a.target.value})},render:function(){var a=this.props.searchSource.call(this),c=this.props.value||[];c=b("KeplerMetaDataStore").getOrDefaultMulti(this.props.name,c);var d=babelHelpers["extends"]({},this.props.excludedEntries);c.forEach(function(a){return d[a.getUniqueID()]=a});var e=this.state.queryString?null:this.props.placeholder,f=b("joinClasses")("_5uhb",this.props.className);return b("React").jsxs("div",{className:f,children:[b("React").jsx(b("AdsSearchBrowseTokenizerList.react"),{entries:c,isFlat:this.props.isFlat,renderDefaultPath:!1,showAnimation:!1,onMultiRemoveEntries:this.removeEntries,onRemoveEntry:this.removeEntry}),b("React").jsx(b("XUITypeahead.react"),{autoHighlight:!0,excludedEntries:d,placeholder:e,queryString:this.state.queryString,ref:"typeahead",searchSource:a,viewStyle:"textonly",onChange:this._handleTypeaheadChange,onSelectAttempt:this._handleSelectAttempt})]})}});e.exports=c}),null);
__d("KeplerFieldsetConfig",["fbt","AdsSimpleSearchSource_DEPRECATED","KeplerActiveAdAccountStore","KeplerAgeRange.react","KeplerBrowseableSearchSource","KeplerBrowseableTokenizer.react","KeplerButtonGroup.react","KeplerCheckableInput.react","KeplerConnectionTokenizer.react","KeplerConstants","KeplerCustomAudienceValidationSource","KeplerEngagementSpecTokenizer.react","KeplerInterestTokenizer.react","KeplerLocationTokenizer.react","KeplerTokenizer.react","curry","d3-old/core/range"],(function(a,b,c,d,e,f,g){__p&&__p();c=function(){var a=b("KeplerActiveAdAccountStore").getDao();return b("KeplerBrowseableSearchSource").getInstance(a.fetch.pagesForUser)};d=c;function a(a){var c=b("KeplerActiveAdAccountStore").getDao();return b("AdsSimpleSearchSource_DEPRECATED").getInstance(c.fetch[a])}var h={advanced:{collapsed:!0,legend:g._("Advanced")},ageGender:{legend:g._("Age and Gender"),filters:[{name:b("KeplerConstants").UseTargetSpec?[b("KeplerConstants").PARAM_AGE_MIN,b("KeplerConstants").PARAM_AGE_MAX]:b("KeplerConstants").PARAM_AGE,heading:g._("Age"),inputProps:{inputs:[{defaultValues:b("d3-old/core/range")(18,66)},{defaultValues:b("d3-old/core/range")(18,66),hasEmptyValue:!0}]},inputType:b("KeplerAgeRange.react")},{name:b("KeplerConstants").PARAM_GENDER,className:"mtm",heading:g._("Gender"),inputProps:{buttons:[{label:g._("All"),value:b("KeplerConstants").GENDER_ALL},{label:g._("Men"),value:b("KeplerConstants").GENDER_MALE},{label:g._("Women"),value:b("KeplerConstants").GENDER_FEMALE}]},inputType:b("KeplerButtonGroup.react")}]},connections:{legend:g._("Connections")},connections_pages:{id:b("KeplerConstants").Start.CONNECTIONS,legend:g._("Pages"),filters:[{name:b("KeplerConstants").PARAM_PAGE,heading:g._("People Connected to"),inputProps:{openPath:["Page"],placeholder:g._("Your Page"),searchSource:d},inputType:b("KeplerConnectionTokenizer.react")},{name:b("KeplerConstants").PARAM_NOT_PAGE,className:"mtm",heading:g._("People Not Connected to"),inputProps:{openPath:["Page"],placeholder:g._("Your Page"),searchSource:d},inputType:b("KeplerConnectionTokenizer.react")}]},connections_videos:{legend:g._("Videos"),filters:[{name:b("KeplerConstants").PARAM_ENGAGEMENT_SPECS,heading:g._("Include"),inputProps:{placeholder:g._("Your video"),renderDefaultPath:!1,searchSource:function(){var a=b("KeplerActiveAdAccountStore").getDao();return b("KeplerBrowseableSearchSource").getInstance(a.fetch.keplerEngagementInsightsRulesForAccount,b("KeplerActiveAdAccountStore").getLegacyAccountID())}},inputType:b("KeplerEngagementSpecTokenizer.react")},{name:b("KeplerConstants").PARAM_EXCLUDED_ENGAGEMENT_SPECS,heading:g._("Exclude"),className:"mtm",inputProps:{placeholder:g._("Your video"),renderDefaultPath:!1,searchSource:function(){var a=b("KeplerActiveAdAccountStore").getDao();return b("KeplerBrowseableSearchSource").getInstance(a.fetch.keplerEngagementInsightsRulesForAccount,b("KeplerActiveAdAccountStore").getLegacyAccountID())}},inputType:b("KeplerEngagementSpecTokenizer.react")}]},customAudience:{collapsed:!0,id:b("KeplerConstants").Start.CUSTOM_AUDIENCE,legend:g._("Custom Audience"),filters:[{name:b("KeplerConstants").PARAM_CUSTOM_AUDIENCES,inputProps:{placeholder:g._("Custom Audience"),renderDefaultPath:!1,searchSource:function(){var a=b("KeplerActiveAdAccountStore").getDao();return b("KeplerBrowseableSearchSource").getInstance(a.fetch.keplerCustomAudiencesForAccount,b("KeplerActiveAdAccountStore").getLegacyAccountID(),!0)},validationSource:b("KeplerCustomAudienceValidationSource")},inputType:b("KeplerBrowseableTokenizer.react")}]},deviceOwners:{collapsed:!0,legend:g._("Device Owners"),filters:[{name:b("KeplerConstants").PARAM_DEVICE_OWNERS,inputProps:{placeholder:g._("Device Owner"),renderDefaultPath:!1,searchSource:function(){var a=b("KeplerActiveAdAccountStore").getDao();return b("KeplerBrowseableSearchSource").getInstance(a.fetch.keplerMobileDeviceOwnersForAccount,b("KeplerActiveAdAccountStore").getLegacyAccountID())}},inputType:b("KeplerBrowseableTokenizer.react")}]},education:{collapsed:!0,legend:g._("Education"),filters:[{name:b("KeplerConstants").PARAM_EDUCATION,inputProps:{label:g._("High School"),type:"checkbox",value:b("KeplerConstants").EDUCATION_HIGH_SCHOOL},inputType:b("KeplerCheckableInput.react")},{name:b("KeplerConstants").PARAM_EDUCATION,inputProps:{label:g._("University"),type:"checkbox",value:b("KeplerConstants").EDUCATION_COLLEGE_UNDERGRAD},inputType:b("KeplerCheckableInput.react")},{name:b("KeplerConstants").PARAM_EDUCATION,inputProps:{label:g._("University (postgraduate)"),type:"checkbox",value:b("KeplerConstants").EDUCATION_COLLEGE_ALUMNUS},inputType:b("KeplerCheckableInput.react")}]},financial:{collapsed:!0,legend:g._("Financial"),filters:[{name:b("KeplerConstants").PARAM_INCOME,heading:g._("Income"),inputProps:{label:g._("$30,000\u2013$40,000"),type:"checkbox",value:b("KeplerConstants").INCOME_OVER_30K},inputType:b("KeplerCheckableInput.react")},{name:b("KeplerConstants").PARAM_INCOME,inputProps:{label:g._("$40,000\u2013$50,000"),type:"checkbox",value:b("KeplerConstants").INCOME_OVER_40K},inputType:b("KeplerCheckableInput.react")},{name:b("KeplerConstants").PARAM_INCOME,inputProps:{label:g._("$50,000\u2013$75,000"),type:"checkbox",value:b("KeplerConstants").INCOME_OVER_50K},inputType:b("KeplerCheckableInput.react")},{name:b("KeplerConstants").PARAM_INCOME,inputProps:{label:g._("$75,000\u2013$100,000"),type:"checkbox",value:b("KeplerConstants").INCOME_OVER_75K},inputType:b("KeplerCheckableInput.react")},{name:b("KeplerConstants").PARAM_INCOME,inputProps:{label:g._("$100,000\u2013$125,000"),type:"checkbox",value:b("KeplerConstants").INCOME_OVER_100K},inputType:b("KeplerCheckableInput.react")},{name:b("KeplerConstants").PARAM_INCOME,inputProps:{label:g._("$125,000 - $150,000"),type:"checkbox",value:b("KeplerConstants").INCOME_OVER_125K},inputType:b("KeplerCheckableInput.react")},{name:b("KeplerConstants").PARAM_INCOME,inputProps:{label:g._("$150,000 - $250,000"),type:"checkbox",value:b("KeplerConstants").INCOME_OVER_150K},inputType:b("KeplerCheckableInput.react")},{name:b("KeplerConstants").PARAM_INCOME,inputProps:{label:g._("$250,000 - $350,000"),type:"checkbox",value:b("KeplerConstants").INCOME_OVER_250K},inputType:b("KeplerCheckableInput.react")},{name:b("KeplerConstants").PARAM_INCOME,inputProps:{label:g._("$350,000 - $500,000"),type:"checkbox",value:b("KeplerConstants").INCOME_OVER_350K},inputType:b("KeplerCheckableInput.react")},{name:b("KeplerConstants").PARAM_INCOME,inputProps:{label:g._("Over $500,000"),type:"checkbox",value:b("KeplerConstants").INCOME_OVER_500K},inputType:b("KeplerCheckableInput.react")},{name:b("KeplerConstants").PARAM_NET_WORTH,className:"mtm",heading:g._("Net Worth"),inputProps:{label:g._("Under $100,000"),type:"checkbox",value:b("KeplerConstants").NETWORTH_UNDER_100K},inputType:b("KeplerCheckableInput.react")},{name:b("KeplerConstants").PARAM_NET_WORTH,inputProps:{label:g._("$100,000 - $200,000"),type:"checkbox",value:b("KeplerConstants").NETWORTH_100K_TO_200K},inputType:b("KeplerCheckableInput.react")},{name:b("KeplerConstants").PARAM_NET_WORTH,inputProps:{label:g._("$200,000 - $500,000"),type:"checkbox",value:b("KeplerConstants").NETWORTH_200K_TO_500K},inputType:b("KeplerCheckableInput.react")},{name:b("KeplerConstants").PARAM_NET_WORTH,inputProps:{label:g._("$500,000\u2013$750,000"),type:"checkbox",value:b("KeplerConstants").NETWORTH_500K_TO_750K},inputType:b("KeplerCheckableInput.react")},{name:b("KeplerConstants").PARAM_NET_WORTH,inputProps:{label:g._("$750,000\u2013$1,000,000"),type:"checkbox",value:b("KeplerConstants").NETWORTH_750K_TO_1M},inputType:b("KeplerCheckableInput.react")},{name:b("KeplerConstants").PARAM_NET_WORTH,inputProps:{label:g._("$1,000,000\u2013$2,000,000"),type:"checkbox",value:b("KeplerConstants").NETWORTH_1M_TO_2M},inputType:b("KeplerCheckableInput.react")},{name:b("KeplerConstants").PARAM_NET_WORTH,inputProps:{label:g._("Over $2,000,000"),type:"checkbox",value:b("KeplerConstants").NETWORTH_OVER_2M},inputType:b("KeplerCheckableInput.react")}]},home:{collapsed:!0,legend:g._("Home"),filters:[{name:b("KeplerConstants").PARAM_HOME_TYPE,heading:g._("Home Type"),inputProps:{label:g._("Single-family home"),type:"checkbox",value:b("KeplerConstants").HOME_TYPE_SINGLE_FAMILY},inputType:b("KeplerCheckableInput.react")},{name:b("KeplerConstants").PARAM_HOME_TYPE,inputProps:{label:g._("Multi-family home"),type:"checkbox",value:b("KeplerConstants").HOME_TYPE_MULTI_FAMILY},inputType:b("KeplerCheckableInput.react")},{name:b("KeplerConstants").PARAM_HOME_OWNERSHIP,className:"mtm",heading:g._("Home Ownership"),inputProps:{label:g._("Homeowners"),type:"checkbox",value:b("KeplerConstants").HOME_OWNER_OWN},inputType:b("KeplerCheckableInput.react")},{name:b("KeplerConstants").PARAM_HOME_OWNERSHIP,inputProps:{label:g._("Renters"),type:"checkbox",value:b("KeplerConstants").HOME_OWNER_RENT_1},inputType:b("KeplerCheckableInput.react")},{name:b("KeplerConstants").PARAM_HOME_VALUE,heading:g._("Home Value"),inputProps:{label:g._("Under $100,000"),type:"checkbox",value:b("KeplerConstants").HOME_VALUE_BUCKET_UNDER_100},inputType:b("KeplerCheckableInput.react")},{name:b("KeplerConstants").PARAM_HOME_VALUE,inputProps:{label:g._("$100,000 - $200,000"),type:"checkbox",value:b("KeplerConstants").HOME_VALUE_BUCKET_100_TO_200},inputType:b("KeplerCheckableInput.react")},{name:b("KeplerConstants").PARAM_HOME_VALUE,inputProps:{label:g._("$200,000 - $500,000"),type:"checkbox",value:b("KeplerConstants").HOME_VALUE_BUCKET_200_TO_500},inputType:b("KeplerCheckableInput.react")},{name:b("KeplerConstants").PARAM_HOME_VALUE,inputProps:{label:g._("$500,000\u2013$700,000"),type:"checkbox",value:b("KeplerConstants").HOME_VALUE_BUCKET_500_TO_700},inputType:b("KeplerCheckableInput.react")},{name:b("KeplerConstants").PARAM_HOME_VALUE,inputProps:{label:g._("$700,000\u2013$1,000,000"),type:"checkbox",value:b("KeplerConstants").HOME_VALUE_BUCKET_700_TO_1M},inputType:b("KeplerCheckableInput.react")},{name:b("KeplerConstants").PARAM_HOME_VALUE,inputProps:{label:g._("Over $1,000,000"),type:"checkbox",value:b("KeplerConstants").HOME_VALUE_BUCKET_OVER_1M},inputType:b("KeplerCheckableInput.react")}]},interests:{legend:g._("Interests"),filters:[{name:b("KeplerConstants").PARAM_INTERESTS,inputProps:{placeholder:g._("Interest"),dao:function(){return b("KeplerActiveAdAccountStore").getDao()}},inputType:b("KeplerInterestTokenizer.react")}]},language:{collapsed:!0,legend:g._("Language"),filters:[{name:b("KeplerConstants").PARAM_LANGUAGE,inputProps:{placeholder:g._("Language"),searchSource:b("curry")(a,"languages")},inputType:b("KeplerTokenizer.react")}]},lifeEvents:{collapsed:!0,legend:g._("Life events"),filters:[{name:b("KeplerConstants").PARAM_LIFE_EVENTS,inputProps:{label:g._("Away from family"),type:"checkbox",value:b("KeplerConstants").LIFE_EVENT_AWAY_FROM_FAMILY},inputType:b("KeplerCheckableInput.react")},{name:b("KeplerConstants").PARAM_LIFE_EVENTS,inputProps:{label:g._("Away from home town"),type:"checkbox",value:b("KeplerConstants").LIFE_EVENT_AWAY_FROM_HOMETOWN},inputType:b("KeplerCheckableInput.react")},{name:b("KeplerConstants").PARAM_LIFE_EVENTS,inputProps:{label:g._("Long-distance relationship"),type:"checkbox",value:b("KeplerConstants").LIFE_EVENT_LONG_DISTANCE_RELATIONSHIP},inputType:b("KeplerCheckableInput.react")},{name:b("KeplerConstants").PARAM_LIFE_EVENTS,inputProps:{label:g._("New job"),type:"checkbox",value:b("KeplerConstants").LIFE_EVENT_NEW_JOB},inputType:b("KeplerCheckableInput.react")},{name:b("KeplerConstants").PARAM_LIFE_EVENTS,inputProps:{label:g._("New relationship"),type:"checkbox",value:b("KeplerConstants").LIFE_EVENT_NEW_RELATIONSHIP},inputType:b("KeplerCheckableInput.react")},{name:b("KeplerConstants").PARAM_LIFE_EVENTS,inputProps:{label:g._("Recently moved"),type:"checkbox",value:b("KeplerConstants").LIFE_EVENT_RECENTLY_MOVED},inputType:b("KeplerCheckableInput.react")},{name:b("KeplerConstants").PARAM_LIFE_EVENTS,inputProps:{label:g._("Upcoming birthday"),type:"checkbox",value:b("KeplerConstants").LIFE_EVENT_UPCOMING_BIRTHDAY},inputType:b("KeplerCheckableInput.react")}]},location:{id:b("KeplerConstants").Start.LOCATIONS,legend:g._("Location"),filters:[{name:b("KeplerConstants").UseTargetSpec?[b("KeplerConstants").PARAM_GEO_LOCATIONS,b("KeplerConstants").PARAM_EXCLUDED_GEO_LOCATIONS]:[b("KeplerConstants").PARAM_CITY,b("KeplerConstants").PARAM_COUNTRY,b("KeplerConstants").PARAM_REGION,b("KeplerConstants").PARAM_NOT_CITY,b("KeplerConstants").PARAM_NOT_COUNTRY,b("KeplerConstants").PARAM_NOT_REGION],inputProps:{dao:b("KeplerActiveAdAccountStore").getDao,placeholder:g._("Country, region or city")},inputType:b("KeplerLocationTokenizer.react")}]},market:{collapsed:!0,legend:g._("Market Segments"),filters:[{name:b("KeplerConstants").PARAM_ETHNIC_AFFINITY,heading:g._("Multicultural affinity"),inputProps:{label:g._("African Americans (US - All)"),type:"checkbox",value:b("KeplerConstants").ETHNIC_AFFINITY_AFRICAN_AMERICAN},inputType:b("KeplerCheckableInput.react")},{name:b("KeplerConstants").PARAM_ETHNIC_AFFINITY,inputProps:{label:g._("Asian Americans (US - All)"),type:"checkbox",value:b("KeplerConstants").ETHNIC_AFFINITY_ASIAN_AMERICAN},inputType:b("KeplerCheckableInput.react")},{name:b("KeplerConstants").PARAM_ETHNIC_AFFINITY,inputProps:{label:g._("Hispanics (US - All)"),type:"checkbox",value:b("KeplerConstants").ETHNIC_AFFINITY_HISPANIC},inputType:b("KeplerCheckableInput.react")},{name:b("KeplerConstants").PARAM_ETHNIC_AFFINITY,inputProps:{label:g._("Hispanics (US - Bilingual)"),type:"checkbox",value:b("KeplerConstants").ETHNIC_AFFINITY_HISPANIC_BILINGUAL},inputType:b("KeplerCheckableInput.react")},{name:b("KeplerConstants").PARAM_ETHNIC_AFFINITY,inputProps:{label:g._("Hispanics (US - English Dominant)"),type:"checkbox",value:b("KeplerConstants").ETHNIC_AFFINITY_HISPANIC_EN_DOMINANT},inputType:b("KeplerCheckableInput.react")},{name:b("KeplerConstants").PARAM_ETHNIC_AFFINITY,inputProps:{label:g._("Hispanics (US - Spanish Dominant)"),type:"checkbox",value:b("KeplerConstants").ETHNIC_AFFINITY_HISPANIC_ES_DOMINANT},inputType:b("KeplerCheckableInput.react")}]},parents:{collapsed:!0,legend:g._("Parents"),filters:[{name:b("KeplerConstants").PARAM_PARENTS,inputProps:{label:g._("All parents"),type:"checkbox",value:b("KeplerConstants").NEW_PARENT_ALL},inputType:b("KeplerCheckableInput.react")},{name:b("KeplerConstants").PARAM_PARENTS,inputProps:{label:g._("Child 0 - 12 Months"),type:"checkbox",value:b("KeplerConstants").NEW_PARENT_0_TO_12_MONTHS},inputType:b("KeplerCheckableInput.react")},{name:b("KeplerConstants").PARAM_PARENTS,inputProps:{label:g._("Child 0 - 2 Years"),type:"checkbox",value:b("KeplerConstants").NEW_PARENT_1_TO_2_YEARS},inputType:b("KeplerCheckableInput.react")},{name:b("KeplerConstants").PARAM_PARENTS,inputProps:{label:g._("Child 3 - 5 years"),type:"checkbox",value:b("KeplerConstants").NEW_PARENT_3_TO_5_YEARS},inputType:b("KeplerCheckableInput.react")},{name:b("KeplerConstants").PARAM_PARENTS,inputProps:{label:g._("Child 6 - 8 years"),type:"checkbox",value:b("KeplerConstants").NEW_PARENT_6_TO_8_YEARS},inputType:b("KeplerCheckableInput.react")},{name:b("KeplerConstants").PARAM_PARENTS,inputProps:{label:g._("Child 8 - 12 years"),type:"checkbox",value:b("KeplerConstants").NEW_PARENT_8_TO_12_YEARS},inputType:b("KeplerCheckableInput.react")},{name:b("KeplerConstants").PARAM_PARENTS,inputProps:{label:g._("Child 13 - 18 years"),type:"checkbox",value:b("KeplerConstants").NEW_PARENT_13_TO_18_YEARS},inputType:b("KeplerCheckableInput.react")},{name:b("KeplerConstants").PARAM_PARENTS,inputProps:{label:g._("Child 18 - 26 years"),type:"checkbox",value:b("KeplerConstants").NEW_PARENT_18_TO_26_YEARS},inputType:b("KeplerCheckableInput.react")}]},behaviorCategories:{collapsed:!0,legend:g._("Behaviours"),filters:[{name:b("KeplerConstants").PARAM_BEHAVIOR_CATEGORIES,inputProps:{placeholder:g._("Behaviour"),searchSource:function(){var a=b("KeplerActiveAdAccountStore").getDao();return b("KeplerBrowseableSearchSource").getInstance(a.fetch.keplerBehaviorCategoriesForAccount,b("KeplerActiveAdAccountStore").getLegacyAccountID())}},inputType:b("KeplerBrowseableTokenizer.react")}]},politics:{collapsed:!0,legend:g._("Politics (US)"),filters:[{name:b("KeplerConstants").PARAM_POLITICS,inputProps:{label:g._("Very conservative"),type:"checkbox",value:b("KeplerConstants").POLITICAL_VERY_CONSERVATIVE},inputType:b("KeplerCheckableInput.react")},{name:b("KeplerConstants").PARAM_POLITICS,inputProps:{label:g._("Conservative"),type:"checkbox",value:b("KeplerConstants").POLITICAL_CONSERVATIVE},inputType:b("KeplerCheckableInput.react")},{name:b("KeplerConstants").PARAM_POLITICS,inputProps:{label:g._("Moderate"),type:"checkbox",value:b("KeplerConstants").POLITICAL_MODERATE},inputType:b("KeplerCheckableInput.react")},{name:b("KeplerConstants").PARAM_POLITICS,inputProps:{label:g._("Liberal"),type:"checkbox",value:b("KeplerConstants").POLITICAL_LIBERAL},inputType:b("KeplerCheckableInput.react")},{name:b("KeplerConstants").PARAM_POLITICS,inputProps:{label:g._("Very liberal"),type:"checkbox",value:b("KeplerConstants").POLITICAL_VERY_LIBERAL},inputType:b("KeplerCheckableInput.react")}]},privateCategories:{collapsed:!0,legend:g._("More Categories"),filters:[{name:b("KeplerConstants").PARAM_PRIVATE_CATEGORIES,inputProps:{placeholder:g._("Choose a category"),renderDefaultPath:!1,searchSource:function(){var a=b("KeplerActiveAdAccountStore").getDao();return b("KeplerBrowseableSearchSource").getInstance(a.fetch.keplerPrivateCategoriesForAccount,b("KeplerActiveAdAccountStore").getLegacyAccountID())}},inputType:b("KeplerBrowseableTokenizer.react")}]},relationshipStatus:{collapsed:!0,legend:g._("Relationship Status"),filters:[{name:b("KeplerConstants").PARAM_RELATIONSHIP,inputProps:{label:g._("Single"),type:"checkbox",value:b("KeplerConstants").RELATIONSHIP_SINGLE},inputType:b("KeplerCheckableInput.react")},{name:b("KeplerConstants").PARAM_RELATIONSHIP,inputProps:{label:g._("In a relationship"),type:"checkbox",value:b("KeplerConstants").RELATIONSHIP_IN_A_RELATIONSHIP},inputType:b("KeplerCheckableInput.react")},{name:b("KeplerConstants").PARAM_RELATIONSHIP,inputProps:{label:g._("Engaged"),type:"checkbox",value:b("KeplerConstants").RELATIONSHIP_ENGAGED},inputType:b("KeplerCheckableInput.react"),filters:[{name:b("KeplerConstants").PARAM_RELATIONSHIP_ENGAGED,inputProps:{label:g._("Engaged (6 months)"),type:"checkbox",value:b("KeplerConstants").RELATIONSHIP_ENGAGED_6_MONTH},inputType:b("KeplerCheckableInput.react")},{name:b("KeplerConstants").PARAM_RELATIONSHIP_ENGAGED,inputProps:{label:g._("Engaged (1 year)"),type:"checkbox",value:b("KeplerConstants").RELATIONSHIP_ENGAGED_1_YEAR},inputType:b("KeplerCheckableInput.react")}]},{name:b("KeplerConstants").PARAM_RELATIONSHIP,inputProps:{label:g._("Married"),type:"checkbox",value:b("KeplerConstants").RELATIONSHIP_MARRIED},inputType:b("KeplerCheckableInput.react"),filters:[{name:b("KeplerConstants").PARAM_RELATIONSHIP_NEWLYWED,inputProps:{label:g._("Newlywed (3 months)"),type:"checkbox",value:b("KeplerConstants").RELATIONSHIP_NEWLYWED_3_MONTH},inputType:b("KeplerCheckableInput.react")},{name:b("KeplerConstants").PARAM_RELATIONSHIP_NEWLYWED,inputProps:{label:g._("Newlywed (6 months)"),type:"checkbox",value:b("KeplerConstants").RELATIONSHIP_NEWLYWED_6_MONTH},inputType:b("KeplerCheckableInput.react")},{name:b("KeplerConstants").PARAM_RELATIONSHIP_NEWLYWED,inputProps:{label:g._("Newlywed (1 year)"),type:"checkbox",value:b("KeplerConstants").RELATIONSHIP_NEWLYWED_1_YEAR},inputType:b("KeplerCheckableInput.react")}]},{name:b("KeplerConstants").PARAM_RELATIONSHIP,inputProps:{label:g._("Not specified"),type:"checkbox",value:b("KeplerConstants").RELATIONSHIP_UNSPECIFIED},inputType:b("KeplerCheckableInput.react")}]},work:{collapsed:!0,legend:g._("Work"),filters:[{name:b("KeplerConstants").PARAM_INDUSTRIES,heading:g._("Job titles"),inputProps:{isFlat:!0,placeholder:g._("Job Title"),searchSource:b("curry")(a,"keplerIndustries")},inputType:b("KeplerTokenizer.react")}]}};Object.keys(h).forEach(function(a){return h[a].name=a});e.exports=h}),null);
__d("KeplerTargetingTransformation",["Promise","KeplerConstants","KeplerMetaDataStore","ex"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g={noTransformation:function(a,b){var c={};c[a]=Array.isArray(b)?b:[b];return c},toGeoLocation:function(a,c){__p&&__p();var d={};switch(a){case b("KeplerConstants").PARAM_CITY:case b("KeplerConstants").PARAM_NOT_CITY:d.cities=c.map(function(a){return{key:a,radius:0,distance_unit:"mile"}});break;case b("KeplerConstants").PARAM_NOT_REGION:case b("KeplerConstants").PARAM_REGION:d.regions=c.map(function(a){return{key:a}});break;case b("KeplerConstants").PARAM_COUNTRY:case b("KeplerConstants").PARAM_NOT_COUNTRY:d.countries=c;break;default:throw new Error(b("ex")("toGeoLocation failed, param `%s` not supported",a))}c=a===b("KeplerConstants").PARAM_NOT_CITY||a===b("KeplerConstants").PARAM_NOT_COUNTRY||a===b("KeplerConstants").PARAM_NOT_REGION;c?d={excluded_geo_locations:d}:d={geo_locations:d};return d},toEngagementSpec:function(a,c,d){d=d.map(function(a){return b("KeplerMetaDataStore").getPromise(c,a).then(function(a){return a.getAuxiliaryData().rule},function(a){return{}})});return b("Promise").all(d).then(function(b){var c={};c[a]=b;return c})},toIDNamePairs:function(a,c,d){d=d.map(function(a){return b("KeplerMetaDataStore").getPromise(c,a).then(function(b){return{id:a,name:b.getTitle()}},function(b){return{id:a,name:a}})});return b("Promise").all(d).then(function(b){var c={};c[a]=b;return c})},toTargetingName:function(a,b,c){return g.noTransformation(a,c)}};e.exports=g}),null);
__d("KeplerFilter",["KeplerConstants","KeplerTargetingTransformation","TargetingSpecStore","isEmpty"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h={allowEmpty:!0,defaultValue:"",fromURIQueryString:function(a){return a},targetingTransformation:b("KeplerTargetingTransformation").noTransformation,toURIQueryString:function(a){return a}};a=function(){__p&&__p();function a(a,b){b=babelHelpers["extends"]({},h,b),this.name=a,this.allowEmpty=b.allowEmpty,this.defaultValue=b.defaultValue,this.fromURIQueryString=b.fromURIQueryString,this.targetingAction=b.targetingAction,this.targetingName=b.targetingName,this.targetingTransformation=b.targetingTransformation,this.toURIQueryString=b.toURIQueryString,this.reset()}var c=a.prototype;c.get=function(){return b("KeplerConstants").UseTargetSpec?!this.targetingName?null:b("TargetingSpecStore").getValue(b("KeplerConstants").SPEC_KEY):this.value||null};c.getDefault=function(){return this.defaultValue||null};c.getDefaultJSON=function(){var a=this.getDefault();if(a){var b={};b[this.name]=a}return b};c.getJSON=function(){var a=this.get();if(a){var b={};b[this.name]=a}return b};c.getTargeting=function(){var a=this.get();if(a)var b=this.targetingTransformation(this.name,this.value);return b};c.reset=function(){this.set(this.defaultValue)};c.set=function(a){(g||(g=b("isEmpty")))(a)&&(a=this.allowEmpty?"":this.defaultValue);if(b("KeplerConstants").UseTargetSpec){if(!this.targetingAction)return;this.targetingAction(a)}else this.value=a};return a}();e.exports=a}),null);
__d("KeplerArrayFilter",["KeplerConstants","KeplerFilter","isEmpty"],(function(a,b,c,d,e,f){__p&&__p();var g,h={defaultValue:[],fromURIQueryString:function(a){return a.match(/(\\.|[^-])+/g).map(function(a){return a.replace(/\\./,function(a){return a[1]})})},onUnsetValues:function(){},toURIQueryString:function(a){a=a.slice();a.sort();return a.map(function(a){return a.replace(/[\\-]/,function(a){return"\\"+a})}).join("-")}};a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(b,c){c=babelHelpers["extends"]({},h,c);b=a.call(this,b,c)||this;b.onUnsetValues=c.onUnsetValues;return b}var d=c.prototype;d.get=function(){return(g||(g=b("isEmpty")))(this.value)?null:this.value.slice()};d.getDefault=function(){return(g||(g=b("isEmpty")))(this.defaultValue)?null:this.defaultValue.slice()};d.reset=function(){this.value=this.defaultValue.slice()};d.set=function(a){(g||(g=b("isEmpty")))(a)&&(a=this.allowEmpty?[]:this.defaultValue);!b("KeplerConstants").UseBlacklistedFilters&&(this.name===b("KeplerConstants").PARAM_BEHAVIOR_CATEGORIES||this.name===b("KeplerConstants").PARAM_DEVICE_OWNERS||this.name===b("KeplerConstants").PARAM_PRIVATE_CATEGORIES)&&(a=a.filter(function(a){return!(a in b("KeplerConstants").BlacklistedBehaviorCategories)}));var c=this.value.filter(function(b){return a.indexOf(b)===-1});(g||(g=b("isEmpty")))(c)||this.onUnsetValues(this.name,c);this.value=a.slice()};return c}(b("KeplerFilter"));e.exports=a}),null);
__d("KeplerObjectFilter",["KeplerConstants","KeplerFilter","TargetingSpecStore","isEmpty"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h={allowEmpty:!1,defaultValue:{},fromURIQueryString:function(){},toURIQueryString:function(){}};a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(b,c){c=babelHelpers["extends"]({},h,c);return a.call(this,b,c)||this}var d=c.prototype;d.get=function(){return b("KeplerConstants").UseTargetSpec?!this.targetingName?null:b("TargetingSpecStore").getValue(b("KeplerConstants").SPEC_KEY):(g||(g=b("isEmpty")))(this.value)?null:babelHelpers["extends"]({},this.value)};d.getDefault=function(){return(g||(g=b("isEmpty")))(this.defaultValue)?null:babelHelpers["extends"]({},this.defaultValue)};d.reset=function(){this.$KeplerObjectFilter1(babelHelpers["extends"]({},this.defaultValue))};d.$KeplerObjectFilter1=function(a){if(b("KeplerConstants").UseTargetSpec){if(!this.targetingAction)return;this.targetingAction(a)}else this.value=a};d.set=function(a){(g||(g=b("isEmpty")))(a)&&(a=this.allowEmpty?{}:this.defaultValue),this.$KeplerObjectFilter1(babelHelpers["extends"]({},a))};return c}(b("KeplerFilter"));e.exports=a}),null);
__d("KeplerFilterConfig",["AdsCommonTargetingActions","AdsTargetingAdvancedDemoConstants","KeplerArrayFilter","KeplerConstants","KeplerFilter","KeplerObjectFilter","KeplerTargetingTransformation","curry","d3-old/core/range","ex","isEmpty"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=String(b("KeplerConstants").NOT_SET);a=[b("KeplerConstants").UseTargetSpec?null:{name:b("KeplerConstants").PARAM_AGE,type:b("KeplerArrayFilter"),options:{allowEmpty:!1,defaultValue:["18",h],fromURIQueryString:function(a){return a.split("-").map(function(a){return a!==""?a:h})},targetingTransformation:function(a,c){a=c[0];c=c[1];var d={};a!==h&&(d.age_min=parseInt(a,10));c!==h&&(d.age_max=parseInt(c,10));if(!(g||(g=b("isEmpty")))(d))return d},toURIQueryString:function(a){var b=a[0];a=a[1];return[b!==h?b:"",a!==h?a:""].join("-")}}},b("KeplerConstants").UseTargetSpec?{name:b("KeplerConstants").PARAM_AGE_MAX,type:b("KeplerFilter"),options:{allowEmpty:!1,defaultValue:0,targetingAction:function(a){b("AdsCommonTargetingActions").changeAgeMax(+a,b("KeplerConstants").SPEC_KEY)},targetingName:"ageMax"}}:null,b("KeplerConstants").UseTargetSpec?{name:b("KeplerConstants").PARAM_AGE_MIN,type:b("KeplerFilter"),options:{allowEmpty:!1,defaultValue:18,targetingAction:function(a){b("AdsCommonTargetingActions").changeAgeMin(+a,b("KeplerConstants").SPEC_KEY)},targetingName:"ageMin"}}:null,{name:b("KeplerConstants").PARAM_BEHAVIOR_CATEGORIES,type:b("KeplerArrayFilter"),options:{targetingTransformation:b("curry")(b("KeplerTargetingTransformation").toIDNamePairs,"behaviors")}},{name:b("KeplerConstants").PARAM_CITY,type:b("KeplerArrayFilter"),options:{targetingTransformation:b("KeplerTargetingTransformation").toGeoLocation}},{name:b("KeplerConstants").PARAM_COLLEGE_YEARS,type:b("KeplerArrayFilter"),options:{targetingTransformation:function(a,c){a=c[0];c=c[1];a===h&&(a=b("AdsTargetingAdvancedDemoConstants").graduationYearBounds.minGraduationYear);c===h&&(c=b("AdsTargetingAdvancedDemoConstants").graduationYearBounds.maxGraduationYear);a=b("d3-old/core/range")(Number(a),Number(c)+1);return{college_years:a}}}},{name:b("KeplerConstants").PARAM_COUNTRY,type:b("KeplerArrayFilter"),options:{defaultValue:["US"],targetingTransformation:b("KeplerTargetingTransformation").toGeoLocation}},{name:b("KeplerConstants").PARAM_CUSTOM_AUDIENCES,type:b("KeplerArrayFilter"),options:{targetingTransformation:b("curry")(b("KeplerTargetingTransformation").toIDNamePairs,"custom_audiences")}},{name:b("KeplerConstants").PARAM_DEVICE_OWNERS,type:b("KeplerArrayFilter"),options:{targetingTransformation:b("curry")(b("KeplerTargetingTransformation").toIDNamePairs,"behaviors")}},{name:b("KeplerConstants").PARAM_EDUCATION,type:b("KeplerArrayFilter"),options:{targetingTransformation:function(a,c){var d=[];c.forEach(function(a){d=d.concat(b("KeplerConstants").EDUCATION_TARGETING_MAP[a])});return{education_statuses:d}}}},{name:b("KeplerConstants").PARAM_EDUCATION_MAJORS,type:b("KeplerArrayFilter"),options:{targetingTransformation:b("curry")(b("KeplerTargetingTransformation").toIDNamePairs,"education_majors")}},{name:b("KeplerConstants").PARAM_EDUCATION_SCHOOLS,type:b("KeplerArrayFilter"),options:{targetingTransformation:b("curry")(b("KeplerTargetingTransformation").toIDNamePairs,"education_schools")}},{name:b("KeplerConstants").PARAM_ENGAGEMENT_SPECS,type:b("KeplerArrayFilter"),options:{targetingTransformation:b("curry")(b("KeplerTargetingTransformation").toEngagementSpec,"engagement_specs"),allowEmpty:!0,defaultValue:[],targetingAction:function(a){},targetingName:"engagementSpecs"}},{name:b("KeplerConstants").PARAM_ETHNIC_AFFINITY,type:b("KeplerArrayFilter"),options:{targetingTransformation:b("curry")(b("KeplerTargetingTransformation").toIDNamePairs,"behaviors")}},{name:b("KeplerConstants").PARAM_EXCLUDED_ENGAGEMENT_SPECS,type:b("KeplerArrayFilter"),options:{targetingTransformation:b("curry")(b("KeplerTargetingTransformation").toEngagementSpec,"excluded_engagement_specs"),allowEmpty:!0,defaultValue:[],targetingAction:function(a){},targetingName:"excludedEngagementSpecs"}},{name:b("KeplerConstants").PARAM_GENDER,type:b("KeplerFilter"),options:{defaultValue:b("KeplerConstants").UseTargetSpec?0:void 0,targetingAction:function(a){b("AdsCommonTargetingActions").changeGenders(+a,b("KeplerConstants").SPEC_KEY)},targetingName:"sex",targetingTransformation:function(a,b){a={1:2,2:1};return{genders:[a[b]]}}}},{name:b("KeplerConstants").PARAM_GENERATION,type:b("KeplerArrayFilter"),options:{targetingTransformation:b("curry")(b("KeplerTargetingTransformation").toIDNamePairs,"generation")}},{name:b("KeplerConstants").PARAM_HOME_OWNERSHIP,type:b("KeplerArrayFilter"),options:{targetingTransformation:b("curry")(b("KeplerTargetingTransformation").toIDNamePairs,"home_ownership")}},{name:b("KeplerConstants").PARAM_HOME_TYPE,type:b("KeplerArrayFilter"),options:{targetingTransformation:b("curry")(b("KeplerTargetingTransformation").toIDNamePairs,"home_type")}},{name:b("KeplerConstants").PARAM_HOME_VALUE,type:b("KeplerArrayFilter"),options:{targetingTransformation:function(a,c){var d=[];c.forEach(function(c){if(!b("KeplerConstants").HOME_VALUE_BUCKETS[c])throw new Error(b("ex")("targetingTransformation failed, no bucket found for param `%s` (%s)",a,c));d=d.concat(b("KeplerConstants").HOME_VALUE_BUCKETS[c].map(function(a){return String(a)}))});return b("KeplerTargetingTransformation").toIDNamePairs("home_value",a,d)}}},{name:b("KeplerConstants").PARAM_HOUSEHOLD_COMPOSITION,type:b("KeplerArrayFilter"),options:{targetingTransformation:b("curry")(b("KeplerTargetingTransformation").toIDNamePairs,"household_composition")}},{name:b("KeplerConstants").PARAM_INCOME,type:b("KeplerArrayFilter"),options:{targetingTransformation:b("curry")(b("KeplerTargetingTransformation").toIDNamePairs,"income")}},{name:b("KeplerConstants").PARAM_INTERESTED_IN,type:b("KeplerFilter")},{name:b("KeplerConstants").PARAM_INTERESTS,type:b("KeplerArrayFilter"),options:{targetingTransformation:b("curry")(b("KeplerTargetingTransformation").toIDNamePairs,"interests")}},{name:b("KeplerConstants").PARAM_INDUSTRIES,type:b("KeplerArrayFilter"),options:{targetingTransformation:b("curry")(b("KeplerTargetingTransformation").toIDNamePairs,"industries")}},{name:b("KeplerConstants").PARAM_LANGUAGE,type:b("KeplerArrayFilter"),options:{targetingTransformation:b("curry")(b("KeplerTargetingTransformation").toTargetingName,"locales")}},{name:b("KeplerConstants").PARAM_LIFE_EVENTS,type:b("KeplerArrayFilter"),options:{targetingTransformation:b("curry")(b("KeplerTargetingTransformation").toIDNamePairs,"life_events")}},{name:b("KeplerConstants").PARAM_NET_WORTH,type:b("KeplerArrayFilter"),options:{targetingTransformation:b("curry")(b("KeplerTargetingTransformation").toIDNamePairs,"net_worth")}},{name:b("KeplerConstants").PARAM_NOT_CITY,type:b("KeplerArrayFilter"),options:{targetingTransformation:b("KeplerTargetingTransformation").toGeoLocation}},{name:b("KeplerConstants").PARAM_NOT_COUNTRY,type:b("KeplerArrayFilter"),options:{targetingTransformation:b("KeplerTargetingTransformation").toGeoLocation}},{name:b("KeplerConstants").PARAM_NOT_PAGE,type:b("KeplerArrayFilter"),options:{targetingTransformation:b("curry")(b("KeplerTargetingTransformation").toIDNamePairs,"excluded_connections")}},{name:b("KeplerConstants").PARAM_NOT_REGION,type:b("KeplerArrayFilter"),options:{targetingTransformation:b("KeplerTargetingTransformation").toGeoLocation}},{name:b("KeplerConstants").PARAM_OFFICE_TYPE,type:b("KeplerArrayFilter"),options:{targetingTransformation:b("curry")(b("KeplerTargetingTransformation").toIDNamePairs,"office_type")}},{name:b("KeplerConstants").PARAM_PAGE,type:b("KeplerArrayFilter"),options:{targetingTransformation:b("curry")(b("KeplerTargetingTransformation").toIDNamePairs,"connections")}},{name:b("KeplerConstants").PARAM_PARENTS,type:b("KeplerArrayFilter"),options:{targetingTransformation:b("curry")(b("KeplerTargetingTransformation").toIDNamePairs,"family_statuses")}},{name:b("KeplerConstants").PARAM_PARTY_AFFILIATION,type:b("KeplerArrayFilter"),options:{targetingTransformation:b("curry")(b("KeplerTargetingTransformation").toIDNamePairs,"politics")}},{name:b("KeplerConstants").PARAM_POLITICS,type:b("KeplerArrayFilter"),options:{targetingTransformation:b("curry")(b("KeplerTargetingTransformation").toIDNamePairs,"politics")}},{name:b("KeplerConstants").PARAM_PRIVATE_CATEGORIES,type:b("KeplerArrayFilter"),options:{targetingTransformation:b("curry")(b("KeplerTargetingTransformation").toIDNamePairs,"user_adclusters")}},{name:b("KeplerConstants").PARAM_RELATIONSHIP,type:b("KeplerArrayFilter"),options:{targetingTransformation:function(a,b){var c={0:"6",1:"1",2:"2",4:"3",5:"4"};a=b.map(function(a){return c[a]});return{relationship_statuses:a}}}},{name:b("KeplerConstants").PARAM_RELATIONSHIP_ENGAGED,type:b("KeplerArrayFilter"),options:{targetingTransformation:b("curry")(b("KeplerTargetingTransformation").toIDNamePairs,"life_events")}},{name:b("KeplerConstants").PARAM_RELATIONSHIP_NEWLYWED,type:b("KeplerArrayFilter"),options:{targetingTransformation:b("curry")(b("KeplerTargetingTransformation").toIDNamePairs,"life_events")}},{name:b("KeplerConstants").PARAM_REGION,type:b("KeplerArrayFilter"),options:{targetingTransformation:b("KeplerTargetingTransformation").toGeoLocation}},{name:b("KeplerConstants").PARAM_WORK_EMPLOYERS,type:b("KeplerArrayFilter"),options:{targetingTransformation:b("curry")(b("KeplerTargetingTransformation").toIDNamePairs,"work_employers")}},b("KeplerConstants").UseTargetSpec?{name:b("KeplerConstants").PARAM_GEO_LOCATIONS,type:b("KeplerObjectFilter"),options:{defaultValue:{countries:["US"]},targetingName:"geoLocations",targetingAction:function(a){b("AdsCommonTargetingActions").changeGeoLocations(a,{},b("KeplerConstants").SPEC_KEY)}}}:null,b("KeplerConstants").UseTargetSpec?{name:b("KeplerConstants").PARAM_EXCLUDED_GEO_LOCATIONS,type:b("KeplerObjectFilter"),options:{targetingName:"excludedGeoLocations",targetingAction:function(a){b("AdsCommonTargetingActions").changeGeoLocations({},a,b("KeplerConstants").SPEC_KEY)}}}:null].filter(function(a){return a});e.exports=a}),null);
__d("KeplerFilterStore",["Promise","AdsCommonTargetingActions","ArbiterMixin","ErrorUtils","KeplerConstants","KeplerDispatcher","KeplerFieldsetConfig","KeplerFilterConfig","KeplerMetaDataStore"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h={},i=[];b("KeplerFilterConfig").forEach(function(a){var b=babelHelpers["extends"]({},a.options,{onUnsetValues:k});h[a.name]=new a.type(a.name,b)});function j(a,b,c){c&&c.forEach(function(c){var d=c.inputProps&&c.inputProps.value;d=c.name===a&&b.indexOf(String(d))>-1;d&&p(c.filters);j(a,b,c.filters)})}function k(a,c){Object.keys(b("KeplerFieldsetConfig")).forEach(function(d){d=b("KeplerFieldsetConfig")[d].filters;j(a,c,d)},this)}function l(a){var b={behaviors:0,life_events:0};a.forEach(function(a){if(a)for(var c in a)Object.prototype.hasOwnProperty.call(b,c)&&b[c]++});return Object.keys(b).filter(function(a){return b[a]>1})}function m(a,b,c){__p&&__p();if(b!=null)for(var d in b){if(!Object.prototype.hasOwnProperty.call(b,d))continue;if(c.indexOf(d)>=0){var e={};e[d]=b[d];a.flexible_spec.push(e);continue}a[d]&&Array.isArray(a[d])&&Array.isArray(b[d])?a[d]=[].concat(a[d],b[d]):a[d]&&typeof a[d]==="object"?m(a[d],b[d],[]):a[d]=b[d]}}function n(a){a=a||Object.keys(h),a.forEach(function(a){h[a].reset()})}function o(a){Object.keys(a).forEach(function(b){h[b]&&h[b].set(a[b])})}function p(a){a&&a.forEach(function(a){h[a.name].reset(),p(a.filters)})}var q=babelHelpers["extends"]({},b("ArbiterMixin"),{getCountries:function(){var a=this.getImmediately(b("KeplerConstants").PARAM_COUNTRY)||[],c=this.getImmediately(b("KeplerConstants").PARAM_CITY)||[],d=this.getImmediately(b("KeplerConstants").PARAM_REGION)||[];[{ids:c,key:b("KeplerConstants").PARAM_CITY},{ids:d,key:b("KeplerConstants").PARAM_REGION}].forEach(function(c){c.ids.forEach(function(d){d=b("KeplerMetaDataStore").getImmediately(c.key,d);d&&a.indexOf(d.country)<0&&a.push(d.country)})});return a},getDefaultJSON:function(){var a={};Object.keys(h).forEach(function(b){Object.assign(a,h[b].getDefaultJSON())});return a},getID:function(a){a=this.getJSON(a);a=JSON.stringify(a);var b=i.indexOf(a)+1;return b||i.push(a)},getImmediately:function(a){return h[a].get()},getJSON:function(a){var b={};Object.keys(h).forEach(function(a){Object.assign(b,h[a].getJSON())});Object.assign(b,a);return b},getTargeting:function(){var a=Object.keys(h).map(function(a){return h[a].getTargeting()});return b("Promise").all(a).then(function(a){var b={},c=l(a);c.length>0&&(b.flexible_spec=[]);a.forEach(function(a){return m(b,a,c)});return b})},fromURIQuery:function(a){var c=Object.keys(a),d={};c.forEach(function(c){h[c]&&(g||(g=b("ErrorUtils"))).applyWithGuard(function(){return d[c]=h[c].fromURIQueryString(a[c])})});return d},toURIQuery:function(a){var b=Object.keys(a),c={};b.forEach(function(b){h[b]&&(c[b]=h[b].toURIQueryString(a[b]))});return c},toUpdate:b("KeplerDispatcher").register(function(a){__p&&__p();var c=q.getJSON(),d;d=a.get(b("KeplerConstants").Payload.FILTER);d&&d.forEach(function(a){switch(a.type){case b("KeplerConstants").ActionType.DELETE:b("KeplerConstants").UseTargetSpec&&(b("AdsCommonTargetingActions").initTargetingForID(b("KeplerConstants").SPEC_KEY),b("AdsCommonTargetingActions").updateStoreFromExternal({},b("KeplerConstants").SPEC_KEY));n(a.data);break;case b("KeplerConstants").ActionType.UPDATE:o(a.data);break}});d=a.get(b("KeplerConstants").Payload.PAGE);d&&d.forEach(function(a){var b=q.getJSON();Object.keys(b).forEach(function(a){b[a]=null});o(b);a=a.data;o(a.filters)});a=q.getJSON();JSON.stringify(c)!==JSON.stringify(a)&&q.inform("change")})});e.exports=q}),null);
__d("XAdsKeplerQueryController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ads/audience-insights/query/",{age:{type:"IntVector",defaultValue:[]},behavior_categories:{type:"IntVector",defaultValue:[]},city:{type:"IntVector",defaultValue:[]},college_years:{type:"IntVector",defaultValue:[]},custom_audiences:{type:"IntVector",defaultValue:[]},device_owners:{type:"IntVector",defaultValue:[]},education:{type:"IntVector",defaultValue:[]},education_majors:{type:"IntVector",defaultValue:[]},education_schools:{type:"IntVector",defaultValue:[]},engagement_specs:{type:"IntVector",defaultValue:[]},ethnic_affinity:{type:"IntVector",defaultValue:[]},excluded_engagement_specs:{type:"IntVector",defaultValue:[]},generation:{type:"IntVector",defaultValue:[]},home_ownership:{type:"IntVector",defaultValue:[]},home_type:{type:"IntVector",defaultValue:[]},home_value:{type:"IntVector",defaultValue:[]},household_composition:{type:"IntVector",defaultValue:[]},income:{type:"IntVector",defaultValue:[]},industries:{type:"IntVector",defaultValue:[]},interests:{type:"IntVector",defaultValue:[]},language:{type:"IntVector",defaultValue:[]},life_events:{type:"IntVector",defaultValue:[]},net_worth:{type:"IntVector",defaultValue:[]},not_city:{type:"IntVector",defaultValue:[]},not_page:{type:"IntVector",defaultValue:[]},not_region:{type:"IntVector",defaultValue:[]},office_type:{type:"IntVector",defaultValue:[]},page:{type:"IntVector",defaultValue:[]},family_statuses:{type:"IntVector",defaultValue:[]},party_affiliation:{type:"IntVector",defaultValue:[]},politics:{type:"IntVector",defaultValue:[]},private_categories:{type:"IntVector",defaultValue:[]},relationship:{type:"IntVector",defaultValue:[]},relationship_engaged:{type:"IntVector",defaultValue:[]},relationship_newlywed:{type:"IntVector",defaultValue:[]},region:{type:"IntVector",defaultValue:[]},work_employers:{type:"IntVector",defaultValue:[]},country:{type:"StringVector",defaultValue:[]},admarket_id:{type:"Int",defaultValue:-1},condition:{type:"Int",defaultValue:-1},display_type:{type:"Int",defaultValue:-1},gender:{type:"Int",defaultValue:-1},is_primary:{type:"Int",defaultValue:-1},logger_session_id:{type:"String"},metrics:{type:"EnumVector",defaultValue:[],enumType:{member:0}}})}),null);
__d("KeplerMetricSync",["AsyncRequest","AudienceInsightsMetaLoggerWWW","BusinessURI.brands","KeplerActiveAdAccountStore","KeplerConstants","KeplerDispatcher","KeplerFilterStore","KeplerPayload","XAdsKeplerQueryController"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AudienceInsightsMetaLoggerWWW").LOGGER,h={};function i(a,c,d,e){__p&&__p();e=!!h[c];if(e)return;var f;e=b("KeplerConstants").ERROR_TIMEOUT_DURATION*1e3;var i={};i[b("KeplerConstants").FILTER_SET_PARAM_ADMARKET_ID]=b("KeplerActiveAdAccountStore").getAdmarketID();i[b("KeplerConstants").SESSION_ID_PARAM]=g.getSessionID();f=b("BusinessURI.brands")(b("XAdsKeplerQueryController").getURIBuilder().getURI());h[c]=new(b("AsyncRequest"))().setAllowCrossPageTransition(!0).setData(babelHelpers["extends"]({},d,i)).setHandler(function(c){c.payload.sessionID=a;var d=new(b("KeplerPayload"))();d.queueUpdate(b("KeplerConstants").Payload.METRIC,c.payload);b("KeplerDispatcher").handleUpdateFromServer(d)}).setTimeoutHandler(e,function(){var c=new(b("KeplerPayload"))(),e={},f={sessionID:a};e[b("KeplerConstants").ERROR_CODE_KEY]=b("KeplerConstants").ERROR_CODE_REQUEST_TIMEOUT;d.metrics.forEach(function(a){f[a]={data:e}});c.queueUpdate(b("KeplerConstants").Payload.METRIC,f);b("KeplerDispatcher").handleUpdateFromServer(c)}).setErrorHandler(function(e){delete h[c];e=new(b("KeplerPayload"))();var f={sessionID:a};d.metrics.forEach(function(a){f[a]={data:(a={},a[b("KeplerConstants").ERROR_CODE_KEY]=b("KeplerConstants").ERROR_CODE_FAILED_GETTING_DATA,a)}});e.queueUpdate(b("KeplerConstants").Payload.METRIC,f);b("KeplerDispatcher").handleUpdateFromServer(e)}).setMethod("GET").setReadOnly(!0).setURI(f).send()}a={deferredFetch:function(a,c,d,e){setTimeout(function(){var f=b("KeplerFilterStore").getID()!==a;if(f)return;i(a,c,d,e)})},fetch:i};e.exports=a}),null);
__d("KeplerMetricStore",["ArbiterMixin","KeplerConstants","KeplerDispatcher","KeplerFilterStore","KeplerMetricSync","KeyedCallbackManager","TargetingSpecStore","emptyFunction"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a,b){return a+"_"+b}var h=new(b("KeyedCallbackManager"))(),i=babelHelpers["extends"]({},b("ArbiterMixin"),{get:function(a,c,d){d=d||b("emptyFunction");var e=b("KeplerConstants").UseTargetSpec?b("TargetingSpecStore").getTargetingApiSpec():{},f=b("KeplerFilterStore").getID(c),i=g(a,f);d=h.executeOrEnqueue(i,d);if(d){d=b("KeplerFilterStore").getJSON(c);d[b("KeplerConstants").PARAM_METRICS]=[a];c?b("KeplerMetricSync").fetch(f,i,d,e):b("KeplerMetricSync").deferredFetch(f,i,d,e)}},getImmediately:function(a,c){c=b("KeplerFilterStore").getID(c);a=g(a,c);return h.getResource(a)}});b("KeplerDispatcher").register(function(a){__p&&__p();var c=!1;if(a.has(b("KeplerConstants").Payload.METRIC)){var d={},e=b("KeplerFilterStore").getID();a.get(b("KeplerConstants").Payload.METRIC).forEach(function(a){if(a.type===b("KeplerConstants").ActionType.UPDATE){var f=a.data;f.sessionID===e&&(c=!0);Object.keys(f).forEach(function(a){var b=g(a,f.sessionID);d[b]=f[a]})}});h.addResourcesAndExecute(d)}a.has(b("KeplerConstants").Payload.FILTER)&&(c=!0);c&&i.inform("change")});b("KeplerConstants").UseTargetSpec&&b("TargetingSpecStore").subscribe("change",function(){return i.inform("change")});e.exports=i}),null);
__d("KeplerProgressBarStatus",[],(function(a,b,c,d,e,f){"use strict";e.exports=Object.freeze({LOADING:"loading",COMPLETE:"complete"})}),null);
__d("KeplerProgressBar.react",["cx","KeplerProgressBarStatus","LoadingMarker.react","React","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=b("joinClasses")("_55_n"+(this.props.status===b("KeplerProgressBarStatus").LOADING?" _5602":"")+(this.props.status===b("KeplerProgressBarStatus").COMPLETE?" _55_y":""),this.props.className);a=b("React").jsx("div",{className:a,children:b("React").jsx("div",{className:"_55_w"+(this.props.speed==="normal"?" _3h5z":"")+(this.props.speed==="fast"?" _3h68":"")})});return this.props.status===b("KeplerProgressBarStatus").LOADING?b("React").jsx(b("LoadingMarker.react"),{children:a}):a};return c}(b("React").Component);a.defaultProps={speed:"normal"};e.exports=a}),null);
__d("KeplerConnectedChart.react",["cx","AudienceInsightsMetaLoggerWWW","KeplerConstants","KeplerDispatcher","KeplerDisplayStore","KeplerLabel.react","KeplerMetricStore","KeplerPayload","KeplerProgressBar.react","KeplerProgressBarStatus","React","SpectrumIntegerScale","SpectrumPercentageScale","areJSONRepresentationsEqual","createReactClass_DEPRECATED","prop-types"],(function(a,b,c,d,e,f,g){__p&&__p();var h=b("AudienceInsightsMetaLoggerWWW").LOGGER;c=b("createReactClass_DEPRECATED")({displayName:"KeplerConnectedChart",propTypes:{chartProps:(a=b("prop-types")).object.isRequired,handler:a.func.isRequired,metric:a.number.isRequired,type:a.func.isRequired},UNSAFE_componentWillMount:function(){this._subscriptions=[],this._subscriptions.push(b("KeplerMetricStore").subscribe("change",this._handleChange)),this._handleChange(),this._subscriptions.push(b("KeplerDisplayStore").subscribe("change",this._handleDisplayChange)),this._handleDisplayChange()},UNSAFE_componentWillReceiveProps:function(a){var c=this;if(a.params){var d=b("KeplerMetricStore").getImmediately(this.props.metric,a.params);d?this._updateChart(d):(b("KeplerMetricStore").get(this.props.metric,a.params,function(){c.isMounted()&&c._handleChange()}),this.setState({progress:b("KeplerProgressBarStatus").LOADING}))}},componentWillUnmount:function(){this._subscriptions.forEach(function(a){a.unsubscribe()})},getInitialState:function(){return{chartProps:this.props.chartProps,displayValuesAs:null,progress:null}},shouldComponentUpdate:function(a,c){return this.state.displayValuesAs!==c.displayValuesAs||this.state.progress!==c.progress?!0:!b("areJSONRepresentationsEqual")(this.state.chartProps,c.chartProps)},_handleChange:function(){var a=b("KeplerMetricStore").getImmediately(this.props.metric,this.props.params);a?this._updateChart(a):(b("KeplerMetricStore").get(this.props.metric,this.props.params),this.setState({progress:b("KeplerProgressBarStatus").LOADING}))},_updateChart:function(a){var c=babelHelpers["extends"]({},this.state.chartProps,this.props.handler(a.data));a.overlap&&(c=babelHelpers["extends"]({},c,{overlap:a.overlap}));this.setState({chartProps:c,progress:b("KeplerProgressBarStatus").COMPLETE})},_handleDisplayChange:function(){this.setState({displayValuesAs:b("KeplerDisplayStore").getSetting(b("KeplerConstants").Payload.NUMBERS)})},_handleFilterSet:function(a,c){__p&&__p();var d=this.props.chartProps;if(d.filter&&d.filterHandler){d=d.filterHandler(d.filter,a,c);var e={};d.map(function(a){h.logEvent(b("KeplerConstants").EVENT_CHART_FILTER,{filter_name:a.param,filter_value:""+a.value}),e[a.param]=a.value});a=new(b("KeplerPayload"))();a.queueUpdate(b("KeplerConstants").Payload.FILTER,e);b("KeplerDispatcher").handleUpdateFromView(a)}},_getFormattedValue:function(a,c){var d=b("SpectrumIntegerScale")().tickFormat(),e=b("SpectrumPercentageScale")().tickFormat();if(this.state.displayValuesAs===b("KeplerConstants").Numbers.TOTAL)return c?a.total:d(a.total);else return c?a.ratio:e(a.ratio)},render:function(){__p&&__p();var a=babelHelpers["extends"]({},this.state.chartProps),c=a.data&&a.data[b("KeplerConstants").ERROR_CODE_KEY],d,e;!c?(d=this.props.title?b("React").jsx(b("KeplerLabel.react"),{children:this.props.title}):null,e=this.props.description?b("React").jsx("div",{className:"_2yn5",children:this.props.description}):null):this.props.description&&(a.height+=12);a.filter&&(a.onClick=this._handleFilterSet);a.getColumns&&this.props.params&&(a.columns=a.getColumns(this.props.params));a.getValue=this._getFormattedValue;c=this.state.displayValuesAs===b("KeplerConstants").Numbers.TOTAL;a.scaleY=c?b("SpectrumIntegerScale")():b("SpectrumPercentageScale")();c=this.props.type;c=b("React").jsx(c,babelHelpers["extends"]({},a));return b("React").jsxs("div",{className:"_5p01",children:[b("React").jsx(b("KeplerProgressBar.react"),{className:"_4tdb",status:this.state.progress}),d,e,c]})}});e.exports=c}),null);
__d("KeplerCard.react",["cx","HubbleTabbedSections","InsightsTabbedSection.react","KeplerCardFooter.react","KeplerCardHeader.react","KeplerConnectedChart.react","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(b){__p&&__p();var c;c=a.call(this,b)||this;c.$1=function(a){c.setState({activeTab:a.type.getKey(a.props)})};c.$2=function(a,b){var d=babelHelpers["extends"]({},c.state.filter);d[a]=b;c.setState({filter:d})};var d=b.config.filters,e={};if(d)for(var f=0;f<d.length;++f)e[d[f].param]=d[f].value;c.state={filter:e,tab:b.config.defaultTab||0};return c}var d=c.prototype;d.render=function(){__p&&__p();var a=this.props.config,c=babelHelpers["extends"]({},a.header),d=null,e=null,f=null,g=null;a.filters&&(c.onSelectorChange=this.$2,c.selectors=a.filters);(a.header||a.filters)&&(d=b("React").jsx(b("KeplerCardHeader.react"),babelHelpers["extends"]({},c)));a.footer&&(e=b("React").jsx(b("KeplerCardFooter.react"),babelHelpers["extends"]({},a.footer)));if(a.tabs){c=a.tabs.map(function(a,c){c=a.charts.map(function(a){a.params=this.state.filter;return b("React").jsx(b("KeplerConnectedChart.react"),babelHelpers["extends"]({},a))},this);return b("React").jsx(b("InsightsTabbedSection.react"),{sectionKey:a.key,title:a.title,children:c},a.key)},this);f=b("React").jsx(b("HubbleTabbedSections"),{activeKey:this.state.activeTab,children:c,onTabClick:this.$1})}a.charts&&(g=a.charts.map(function(a){a.params=this.state.filter;return b("React").jsx(b("KeplerConnectedChart.react"),babelHelpers["extends"]({},a))},this));c="_5p02"+(a.charts&&a.charts.length>2?" _4ca0":"");return b("React").jsxs("div",{className:c,children:[d,b("React").jsxs("div",{className:"_5p7x",children:[f,g]}),e]})};return c}(b("React").Component);e.exports=a}),null);
__d("KeplerChartErrorNotice.react",["cx","ix","Image.react","KeplerErrors","React","XUIContextualDialog.react","XUINotice.react"],(function(a,b,c,d,e,f,g,h){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={showDialog:!1},d.$1=b("React").createRef(),d.$3=function(){d.setState({showDialog:!0})},d.$4=function(){d.setState({showDialog:!1})},d.$5=function(){return d.$1.current},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=this.$2();if(a!=null)return b("React").jsx("span",{children:this.renderLayers()});var c=this.props.use!=null&&this.props.use!==""?this.props.use:"notify",d=c==="warn"?h("29258"):h("29260"),e={warn:"Warning",notify:"Notice"};if(this.props.type=="table")return b("React").jsxs("span",{children:[b("React").jsx(b("XUINotice.react"),{className:this.props.className,use:c,children:a}),this.renderLayers()]});else{return(a=b("React")).jsxs("span",{children:[a.jsx("div",{className:"_3o1p",children:a.jsx("div",{className:"_3o1q",ref:this.$1,onMouseEnter:this.$3,onMouseLeave:this.$4,children:a.jsx(b("Image.react"),{alt:e[c],className:"_3o1t",src:d})})}),this.renderLayers()]})}};d.renderLayers=function(){return b("React").jsx(b("XUIContextualDialog.react"),{alignment:"center",contextRef:this.$5,position:"above",shown:this.state.showDialog,width:b("XUIContextualDialog.react").WIDTH.NORMAL,children:b("React").jsx("div",{className:"_1idm",children:this.$2()})},"dialog")};d.$2=function(){var a=this.props.errorCode;return Object.prototype.hasOwnProperty.call(b("KeplerErrors"),a)?b("KeplerErrors")[a]:null};return c}(b("React").Component);e.exports=a}),null);
__d("KeplerConnectedFilter.react",["cx","AudienceInsightsMetaLoggerWWW","KeplerCheckableInput.react","KeplerConstants","KeplerDispatcher","KeplerFilterStore","KeplerPayload","React","areJSONRepresentationsEqual","joinClasses","prop-types"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("AudienceInsightsMetaLoggerWWW").LOGGER;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={isToggleChecked:!1},d.$1=function(a){var c={};Array.isArray(d.props.name)?d.props.name.forEach(function(b){c[b]=a?a[b]||null:null}):c[d.props.name]=a;var e=new(b("KeplerPayload"))();e.queueUpdate(b("KeplerConstants").Payload.FILTER,c);b("KeplerDispatcher").handleUpdateFromView(e)},d.$2=function(a){var c=String(d.props.inputProps.value),e=b("KeplerFilterStore").getImmediately(d.props.name)||[],f=e.indexOf(c);a?f===-1&&(e.push(c),e.sort()):f!==-1&&e.splice(f,1);return e.length?e:null},d.$3=function(a){__p&&__p();if(!a)return;var c=d.props.inputProps;a=a.target;var e;if(c.type==="checkbox")d.props.name&&(e=d.$2(a.checked));else if(c.type==="radio"&&!a.checked)return;else e=a.value;d.$1(e||null);Array.isArray(d.props.name)?d.props.name.forEach(function(a){Object.prototype.hasOwnProperty.call(e,a)&&h.logEvent(b("KeplerConstants").EVENT_FILTER,{filter_name:a,filter_value:""+e[a]})}):h.logEvent(b("KeplerConstants").EVENT_FILTER,{filter_name:d.props.name,filter_value:""+e})},d.$4=function(a){a=!d.state.isToggleChecked;d.setState({isToggleChecked:a});a||d.$1(null)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.UNSAFE_componentWillReceiveProps=function(a){if(a.inputProps){a=a.inputProps;var b=a.type==="checkbox"||a.type==="radio";b=b?a.checked:!!a.value;b&&!this.state.isToggleChecked&&this.setState({isToggleChecked:!0})}};d.shouldComponentUpdate=function(a,c){return this.state.isToggleChecked!==c.isToggleChecked?!0:!b("areJSONRepresentationsEqual")(this.props.inputProps,a.inputProps)};d.render=function(){__p&&__p();var a=b("joinClasses")(this.props.inputProps.className,"_5rsi");a=babelHelpers["extends"]({},this.props.inputProps,{className:a,name:this.props.name,onChange:this.$3});var c=this.props.inputType;c=b("React").jsx(c,babelHelpers["extends"]({},a));if(this.props.heading)var d=b("React").jsx("div",{className:"_5t1l",children:this.props.heading});if(this.props.toggleable){a=babelHelpers["extends"]({},this.props.toggleProps,{checked:this.state.isToggleChecked,onChange:this.$4,type:"checkbox"});var e=b("React").jsx(b("KeplerCheckableInput.react"),babelHelpers["extends"]({},a));this.state.isToggleChecked?c=b("React").jsx("ul",{className:"_c52",children:b("React").jsxs("li",{className:"_c53",children:[d,c]})}):(d=null,c=null)}a=b("joinClasses")(this.props.className,"_5qom");return b("React").jsxs("div",{className:a,children:[e,d,c]})};return c}(b("React").Component);a.propTypes={heading:(c=b("prop-types")).string,inputProps:c.object.isRequired,inputType:c.func.isRequired,name:c.oneOfType([c.array,c.string]),toggleable:c.bool,toggleProps:c.object};e.exports=a}),null);
__d("KeplerFieldset.react",["cx","KeplerConnectedFilter.react","KeplerConstants","KeplerDispatcher","KeplerDisplayStore","KeplerFilterStore","KeplerPayload","React","ReactFragment","ShimButton.react","XUIAmbientNUX.react","areJSONRepresentationsEqual","createReactClass_DEPRECATED","isEmpty","prop-types","setImmediate"],(function(a,b,c,d,e,f,g){__p&&__p();var h;function i(a){var b=[];a&&a.forEach(function(a){a.name&&j(b,a.name),a.filters&&j(b,i(a.filters))});return b}function j(a,b){Array.isArray(b)||(b=[b]),b.forEach(function(b){a.indexOf(b)===-1&&a.push(b)})}a=b("createReactClass_DEPRECATED")({displayName:"KeplerFieldset",_subscriptions:[],propTypes:{config:b("prop-types").object.isRequired,onSetFilters:b("prop-types").func},UNSAFE_componentWillMount:function(){this._filters=i(this.props.config.filters),this.props.onSetFilters&&this.props.onSetFilters(this._filters),this._subscriptions.push(b("KeplerFilterStore").subscribe("change",this._handleFilterStoreChange)),this._subscriptions.push(b("KeplerDisplayStore").subscribe("change",this._handleDisplayStoreChange)),this._handleFilterStoreChange()},componentWillUnmount:function(){this._subscriptions.forEach(function(a){a.unsubscribe()})},getInitialState:function(){return{hasSetFilters:!1,highlightConfig:null,isCollapsed:!!this.props.config.collapsed,isHidden:!1}},_createList:function(a,c){a=a.map(this._createListItems);c=(c?"_c4-":"")+" _c52";return b("React").jsx("ul",{className:c,children:a})},_createListItems:function(a,c){__p&&__p();var d=a.inputProps=babelHelpers["extends"]({},a.inputProps);if(a.name){var e;Array.isArray(a.name)?(e={},a.name.forEach(function(a){e[a]=b("KeplerFilterStore").getImmediately(a)})):e=b("KeplerFilterStore").getImmediately(a.name);d.type==="checkbox"?d.checked=(e||[]).indexOf(String(d.value))>-1:d.type==="radio"?d.checked=e===String(d.value):d.value=e}d.processTreeData=this._processTreeData;if(a.filters)var f=this._createList(a.filters,!d.checked);d=b("React").jsx(b("KeplerConnectedFilter.react"),babelHelpers["extends"]({},a));return b("React").jsxs("li",{className:"_c53",children:[d,f]},c)},_handleClick:function(a){this.setState({isCollapsed:!this.state.isCollapsed})},_handleDisplayStoreChange:function(){var a=b("KeplerDisplayStore").getSetting(b("KeplerConstants").Payload.HIGHLIGHTED_FIELDSET);if(!this.props.config.id)return;if(!a&&!this.state.highlightConfig)return;a&&(a.id==this.props.config.id?this.setState({highlightConfig:a,isCollapsed:!1}):this.setState({highlightConfig:null}));!a&&this.state.highlightConfig&&this.setState({highlightConfig:null})},_handleFilterStoreChange:function(){var a=this.state,c=b("KeplerFilterStore").getDefaultJSON(),d=this._filters.some(function(a){var d=b("KeplerFilterStore").getImmediately(a),e=!!d;d=b("areJSONRepresentationsEqual")(d,c[a]);return e&&!d});d&&!this.state.hasSetFilters&&(a.isCollapsed=!1);a.hasSetFilters=d;this.setState(a)},_handleRemoveFilters:function(a){a=new(b("KeplerPayload"))();a.queueDelete(b("KeplerConstants").Payload.FILTER,this._filters);b("KeplerDispatcher").handleUpdateFromView(a)},_handleSetFilters:function(a){this._filters=this._filters.concat(a),b("setImmediate")(this._handleFilterStoreChange)},_hideCallout:function(){if(!this.state.highlightConfig)return;var a={};a[b("KeplerConstants").Payload.HIGHLIGHTED_FIELDSET]=null;var c=new(b("KeplerPayload"))();c.queueUpdate(b("KeplerConstants").Payload.DISPLAY,a);b("KeplerDispatcher").handleUpdateFromView(c)},_processTreeData:function(a){this.setState({isHidden:(h||(h=b("isEmpty")))(a)});return a},render:function(){var a="_5qop"+(this.state.hasSetFilters?" _5sbs":"")+(this.state.isCollapsed?" _5sbt":"")+(this.state.isHidden?" _c4-":"")+(this.state.highlightConfig?" uiContextualLayerParent":""),c;this.props.children?c=b("React").Children.map(this.props.children,function(a){return b("React").cloneElement(a,{onSetFilters:this._handleSetFilters})},this):c=this._createList(this.props.config.filters);if(this.state.hasSetFilters)var d=b("React").jsx(b("ShimButton.react"),{className:"_c4u",form:"link",size:"small",onClick:this._handleRemoveFilters});var e=null;this.state.highlightConfig&&(e=b("React").jsx("div",{className:"_4ngm"}));return b("React").jsxs("span",{children:[b("React").jsxs("div",{className:a,"data-fieldset-name":this.props.config.name,ref:"root",role:"presentation",onClick:this._hideCallout,children:[e,b("React").jsxs("div",{className:"_5uhg",children:[b("React").jsx("div",{className:"_5qos",role:"presentation",onClick:this._handleClick,children:this.props.config.legend}),d,b("React").jsx("i",{className:"_4kzx"})]}),b("React").jsx("div",{className:"_5uhf",children:c}),b("React").jsx("hr",{className:"_5sbw"})]}),this.renderLayers()]})},renderLayers:function(){var a=this,c=null;this.state.highlightConfig&&(c=b("React").jsx(b("XUIAmbientNUX.react"),{contextRef:function(){return a.refs.root},offsetY:this.state.highlightConfig.calloutOffsetY||0,position:"right",shown:!0,onCloseButtonClick:this._hideCallout,children:this.state.highlightConfig.calloutContent}));return b("ReactFragment").create({callout:c})}});e.exports=a}),null);
__d("XAdsKeplerTargetSpecOpenController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ads/audience-insights/v2/open/",{admarket_id:{type:"Int",required:!0}})}),null);
__d("KeplerFilterSetDataLayer",["fbt","AsyncRequest","AudienceInsightsMetaLoggerWWW","BusinessURI.brands","KeplerAudienceStore","KeplerConstants","KeplerDispatcher","KeplerPayload","XAdsKeplerTargetSpecOpenController"],(function(a,b,c,d,e,f,g){__p&&__p();var h=b("AudienceInsightsMetaLoggerWWW").LOGGER;b("KeplerAudienceStore").register();function i(a){__p&&__p();var c=a.payload[b("KeplerConstants").FILTER_SET_PARAM_ADMARKET_ID],d={};d[c]=[];Object.keys(a.payload.filterSets).forEach(function(b){d[c].push(b);b=a.payload.filterSets[b];b.filter_updated_time=new Date(b.filter_updated_time*1e3)});var e=new(b("KeplerPayload"))();e.queueUpdate(b("KeplerConstants").Payload.AD_ACCOUNTS_TO_FILTER_SETS,d);e.queueUpdate(b("KeplerConstants").Payload.FILTER_SETS,a.payload.filterSets);b("KeplerDispatcher").handleUpdateFromServer(e)}function j(a,c,d){a=g._("Your audience \"{audience name}\" has been saved.",[g._param("audience name",a)]);var e=new(b("KeplerPayload"))();e.queueUpdate(b("KeplerConstants").Payload.TOAST,a);b("KeplerDispatcher").handleUpdateFromView(e);i(c);d&&d(c.payload)}a={getFilterSetsByAdAccountIDFromServer:function(a){var c={};c[b("KeplerConstants").FILTER_SET_PARAM_ADMARKET_ID]=a;c=new(b("AsyncRequest"))().setAllowCrossPageTransition(!0).setData(c).setMethod("GET").setPreBootloadHandler(i).setReadOnly(!0).setURI("/ads/audience-insights/filterset/open/");b("KeplerConstants").UseTargetSpec&&c.setURI(b("BusinessURI.brands")(b("XAdsKeplerTargetSpecOpenController").getURIBuilder().setInt(b("KeplerConstants").PARAM_ADMARKET_ID,+a).getURI()));c.send()},openFilterSetFromPayload:function(a){var c=new(b("KeplerPayload"))();c.queueUpdate(b("KeplerConstants").Payload.ACTIVE_FILTER_SET,a[b("KeplerConstants").FILTER_SET_PARAM_ID]);b("KeplerDispatcher").handleUpdateFromView(c)},saveNewFilterSet:function(a,c,d,e,f,g,i){__p&&__p();var k,l={};l[(k=b("KeplerConstants")).FILTER_SET_PARAM_ADMARKET_ID]=a;l[k.FILTER_SET_PARAM_FILTER]=JSON.stringify(d);l[k.FILTER_SET_PARAM_NAME]=c;l[k.FILTER_SET_PARAM_PREVIEW]=JSON.stringify(e);l[k.FILTER_SET_PARAM_TARGETING_SPEC]=JSON.stringify(f);l[k.SESSION_ID_PARAM]=h.getSessionID();a=new(b("AsyncRequest"))().setAllowCrossPageTransition(!0).setData(l).setMethod("POST").setPreBootloadHandler(function(a){j(c,a,g)}).setURI("/ads/audience-insights/filterset/create/");i&&a.setFinallyHandler(i);a.send()},updateFilterSet:function(a,c,d,e,f,g,i){__p&&__p();var k,l={};l[(k=b("KeplerConstants")).FILTER_SET_PARAM_FILTER]=JSON.stringify(d);l[k.FILTER_SET_PARAM_ID]=a;l[k.FILTER_SET_PARAM_NAME]=c;l[k.FILTER_SET_PARAM_PREVIEW]=JSON.stringify(e);l[k.FILTER_SET_PARAM_TARGETING_SPEC]=JSON.stringify(f);l[k.SESSION_ID_PARAM]=h.getSessionID();d=new(b("AsyncRequest"))().setAllowCrossPageTransition(!0).setData(l).setMethod("POST").setPreBootloadHandler(function(a){j(c,a,g)}).setURI("/ads/audience-insights/filterset/update/");i&&d.setFinallyHandler(i);d.send()}};e.exports=a}),null);
__d("KeplerFilterSetPreviewStore",["AdsGraphAPI","ArbiterMixin","KeplerActiveAdAccountStore","KeyedCallbackManager","promiseDone"],(function(a,b,c,d,e,f){__p&&__p();var g=new(b("KeyedCallbackManager"))();function h(a,b){var c={};a=JSON.stringify(a);c[a]=b.targetingsentencelines||[];g.addResourcesAndExecute(c)}a=babelHelpers["extends"]({},b("ArbiterMixin"),{get:function(a,c){c=c||function(){};var d=JSON.stringify(a);d=g.executeOrEnqueue(d,c);d&&b("promiseDone")(b("AdsGraphAPI").get(e.id).adaccount(b("KeplerActiveAdAccountStore").getLegacyAccountID()).edge("targetingsentencelines").get({accountId:b("KeplerActiveAdAccountStore").getLegacyAccountID(),targeting_spec:a}),function(b){h(a,b)})},getImmediately:function(a){a=JSON.stringify(a);return g.getResource(a)||""}});e.exports=a}),null);
__d("KeplerHeader.react",["cx","React","joinClasses"],(function(a,b,c,d,e,f,g){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){if(this.props.titles.length)var a=this.props.titles.map(function(c){var a=b("joinClasses")("_5vqm",c.ref);return b("React").jsxs("div",{className:a,children:[b("React").jsx("span",{className:"_5vqn",style:{backgroundColor:c.color}}),c.label,b("React").jsx("div",{className:"_10zm",children:c.subtitle})]},c.label)});var c=b("joinClasses")("_5vqo",this.props.className);return b("React").jsxs("div",{className:c,children:[a,this.props.children]})};return c}(b("React").Component);e.exports=a}),null);
__d("KeplerNavigation.react",["cx","invariant","React","joinClasses"],(function(a,b,c,d,e,f,g,h){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=b("React").Children.map(this.props.children,function(a,c){return b("React").jsx("li",{className:"_5vqv",children:b("React").jsxs("span",{className:"_5vqw",children:[a,b("React").jsx("span",{className:"_1vx7"})]})})},this),c=b("joinClasses")("_5vqt",this.props.className);return b("React").jsx("div",{className:c,children:b("React").jsx("ul",{className:"_5vqu",children:a})})};return c}(b("React").Component);e.exports=a}),null);
__d("KeplerAdAccountToFilterSetStore",["ArbiterMixin","KeplerAudienceStore","KeplerConstants","KeplerDispatcher","KeyedCallbackManager"],(function(a,b,c,d,e,f){var g=new(b("KeyedCallbackManager"))(),h=babelHelpers["extends"]({},b("ArbiterMixin"),{getFilterSetsConnectedToAdAccount:function(a,c){g.executeOrEnqueue([a],function(d){b("KeplerAudienceStore").getAudiences(d[a],c)})}});b("KeplerDispatcher").register(function(a){a.has(b("KeplerConstants").Payload.AD_ACCOUNTS_TO_FILTER_SETS)&&(a.get(b("KeplerConstants").Payload.AD_ACCOUNTS_TO_FILTER_SETS).forEach(function(a){a.type===b("KeplerConstants").ActionType.UPDATE&&g.addResourcesAndExecute(a.data)}),h.inform("change"))});e.exports=h}),null);
__d("KeplerAudienceTable.react",["cx","fbt","ix","FDSText.react","Image.react","KeplerConstants","ObjectSort","React","SpectrumIntegerScale","XUISortableDataTable.react","createReactClass_DEPRECATED","formatDate","intlList","prop-types"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();a="modified";var j="name";c="owner";d="preview";f="size";var k=function(a,b){var c=a.length,d=b.length,e;for(var f=0;f<Math.min(c,d);f+=1){e=a[f]-b[f];if(e!==0)return e}return c-d};g=231;var l=[{comparator:b("ObjectSort").getStringSortFunction("rawName"),id:j,label:h._("Name"),sortable:!0,width:250+(b("KeplerConstants").UseTargetSpec?g:0)},{comparator:function(a,b){return k(a.sizeScore,b.sizeScore)},id:f,label:h._("Size (People)"),sortable:!0,width:100},{comparator:b("ObjectSort").getReverseNumericSortFunction("rawTimestamp"),id:a,label:h._("Modified"),sortable:!0,width:100},b("KeplerConstants").UseTargetSpec?void 0:{comparator:b("ObjectSort").getStringSortFunction("rawOwner"),id:c,label:h._("Owner"),sortable:!0,width:g}].filter(function(a){return!!a}),m=[{id:d,label:h._("Preview")}],n=b("SpectrumIntegerScale")().tickFormat(),o=b("createReactClass_DEPRECATED")({displayName:"KeplerAudienceTable",getInitialState:function(){return{previewAudienceID:null}},propTypes:{audiences:b("prop-types").object.isRequired,onAudienceSelect:b("prop-types").func.isRequired,selectedAudienceID:b("prop-types").string},UNSAFE_componentWillMount:function(){var a=this;o.setAudienceID=function(b){a.isMounted()&&(a.setState({previewAudienceID:b}),a.props.onAudienceSelect(b))}},render:function(){__p&&__p();var a=Object.keys(this.props.audiences).map(function(a){__p&&__p();var c=this.props.audiences[a],d=c.updatedTime,e=c.name,f=c.owners||[];f=f&&f.count()?f.get(0).name:"--";c=c.audienceSize;var g,h;switch(c.status){case b("KeplerConstants").SIZE_STATUS_PRECISE:g=c.value<1e3?"< 1,000":n(c.value);h=[c.value];break;case b("KeplerConstants").SIZE_STATUS_INPRECISE:g=n(c.lowerBound)+" - "+n(c.upperBound);h=[c.lowerBound,c.upperBound];break;case b("KeplerConstants").SIZE_STATUS_TOO_FEW:g="< 1,000";h=[999.5];break;default:case b("KeplerConstants").SIZE_STATUS_UNKNOWN:g="--";h=[-1];break}var i={name:e,size:g,modified:b("formatDate")(d,"n/j/y"),owner:f};a===this.props.selectedAudienceID&&Object.keys(i).forEach(function(a){i[a]=b("React").jsx("div",{className:"_17e8",children:i[a]})});i.audienceID=a;i.rawName=e;i.rawOwner=f;i.rawSize=c;i.rawTimestamp=+d;i.sizeScore=h;return i},this),c=this.state.previewAudienceID?this.props.audiences[this.state.previewAudienceID]:null;c=b("React").jsxs("div",{children:[b("React").jsx(b("XUISortableDataTable.react"),{columns:m,outerBorder:!1,rows:[]}),b("React").jsx("div",{className:"_17e9",children:this._renderPreview(c)})]});return b("React").jsxs("div",{className:"_17ea",children:[b("React").jsx("div",{className:"_17eb",role:"presentation",onClick:this._handleTableClick,children:b("React").jsx(b("XUISortableDataTable.react"),{columns:l,columnToSortBy:j,outerBorder:!1,rows:a,onRowMouseEnter:this._handleRowMouseEnter,onRowMouseLeave:this._handleRowMouseLeave})}),b("React").jsx("div",{className:"_17ey",children:c})]})},_renderPreview:function(a){__p&&__p();var c=function c(d,e){__p&&__p();var f=a.unsharedCustomAudiences,g=Object.keys(f);if(d.content){var j=(d.children||[]).map(c);j=j.length?b("React").jsx("ul",{className:"_17ez",children:j}):null;return b("React").jsxs("li",{children:[b("React").jsx("span",{children:d.content}),j]},d.content+e)}else if(/^Categor.*:/.test(d)&&g.length!==0){j=function(a){return b("React").jsx(b("Image.react"),{alt:a,className:"_17e-","data-hover":"tooltip","data-tooltip-alignh":"center","data-tooltip-content":a,ref:"unsharedIcon",src:i("22963")})};var k=[];g.forEach(function(a){a=f[a];a&&k.push(a.name)});k.length===g.length&&k.length===1?e=h._("The custom audience {custom audience name} is no longer shared with you. Ask the owner to share insights permissions with you.",[h._param("custom audience name",k[0])]):k.length==g.length?e=h._("The custom audiences {custom audience names} are no longer shared with you. Ask the owners to share insights permissions with you.",[h._param("custom audience names",b("intlList")(k))]):g.length===1?e=h._("The custom audience is no longer shared with you. Ask the owners to share insights permissions with you."):e=h._("The custom audiences are no longer shared with you. Ask the owners to share insights permissions with you.");return b("React").jsxs("li",{children:[d,j(e)]},d)}else return b("React").jsx("li",{children:d},d)};if(a)try{var d=JSON.parse(a.preview);return[b("React").jsx(b("FDSText.react"),{size:"meta1",weight:"bold",children:a.name},"filter_name"),b("React").jsx("ul",{className:"_17ez",children:d.map(c)},"sentences")]}catch(a){return b("React").jsx(b("FDSText.react"),{size:"meta1",weight:"bold",children:h._("No preview available.")})}else return b("React").jsx(b("FDSText.react"),{size:"meta1",weight:"bold",children:h._("Hover over an audience to view details.")})},_handleRowMouseEnter:function(a){this.setState({previewAudienceID:a.audienceID})},_handleRowMouseLeave:function(a){this.setState({previewAudienceID:this.props.selectedAudienceID})},_handleTableClick:function(){var a=this.state.previewAudienceID;a===this.props.selectedAudienceID&&(a=null);this.props.onAudienceSelect(a)}});e.exports=o}),null);
__d("KeplerOpenAudienceDialog.react",["cx","fbt","FDSSpinner.react","KeplerAccountSelector.react","KeplerActiveAdAccountStore","KeplerAdAccountStore","KeplerAdAccountToFilterSetStore","KeplerAudienceTable.react","KeplerFilterSetDataLayer","Keys","React","ReactDOM","Tooltip","XUIDialogBody.react","XUIDialogButton.react","XUIDialogCancelButton.react","XUIDialogFooter.react","XUIDialogTitle.react","createReactClass_DEPRECATED","prop-types"],(function(a,b,c,d,e,f,g,h){__p&&__p();a=b("createReactClass_DEPRECATED")({displayName:"KeplerOpenAudienceDialog",_subscriptions:[],propTypes:{openAudience:b("prop-types").func.isRequired},componentDidMount:function(){this._subscriptions.push(b("KeplerAdAccountToFilterSetStore").subscribe("change",function(){b("KeplerAdAccountToFilterSetStore").getFilterSetsConnectedToAdAccount(this.state.activeAdAccountID,this._updateViewableAudiences)}.bind(this))),this._loadSavedAudiences()},componentWillUnmount:function(){this._subscriptions.forEach(function(a){a.unsubscribe()})},getInitialState:function(){return{activeAdAccountID:b("KeplerActiveAdAccountStore").getAdmarketID(),audiences:null,selectedAudienceID:null}},render:function(){var a=null;this.state.audiences===null?a=b("React").jsx("div",{className:"_1n0_",children:b("React").jsx(b("FDSSpinner.react"),{size:"large"})}):Object.keys(this.state.audiences).length?a=b("React").jsx(b("KeplerAudienceTable.react"),{audiences:this.state.audiences,ref:"table",selectedAudienceID:this.state.selectedAudienceID,onAudienceSelect:this._onAudienceSelect}):a=b("React").jsx("div",{className:"_1n0-",children:h._("No Audiences")});return b("React").jsxs("div",{className:"_1p8k",role:"button",style:{outline:"none"},tabIndex:"1",onKeyPress:this._handleKeyPress,children:[b("React").jsx(b("XUIDialogTitle.react"),{children:b("React").jsxs("div",{children:[b("React").jsx("div",{children:h._("Open a Saved Audience")}),b("React").jsxs("div",{className:"_1p8j",children:[h._("Account:"),b("React").jsx(b("KeplerAccountSelector.react"),{activeAdAccountID:this.state.activeAdAccountID,className:"mls",maxWidth:700,onAccountSelect:this._handleAccountSelectorClick})]})]})}),b("React").jsx(b("XUIDialogBody.react"),{useCustomPadding:!0,children:b("React").jsx("div",{className:"_zbb",children:a})}),b("React").jsxs(b("XUIDialogFooter.react"),{children:[b("React").jsx(b("XUIDialogCancelButton.react"),{}),b("React").jsx(b("XUIDialogButton.react"),{action:"button",className:"_5x2m",disabled:this._isOpenDisabled(),label:h._("Open"),use:"confirm",onClick:this._onOpenClick})]})]})},_handleKeyPress:function(a){a=a.nativeEvent.keyCode;a===b("Keys").RETURN&&this._onOpenClick()},_handleAccountSelectorClick:function(a){a=a.value;b("KeplerAdAccountStore").getAdAccount(a)&&this.state.activeAdAccountID!=a&&this.setState({activeAdAccountID:a,audiences:null},this._loadSavedAudiences)},_isOpenDisabled:function(){var a=this.getSelectedAudience();if(!this.state.selectedAudienceID)return!0;if(a){a=a.unsharedCustomAudiences;return Object.keys(a).length!==0}return!1},_loadSavedAudiences:function(){b("KeplerFilterSetDataLayer").getFilterSetsByAdAccountIDFromServer(this.state.activeAdAccountID)},_onAudienceSelect:function(a){a===this.state.selectedAudienceID&&(a=null),this.setState({selectedAudienceID:a})},getSelectedAudience:function(){return this.state.selectedAudienceID&&this.state.audiences&&this.state.audiences[this.state.selectedAudienceID]},_onOpenClick:function(a){__p&&__p();if(this._isOpenDisabled()){a=this.getSelectedAudience();if(a){a=a.unsharedCustomAudiences;if(Object.keys(a).length!==0){a=this.refs.table;if(a){a=a.refs.unsharedIcon;a&&b("Tooltip").show(b("ReactDOM").findDOMNode(a))}}}return}this.props.openAudience(this.state.audiences[this.state.selectedAudienceID])},_updateViewableAudiences:function(a){this.setState({audiences:a})}});e.exports=a}),null);
__d("KeplerPageActions",["KeplerConstants","KeplerDispatcher","KeplerPayload"],(function(a,b,c,d,e,f){a={pop:function(a){var c=new(b("KeplerPayload"))();c.queueUpdate(b("KeplerConstants").Payload.PAGE,a);b("KeplerDispatcher").handleUpdateFromView(c)},replace:function(a){var c=new(b("KeplerPayload"))();c.queueCreate(b("KeplerConstants").Payload.PAGE,a);b("KeplerDispatcher").handleUpdateFromView(c)}};e.exports=a}),null);
__d("KeplerPageDescriptor",["invariant","KeplerAdAccountStore","KeplerFilterStore","URI"],(function(a,b,c,d,e,f,g){__p&&__p();var h;a={toURI:function(a){typeof a.admarketID==="string"||g(0,4941);typeof a.filters==="object"||g(0,4942);typeof a.section==="string"||g(0,4943);var c=b("KeplerAdAccountStore").getAdAccount(a.admarketID);c||g(0,4944);return new(h||(h=b("URI")))().setPath("/ads/audience-insights/"+a.section).addQueryData({act:c.legacyAccountID,business_id:a.businessID||void 0}).addQueryData(b("KeplerFilterStore").toURIQuery(a.filters)).addQueryData(a.auxFields)},fromURI:function(a){__p&&__p();var c=/^\/ads\/audience[_-]insights(\/(\w+))?/.exec(a.getPath());if(!c)return null;var d=a.getQueryData();a=b("KeplerFilterStore").fromURIQuery(d);Object.keys(a).length||(a=null);var e=d.act?b("KeplerAdAccountStore").getByLegacyAccountID(d.act):null,f={};Object.keys(d).forEach(function(a){/^uitest/.test(a)&&(f[a]=d[a])});Object.keys(f).length||(f=null);return{admarketID:e?e.admarketID:null,auxFields:f,businessID:d.business_id||null,filters:a,section:c[2]||null}}};e.exports=a}),null);
__d("KeplerBusinessStore",["ArbiterMixin","KeplerConstants","KeplerDispatcher"],(function(a,b,c,d,e,f){__p&&__p();var g=null,h=babelHelpers["extends"]({},b("ArbiterMixin"),{getID:function(){return g},handleAction:function(a){switch(a.type){case b("KeplerConstants").ActionType.UPDATE:g=a.data;break}},handlePayload:function(a){var c=g,d;d=a.get(b("KeplerConstants").Payload.BUSINESS);d&&d.forEach(this.handleAction,this);d=a.get(b("KeplerConstants").Payload.PAGE);d&&d.forEach(function(a){var c=a.data;a.type===b("KeplerConstants").ActionType.CREATE&&(g=c.businessID)});c!==g&&this.inform("change")},toUpdate:b("KeplerDispatcher").register(function(a){return h.handlePayload(a)})});e.exports=h}),null);
__d("KeplerSectionStore",["ArbiterMixin","AudienceInsightsMetaLoggerWWW","KeplerConstants","KeplerDispatcher"],(function(a,b,c,d,e,f){__p&&__p();var g=b("AudienceInsightsMetaLoggerWWW").LOGGER,h="people",i=babelHelpers["extends"]({},b("ArbiterMixin"),{get:function(){return h},handleAction:function(a){switch(a.type){case b("KeplerConstants").ActionType.UPDATE:h=a.data;g.logEvent(b("KeplerConstants").EVENT_VIEW_SECTION,{section:h});break}},handlePayload:function(a){var c=h,d;d=a.get(b("KeplerConstants").Payload.SECTION);d&&d.forEach(this.handleAction,this);d=a.get(b("KeplerConstants").Payload.PAGE);d&&d.forEach(function(a){a=a.data;h=a.section});c!==h&&this.inform("change")},toUpdate:b("KeplerDispatcher").register(function(a){return i.handlePayload(a)})});e.exports=i}),null);
__d("KeplerPageStore",["ArbiterMixin","KeplerActiveAdAccountStore","KeplerBusinessStore","KeplerConstants","KeplerDispatcher","KeplerFilterStore","KeplerPageDescriptor","KeplerSectionStore","PageTransitions","URI","areEqual"],(function(a,b,c,d,e,f){__p&&__p();var g,h,i={},j=babelHelpers["extends"]({},b("ArbiterMixin"),{getURI:function(){return b("KeplerPageDescriptor").toURI(this.get())},get:function(){return{admarketID:b("KeplerActiveAdAccountStore").getAdmarketIDNullable(),auxFields:i,businessID:b("KeplerBusinessStore").getID(),filters:b("KeplerFilterStore").getJSON(),section:b("KeplerSectionStore").get()}},resolve:function(a){var b=this.get(),c={};for(var d in b)c[d]=a[d]||b[d];return c},handlePayload:function(a){__p&&__p();var c,d=b("KeplerPageDescriptor").fromURI((g||(g=b("URI"))).getMostRecentURI()),e="replace",f=!1;a.get(b("KeplerConstants").Payload.ACCOUNT)&&(f=!0);a.get(b("KeplerConstants").Payload.FILTER)&&(f=!0);c=a.get(b("KeplerConstants").Payload.SECTION);c&&(f=!0,c[c.length-1].data!==d.section&&(e="push"));c=a.get(b("KeplerConstants").Payload.PAGE);if(c){f=f||c.some(function(a){return a.type==b("KeplerConstants").ActionType.CREATE});a=c[c.length-1];i=a.data.auxFields}c=this.get();if(f){var j=!1;b("PageTransitions").registerHandler(function(a){if(j)return!1;j=!0;b("PageTransitions").transitionComplete();return!0},4);b("PageTransitions").go(b("KeplerPageDescriptor").toURI(c),e==="replace")}(h||(h=b("areEqual")))(d,c)||this.inform("change")},toUpdate:b("KeplerDispatcher").register(function(a){b("KeplerDispatcher").waitFor([b("KeplerActiveAdAccountStore").toUpdate,b("KeplerBusinessStore").toUpdate,b("KeplerFilterStore").toUpdate,b("KeplerSectionStore").toUpdate]),j.handlePayload(a)})});e.exports=j}),null);
__d("KeplerPreferencesStore",["Promise","AsyncRequest","KeplerActiveAdAccountStore","KeplerConstants"],(function(a,b,c,d,e,f){__p&&__p();var g=function(a){return new(b("Promise"))(function(b,c){a.setHandler(b).setErrorHandler(c).send()})};a={prefs:{},fetch:function(){var a=new(b("AsyncRequest"))().setAllowCrossPageTransition(!0).setMethod("GET").setReadOnly(!0).setURI("/ads/audience-insights/preferences");return g(a)},get:function(){return this.prefs},initialize:function(a){this.prefs=a},set:function(a){this.prefs=babelHelpers["extends"]({},this.prefs,a);var c={},d=b("KeplerActiveAdAccountStore").getAdmarketID();c[b("KeplerConstants").PREFERENCES_PARAM_AD_ACCOUNT_ID]=d;c[b("KeplerConstants").PREFERENCES_PARAM_PREFERENCES]=JSON.stringify(a);d=new(b("AsyncRequest"))().setAllowCrossPageTransition(!0).setData(c).setMethod("POST").setURI("/ads/audience-insights/preferences/update");return g(d)}};e.exports=a}),null);
__d("KeplerSaveAudienceAsDialog.react",["cx","fbt","KeplerActiveAdAccountStore","KeplerAdAccountToFilterSetStore","KeplerAudienceTable.react","KeplerAudienceUtils","KeplerConstants","KeplerFilterSetDataLayer","KeplerFilterSetPreviewStore","KeplerFilterStore","Keys","React","ReactDOM","SUIBusinessTheme","SUIText.react","XUIDialog.react","XUIDialogBody.react","XUIDialogButton.react","XUIDialogCancelButton.react","XUIDialogFooter.react","XUIDialogTitle.react","XUITextInput.react","createReactClass_DEPRECATED","filterObject","isEmpty","prop-types"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i,j=b("createReactClass_DEPRECATED")({displayName:"KeplerSaveAudienceAsDialog",_shouldFocusTextInput:!1,_subscriptions:[],propTypes:{audienceSaveCallback:b("prop-types").func,viewerID:b("prop-types").string.isRequired},getDefaultProps:function(){return{audienceSaveCallback:b("KeplerFilterSetDataLayer").openFilterSetFromPayload}},componentDidMount:function(){__p&&__p();var a=this;this._subscriptions.push(b("KeplerAdAccountToFilterSetStore").subscribe("change",function(){b("KeplerAdAccountToFilterSetStore").getFilterSetsConnectedToAdAccount(this.state.activeAdAccountID,this._updateViewableAudiences)}.bind(this)));b("KeplerFilterSetDataLayer").getFilterSetsByAdAccountIDFromServer(this.state.activeAdAccountID);j.selectOrSetFilterSetName=function(b){if(!a.state.audiences)return;var c;Object.keys(a.state.audiences).forEach(function(d){var e=a.state.audiences[d];e.name===b&&(c=d)});c?a.setState({audienceNameValue:b,selectedAudienceID:c}):a.setState({audienceNameValue:b})}},componentDidUpdate:function(){this._shouldFocusTextInput&&b("ReactDOM").findDOMNode(this.refs.audienceNameTextInput).focus(),this._shouldFocusTextInput=!1},componentWillUnmount:function(){this._subscriptions.forEach(function(a){a.unsubscribe()})},getInitialState:function(){return{activeAdAccountID:b("KeplerActiveAdAccountStore").getAdmarketID(),audienceNameValue:null,audiences:null,isSaving:!1,selectedAudienceID:null,showConfirmationDialog:!1}},render:function(){var a=null;this.state.audiences&&(a=b("React").jsx(b("KeplerAudienceTable.react"),{audiences:this.state.audiences,selectedAudienceID:this.state.selectedAudienceID,onAudienceSelect:this._handleAudienceSelect}));var c=h._("Account: {account name}",[h._param("account name",b("KeplerActiveAdAccountStore").getFriendlyName())]),d=!this.state.audienceNameValue||this.state.isSaving,e=h._("Your audience will be available in the Audiences section of Ads Manager.");return b("React").jsxs("div",{className:"_1p8k",role:"button",style:{outline:"none"},tabIndex:"1",onKeyPress:this._handleKeyPress,children:[b("React").jsx(b("XUIDialogTitle.react"),{children:b("React").jsxs("div",{children:[b("React").jsx("div",{children:h._("Save Audience")}),b("React").jsx("div",{className:"_1p8j",children:c})]})}),b("React").jsxs(b("XUIDialogBody.react"),{useCustomPadding:!0,children:[b("React").jsxs("div",{className:"pam",children:[b("React").jsx(b("SUIText.react"),{className:"prs",size:"medium_DEPRECATED",theme:b("SUIBusinessTheme"),children:h._("Audience Name:")}),b("React").jsx(b("XUITextInput.react"),{className:"_5q9o",disabled:!this.state.audiences,ref:"audienceNameTextInput",value:this.state.audienceNameValue,onChange:this._handleAudienceNameChange}),b("React").jsx(b("SUIText.react"),{className:"pls",size:"medium_DEPRECATED",theme:b("SUIBusinessTheme"),children:e})]}),b("React").jsx("div",{className:"_zbb",children:a})]}),b("React").jsxs(b("XUIDialogFooter.react"),{children:[b("React").jsx(b("XUIDialogCancelButton.react"),{}),b("React").jsx(b("XUIDialogButton.react"),{action:"button",className:"_5q9p",disabled:d,label:h._("Save"),use:"confirm",onClick:d?null:this._handleSaveClick})]}),this.renderLayers()]})},renderLayers:function(){var a;return(a=b("React")).jsxs(b("XUIDialog.react"),{shown:this.state.showConfirmationDialog,width:400,onToggle:this._handleConfirmationToggle,children:[a.jsx(b("XUIDialogBody.react"),{children:h._("Are you sure you want to replace this audience?")}),a.jsxs(b("XUIDialogFooter.react"),{children:[a.jsx(b("XUIDialogCancelButton.react"),{}),a.jsx(b("XUIDialogButton.react"),{action:"button",className:"_5q9v",label:h._("Replace"),use:"confirm",onClick:this._handleSaveClick})]})]},"confirmationDialog")},_handleAudienceNameChange:function(a){a=a.target.value;a=a.replace(/^\s*/,"");this.setState({audienceNameValue:a})},_handleConfirmationToggle:function(a){a!==this.state.showConfirmationDialog&&this.setState({showConfirmationDialog:a})},_handleAudienceSelect:function(a){a===this.state.selectedAudienceID&&(a=null);var b=null;a&&(b=this.state.audiences[a].name);this.setState({audienceNameValue:b,selectedAudienceID:a})},_handleKeyPress:function(a){a=a.nativeEvent.keyCode;a===b("Keys").RETURN&&this._handleSaveClick()},_handleSaveClick:function(){var a=this;if(this.state.selectedAudienceID&&!this.state.showConfirmationDialog)return this.setState({showConfirmationDialog:!0});b("KeplerFilterStore").getTargeting().done(function(c){(i||(i=b("isEmpty")))(c)?a._saveAudience([]):b("KeplerFilterSetPreviewStore").get(c,a._saveAudience)})},_saveAudience:function(a){var c=this;this.setState({isSaving:!0});var d=function(){this.isMounted()&&this.setState({isSaving:!1})}.bind(this);b("KeplerFilterStore").getTargeting().done(function(e){c.state.selectedAudienceID?(b("KeplerFilterSetDataLayer").updateFilterSet(c.state.selectedAudienceID,c.state.audienceNameValue,b("KeplerFilterStore").getJSON(),a,e,c.props.audienceSaveCallback,d),c.setState({showConfirmationDialog:!1})):b("KeplerFilterSetDataLayer").saveNewFilterSet(c.state.activeAdAccountID,c.state.audienceNameValue,b("KeplerFilterStore").getJSON(),a,e,c.props.audienceSaveCallback,d)})},_updateViewableAudiences:function(a){var c=this;this._shouldFocusTextInput=!0;var d;b("KeplerConstants").UseTargetSpec?d=a:d=b("filterObject")(a,function(a){return b("KeplerAudienceUtils").isViewerOwnerOfAudience(c.props.viewerID,a)});this.setState({audiences:d})}});e.exports=j}),null);
__d("KeplerSectionActions",["KeplerConstants","KeplerDispatcher","KeplerPayload"],(function(a,b,c,d,e,f){a={set:function(a){var c=new(b("KeplerPayload"))();c.queueUpdate(b("KeplerConstants").Payload.SECTION,a);b("KeplerDispatcher").handleUpdateFromView(c)}};e.exports=a}),null);
__d("KeplerBarChartLabelRow.react",["cx","Locale","React"],(function(a,b,c,d,e,f,g){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a={width:100/this.props.labels.length+"%"},c=this.props.parentWidth/this.props.labels.length,d=c-c*this.props.marginPercent;c=(c-d)*.5;d=this.props.parentWidth+2*c;c=-1*c;c={marginLeft:c,width:d};d=b("React").Children.map(this.props.labels,function(c){return b("React").jsx("div",{className:"_1kv0",style:a,children:c})});b("Locale").isRTL()&&(d=d.reverse());return b("React").jsx("div",{style:c,children:d})};return c}(b("React").Component);a.defaultProps={marginPercent:0};e.exports=a}),null);
__d("KeplerComparisonIndex.react",["cx","fbt","React","XUIContextualDialog.react","joinClasses","prop-types"],(function(a,b,c,d,e,f,g,h){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={showDialog:!1},d.$1=function(){var a=0;typeof d.props.gauge!=="undefined"&&d.props.gauge!==d.props.value&&(a=(d.props.value-d.props.gauge)/d.props.gauge,a=Math.round(a*100));return a},d.$4=function(){var a=d.$1(),c=a<0?"":"+";c=b("React").jsx("span",{children:c+a+"%"});(a==Infinity||a==-Infinity||isNaN(a))&&(c=b("React").jsx("span",{children:"--"}));return c},d.$2=function(a){var b=d.props.onHover?d.props.onHover:function(){};d.setState({showDialog:!0},b.bind(a))},d.$3=function(a){a=d.props.onHover?d.props.onHover:function(){};d.setState({showDialog:!1},a)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=this.$1();a=b("joinClasses")("_5tt2"+(a>10?" _5tt3":"")+(a<-10?" _5tt4":""),this.props.className);return b("React").jsxs("span",{children:[b("React").jsx("span",{className:a,ref:"bar",onMouseEnter:this.$2,onMouseLeave:this.$3,children:this.$4()}),this.renderLayers()]})};d.renderLayers=function(){__p&&__p();var a=this;if(!this.props.data)return null;var c=this.$1();if(c==Infinity||c==-Infinity||isNaN(c))c=h._("There aren't enough people in the comparison audience for this group.");else{var d=this.$1();d>0?c=h._("{audience_name} is {index_value}more likely to be in this group compared to {comparison_name}",[h._param("audience_name",this.props.titles[1]),h._param("index_value",b("React").jsx("b",{children:Math.abs(d)+"% "})),h._param("comparison_name",this.props.titles[0])]):d<0?c=h._("{audience_name} is {index_value}less likely to be in this group compared to {comparison_name}",[h._param("audience_name",this.props.titles[1]),h._param("index_value",b("React").jsx("b",{children:Math.abs(d)+"% "})),h._param("comparison_name",this.props.titles[0])]):c=h._("{audience_name} is equally likely to be in this group compared to {comparison_name}",[h._param("audience_name",this.props.titles[1]),h._param("comparison_name",this.props.titles[0])])}return b("React").jsx(b("XUIContextualDialog.react"),{alignment:"left",contextRef:function(){return a.refs.bar},position:"left",shown:this.state.showDialog,width:235,children:b("React").jsxs("div",{className:"_1idm",children:[b("React").jsx("div",{className:"_n3d",children:this.props.data.title}),b("React").jsx("div",{className:"_5k_9",children:c})]})},"dialog")};return c}(b("React").Component);a.propTypes={data:(c=b("prop-types")).object,gauge:c.number,titles:c.array,value:c.number.isRequired};e.exports=a}),null);
__d("SpectrumComparableColumns",["React","ReactART","Rectangle.art","createReactClass_DEPRECATED","d3-old/scale/ordinal","SpectrumDataVisualization","SpectrumUtilities"],(function(a,b,c,d,e,f){__p&&__p();var g=(a=b("ReactART")).Path,h=a.Group,i=a.Shape,j=a.Text,k=b("SpectrumUtilities").compose,l=3,m=60;c=b("createReactClass_DEPRECATED")({displayName:"SpectrumComparableColumns",mixins:[b("SpectrumDataVisualization").Mixin],statics:{getExtentY:function(a){a=b("SpectrumDataVisualization").getExtentHelper(a,b("SpectrumDataVisualization").getValueYAccessor(a));a[0]=Math.min(0,a[0]);return a},getGutter:function(){return{top:20}}},handleEvent:function(a){__p&&__p();a.type=="mouseleave"&&this.props.onHighlightColumn&&this.props.onHighlightColumn(-1);if(a.type==="mousemove"||a.type==="click"){if(!this.props.data.length)return;var c=this.props.scaleY.range(),d=Math.min(c[0],c[1]);c=Math.max(c[0],c[1]);if(a.y<d||a.y>c){this.props.onRequestFocus&&this.props.onRequestFocus(null);return}d=b("SpectrumDataVisualization").getValueXAccessor(this.props);c=b("SpectrumDataVisualization").getValueYAccessor(this.props);var e=this.props.scaleX,f=this.props.scaleY,g=k(e,d),h=k(f,c);f=f(0);e=e.rangeBand?e.rangeBand():1;var i=this.props.data[this.props.data.length-1];for(var j=0,l=i.length;j<l;j++){var m=i[j],n=g(m,j),o=h(m,j);if(a.x>=n&&a.x<n+e){var p=this.props.titles;n={rect:{left:n,right:n+e,top:o,bottom:f},target:this,label:this.props.label,title:p&&p[this.props.data.length-1],barIndex:j,valueX:d(m,j),valueY:c(m,j)};this.props.data.length>1&&(n.comparisonValueY=c(this.props.data[0][j],j),n.comparisonTitle=p&&p[0]);if(n.valueY==null&&n.comparisonValueY==null)return;if(a.type==="click"&&this.props.onClick){a.stopPropagation();this.props.onClick(n);return}this.props.onHighlightColumn&&this.props.onHighlightColumn(n.barIndex);this.props.onRequestFocus&&this.props.onRequestFocus(n);a.stopPropagation();return}}this.props.onRequestFocus&&this.props.onRequestFocus(null)}},shouldComponentUpdate:function(a){return this.hasDataChanged(a)||this.hasFocusChanged(a)||this.hasDimensionsChanged(a)},hasHighlightDetailsChanged:function(a,b){return a.barIndex!==b.barIndex},render:function(){__p&&__p();if(!this.props.data.length)return b("React").jsx(h,{});var a=b("SpectrumDataVisualization").getValueXAccessor(this.props),c=b("SpectrumDataVisualization").getValueYAccessor(this.props),d=this.props.scaleX,e=this.props.scaleY,f=k(d,a),n=k(e,c),o=d.rangeBand?d.rangeBand():1,p=this.props.theme.columns,q=e(0),r=o*p.innerMargin,s=q>e(1),t=this.props.data,u=this.uid,v=p.colors.copy?p.colors:b("d3-old/scale/ordinal")().range(p.colors),w;function x(c,d,e){if(a(d,e)==null)return;var g=Math.round(f(d,e)+r*c),h=n(d,e),i=Math.round(o);if(c){d=g-Math.round(f(d,e));i=Math.round(o-d*2)}return b("React").jsx(b("Rectangle.art"),{width:i,height:h-q,y:q,x:g,radiusTopLeft:s?l:0,radiusTopRight:s?l:0,radiusBottomLeft:s?0:l,radiusBottomRight:s?0:l,fill:v(u+c)},"bar"+e)}function y(a,b){var c=[];for(var d=0;d<a.length;d++)c.push(x(b,a[d],d));return c}function z(a,c){w=g();x(c,a[D.barIndex],D.barIndex);return b("React").jsx(i,{d:w,fill:v(u+c)},c)}var A=e.tickFormat();function B(d,g){__p&&__p();var h=c(d,g);if(h==null)return null;function i(a){return c(a[g],g)}var k=p.fontSize+p.labelMargin*2;d=Math.round(f(d,g)+o/2);var a=p.outerLabelColor,l=o*(1+r);if(l<m)return;var n,q;t.length>1&&(n=e(Math.max.apply(null,t[1].filter(function(a){return a!==null}).map(i))),l=e(Math.max.apply(null,t[0].filter(function(a){return a!==null}).map(i))),q=Math.abs(n-l));q>k?l=n:l=e(Math.max.apply(null,t.map(i)));s?l-=p.fontSize+p.labelMargin:l+=p.labelMargin;return b("React").jsx(j,{alignment:"center",fill:a,font:p,x:d,y:l,children:A(h)},g)}function C(a,b){return a.map(B)}d=null;var D=this.props.focus;if(D&&D.target==this&&p.fadeOutOpacity!==1){var E=t[t.length-1];d=b("React").jsxs(h,{children:[t.map(z),B(E[D.barIndex],D.barIndex)]})}z=D?p.fadeOutOpacity:1;return b("React").jsxs(h,{children:[b("React").jsxs(h,{opacity:z,children:[t.map(y),this.props.hideLabels?null:C(t[t.length-1],t.length-1)]}),d]})}});e.exports=c}),null);
__d("KeplerBarChart.react",["cx","fbt","ix","Image.react","KeplerBarChartLabelRow.react","KeplerChartErrorNotice.react","KeplerComparisonIndex.react","KeplerConstants","React","SpectrumChart","SpectrumComparableColumns","SpectrumPercentageScale","SpectrumTooltipMenu"],(function(a,b,c,d,e,f,g,h,i){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(){return{height:d.props.height+34+(d.props.overlap?16:0),width:d.props.width}},d.$2=function(){return d.props.columns?d.props.columns.order:Object.keys(d.props.data.audience)},d.$3=function(a){var b=d.$2();b=b[a.barIndex];b&&d.$4(b)&&d.props.onClick&&d.props.onClick(b)},d.$5=function(a){var b=d.$2(),c=d.props.columns;if(b&&c){c=c.label.indexOf(a);return b[c]}else return null},d.$4=function(a){var b=d.props.columns.targetable;if(typeof b==="function")return b.call(babelHelpers.assertThisInitialized(d),a);else if(typeof b==="object")return b[a]||!1;else return!!d.props.onClick},d.$6=function(a){var c=d.$5(a.xValue);c=d.$4(c);if(c)var e=h._("Click chart to target");a=b("React").jsxs("div",{children:[h._("{title}{audience_value} {audience_title}{newline}{benchmark_value} {benchmark_title}",[h._param("title",b("React").jsxs("b",{children:[a.xValueString,b("React").jsx("br",{})]})),h._param("audience_value",a.yValueString),h._param("audience_title",a.title),h._param("newline",b("React").jsx("br",{})),h._param("benchmark_value",a.comparisonYValueString),h._param("benchmark_title",a.comparisonTitle)]),c?b("React").jsx("hr",{}):null,e]});return a},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){__p&&__p();if(!this.props.data)return b("React").jsx("div",{style:this.$1()});var a=this.props.data[b("KeplerConstants").ERROR_CODE_KEY];if(a)return b("React").jsx("div",{style:this.$1(),children:b("React").jsx(b("KeplerChartErrorNotice.react"),{className:"_2tv_ _yah",errorCode:a})});var c=this.props;a=c.columns?c.columns.order:Object.keys(c.data.audience);var d=function(a,b){return c.columns?c.columns.label[b]:b},e=a.map(function(a,c){return b("React").jsx("div",{className:"_4dfp",children:d(a,c)})}),f=a.map(function(a,e){var f=c.data.audience[a],g=c.data.benchmark[a];f=f?f.ratio:0;g=g?g.ratio:0;return b("React").jsx(b("KeplerComparisonIndex.react"),{className:"_4dfo",data:{title:d(a,e)},gauge:g,titles:this.props.titles,value:f})},this),g=a.map(function(a){a=c.data.audience[a];return a?this.props.getValue(a,!0):0},this),j=a.map(function(a){a=c.data.benchmark[a];return a?this.props.getValue(a,!0):0},this);a=a.map(d);if(this.props.overlap)var k=b("SpectrumPercentageScale")().domain([0,1]).tickFormat(),l=b("React").jsx("div",{className:"_1lvr",children:b("React").jsxs("span",{"aria-label":h._("Partner data may only match a portion of your audience within the United States."),"data-hover":"tooltip","data-tooltip-alignh":"center",children:[b("React").jsx(b("Image.react"),{alt:"",className:"_jf8",src:i("22954")}),h._("{number} of audience matched",[h._param("number",k(this.props.overlap))])]})});k="_5tt6"+(this.props.overlap?" _4um6":"");return b("React").jsxs("div",{className:k,children:[b("React").jsxs(b("SpectrumChart"),{domain:a,height:this.props.height,scaleY:this.props.scaleY,theme:this.props.theme,width:this.props.width,children:[b("React").jsx(b("SpectrumComparableColumns"),{data:[j,g],domain:a,titles:this.props.titles,valueX:d,onClick:this.$3}),b("React").jsx(b("SpectrumTooltipMenu"),{customFormat:this.$6})]}),b("React").jsxs("div",{className:"_4dfn",style:{width:this.props.width},children:[b("React").jsx(b("KeplerBarChartLabelRow.react"),{labels:e,marginPercent:.15,parentWidth:this.props.width}),b("React").jsx(b("KeplerBarChartLabelRow.react"),{labels:f,marginPercent:.15,parentWidth:this.props.width})]}),l]})};return c}(b("React").Component);e.exports=a}),null);
__d("InsightsAxisBackground",["React","ReactART"],(function(a,b,c,d,e,f){__p&&__p();var g=(a=b("ReactART")).Group,h=a.LinearGradient,i=a.Path,j=a.Shape,k="#e5e5e5";c=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props.theme.gutter.middle,c=0,d=0,e=this.props.fullWidth?0:this.props.theme.gutter.left,f=this.props.fullWidth?0:this.props.theme.gutter.right;f=this.props.width-f-e;c=(parseInt(this.props.height,10)+c-d)*this.props.heightRatio;d=new h(["#ffffff","#f6f7f8"],0,0,0,a);var l=i().moveTo(0,0).lineTo(f,0).moveTo(f,a).lineTo(0,a);f=i().moveTo(0,0).lineTo(f,0).lineTo(f,a).lineTo(0,a).close();return b("React").jsxs(g,{x:e,y:c-a*.5-.5,children:[b("React").jsx(j,{d:f,fill:d}),b("React").jsx(j,{d:l,stroke:k})]})};return c}(b("React").Component);c.defaultProps={heightRatio:.5};e.exports=c}),null);
__d("SpectrumSplit",["React","ReactART","SpectrumUtilities"],(function(a,b,c,d,e,f){__p&&__p();var g=b("ReactART").Group;a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.handleEvent=function(a){var b=c.eventChannel;for(var d=b.length;d--;){var e=b[d];if(!(e&&e.handleEvent))continue;e.handleEvent(a);if(a.shouldStop)break}},c.getLayout=function(){__p&&__p();var a=c.props.scaleY,b=a.range()[0];a=a.range()[1];var d=(a+b)*c.props.heightRatio,e=(c.props.theme&&c.props.theme.gutter.middle||0)*.5+c.props.marginMiddle;switch(c.props.layout){case"top-middle":return[a,d-e];case"middle-top":return[d-e,a];case"bottom-middle":return[b,d+e];case"middle-bottom":return[d+e,b];case"top-bottom":return[a,b];default:return[b,a]}},b)||babelHelpers.assertThisInitialized(c)}c.getExtentY=function(a){__p&&__p();var c=+Infinity,d=-Infinity;b("React").Children.forEach(a.children,function(a){if(a&&a.type.getExtentY){a=a.type.getExtentY(a.props);if(!a)return;a[0]<c&&(c=a[0]);a[1]>d&&(d=a[1])}});return[c,d]};c.getGutter=function(a,c,d,e){var f=c.gutter;b("React").Children.forEach(a.children,function(a){if(a&&a.type.getGutter){a=a.type.getGutter(a.props,c,d,e);for(var b in f)a[b]&&(f[b]=Math.max(f[b],a[b]))}});return f};var d=c.prototype;d.UNSAFE_componentWillMount=function(){this.props.eventChannel&&(this.props.eventChannel[this.props.eventIndex]=this),this.eventChannel=[]};d.componentWillUnmount=function(){this.props.eventChannel&&delete this.props.eventChannel[this.props.eventIndex]};d.render=function(){var a=this,d=this.props.scaleY.copy().range(this.getLayout());this.props.separateDomain&&d.domain(c.getExtentY(this.props));var e=b("React").Children.map(this.props.children,function(c,e){if(!c)return null;c.type.isChartLayer;e={alignToGutter:!0,eventIndex:e,eventChannel:a.eventChannel,scaleY:d};return b("SpectrumUtilities").mergeProps(c,a.props,e)});return b("React").jsx(g,{children:e})};return c}(b("React").Component);a.defaultProps={heightRatio:.5,marginMiddle:0};e.exports=a}),null);
__d("InsightsGenderAgeButterflyChart.react",["fbt","InsightsAxisBackground","React","SpectrumChart","SpectrumComparableColumns","SpectrumPercentageScale","SpectrumSplit","SpectrumStyle","SpectrumTooltipMenu","SpectrumXAxis","d3-old/scale/ordinal","mergeDeep","mergeHelpers"],(function(a,b,c,d,e,f,g){__p&&__p();var h=b("mergeHelpers").ArrayStrategies,i={columns:{colors:b("d3-old/scale/ordinal")().range(b("SpectrumStyle").BUTTERFLY_COLORS)},gutter:{top:20,middle:24,bottom:20},rangeBands:{outerPadding:.15,padding:.15},xAxis:{labelColor:b("SpectrumStyle").BUTTERFLY_LABEL,lineColor:null}};a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=function(a){return c.$3(a.label.toString(),a.xValueString,a.yValueString,a.title,a.comparisonYValueString,a.comparisonTitle)},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){var a=b("mergeDeep")(i,this.props.theme,h.Clobber),c=this.props.top.values.length>1;c=c&&this.$1;this.props.tooltipFormatter&&(c=this.props.tooltipFormatter);return b("React").jsxs(b("SpectrumChart"),{domain:this.props.domain,scaleY:this.props.scaleY||b("SpectrumPercentageScale")(),width:this.props.width,height:this.props.height,theme:a,children:[b("React").jsx(b("InsightsAxisBackground"),{}),b("React").jsxs(b("SpectrumSplit"),{layout:"middle-top",children:[b("React").jsx(b("SpectrumComparableColumns"),{data:this.props.top.values,label:this.props.top.label,titles:this.props.titles,onClick:this.$2.bind(this,"top")}),b("React").jsx(b("SpectrumXAxis"),{disableLines:!0})]}),b("React").jsx(b("SpectrumSplit"),{layout:"middle-bottom",children:b("React").jsx(b("SpectrumComparableColumns"),{data:this.props.bottom.values,label:this.props.bottom.label,titles:this.props.titles,onClick:this.$2.bind(this,"bottom")})}),b("React").jsx(b("SpectrumTooltipMenu"),{customFormat:c})]})};d.$3=function(a,c,d,e,f,h){var i=this.props.tooltipFooter||"";return g._("{gender} {ageRange} make up {separator1}{percentage} of {group}{separator2} and {comparisonPercentage} of {comparisonGroup}{footer}",[g._param("gender",a),g._param("ageRange",c),g._param("separator1",b("React").jsx("br",{})),g._param("percentage",d),g._param("group",e),g._param("separator2",b("React").jsx("br",{})),g._param("comparisonPercentage",f),g._param("comparisonGroup",h),g._param("footer",i)])};d.$2=function(a,b){this.props.onClick&&this.props.onClick(b,a)};return c}(b("React").Component);e.exports=a}),null);
__d("KeplerButterflyChart.react",["cx","fbt","InsightsGenderAgeButterflyChart.react","InsightsLegendAreaKey.react","KeplerChartErrorNotice.react","KeplerConstants","React","d3-old/scale/ordinal","prop-types"],(function(a,b,c,d,e,f,g,h){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=function(a){var b=c.props.columns.order,d=c.props.data[a].values,e=[];if(d){var f=Object.keys(d[0]);b.map(function(a){f.map(function(b,c){b=d[a][b];b&&typeof b.ratio!=="undefined"&&(e[c]=e[c]||[],e[c][a]=this.props.getValue(b,!0))},this)},babelHelpers.assertThisInitialized(c))}return e},c.$2=function(){return{height:c.props.height,width:766}},c.$3=function(a,b){return c.props.getValue(c.props.data[a].summary[b])},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){__p&&__p();if(this.props.data&&this.props.data[b("KeplerConstants").ERROR_CODE_KEY])return b("React").jsx("div",{style:{width:this.$2().width},children:b("React").jsx(b("KeplerChartErrorNotice.react"),{className:"_2tv_",errorCode:this.props.data[b("KeplerConstants").ERROR_CODE_KEY]})});if(!this.props.data)return b("React").jsx("div",{style:this.$2()});var a=babelHelpers["extends"]({},this.props);a.top.values=this.$1(this.props.top.key);a.bottom.values=this.$1(this.props.bottom.key);a.domain=this.props.columns.label;this.props.onClick&&(a.tooltipFooter=h._("{separator} Click chart to target",[h._param("separator",b("React").jsx("hr",{}))]));a.theme.columns||(a.theme.columns={});a.theme.columns.colors=b("d3-old/scale/ordinal")().range(this.props.theme.colors);var c=b("React").jsx(b("InsightsGenderAgeButterflyChart.react"),babelHelpers["extends"]({},a));a=b("React").jsxs("div",{className:"_5n4_",children:[b("React").jsxs(b("InsightsLegendAreaKey.react"),{className:"_5n4-",color:this.props.theme.colors[1],children:[this.$3(this.props.top.key,"audience")," "+a.top.label]}),b("React").jsx("div",{className:"_5n4z",children:h._("{value} All Facebook",[h._param("value",this.$3(this.props.top.key,"benchmark"))])}),b("React").jsxs(b("InsightsLegendAreaKey.react"),{className:"_5n4-",color:this.props.theme.colors[3],children:[this.$3(this.props.bottom.key,"audience")," "+a.bottom.label]}),b("React").jsx("div",{className:"_5n4z",children:h._("{value} All Facebook",[h._param("value",this.$3(this.props.bottom.key,"benchmark"))])})]});return b("React").jsxs("div",{children:[a,b("React").jsx("div",{className:"_5n50",children:c})]})};return c}(b("React").Component);a.propTypes={data:b("prop-types").object};e.exports=a}),null);
__d("KeplerHandlers",["KeplerConstants"],(function(a,b,c,d,e,f){__p&&__p();var g={areaHandler:function(a){return g.barHandler(a)},ageHandler:function(a){return{data:a}},ageFilterHandler:function(a,c,d){var e;a=[{min:18,max:24},{min:25,max:34},{min:35,max:44},{min:45,max:54},{min:55,max:64},{label:"65+",min:65,max:-1}];var f={bottom:(e=b("KeplerConstants")).GENDER_MALE,top:e.GENDER_FEMALE};return[{param:e.PARAM_AGE,value:[String(a[c.barIndex].min),String(a[c.barIndex].max)]},{param:e.PARAM_GENDER,value:String(f[d])}]},barHandler:function(a){if(a[b("KeplerConstants").ERROR_CODE_KEY])return{data:a};var c={},d={};for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&(d[e]=a[e].audience,c[e]=a[e].benchmark);return{data:{audience:d,benchmark:c}}},barFilterHandler:function(a,b){return[{param:a,value:[String(b)]}]},butterflyHandler:function(a){return a[b("KeplerConstants").ERROR_CODE_KEY]?{data:a}:{bottom:[],domain:[],top:[]}},lineHandler:function(a){return{data:a}},tableHandler:function(a){if(a[b("KeplerConstants").ERROR_CODE_KEY])return{data:a};var c=[];for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&c.push(a[d]);return{data:{values:c}}},affinityTableHandler:function(a){__p&&__p();if(a[b("KeplerConstants").ERROR_CODE_KEY])return{data:a};var c=[];for(var d in a)if(Object.prototype.hasOwnProperty.call(a,d)){var e=a[d][b("KeplerConstants").PAYLOAD_PAGES];Object.keys(e).forEach(function(a){c.push(e[a])})}return{data:{values:c}}},tableFilterHandler:function(a,b){return[{param:a,value:[String(b.value)]}]}};e.exports=g}),null);
__d("KeplerLineChart.react",["cx","KeplerChartErrorNotice.react","KeplerConstants","React","SpectrumBrush","SpectrumChart","SpectrumLines","SpectrumTooltipMenu","SpectrumXAxis","SpectrumYAxis","prop-types"],(function(a,b,c,d,e,f,g){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=function(){return{height:c.props.height,width:c.props.width}},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){__p&&__p();if(this.props.data&&this.props.data[b("KeplerConstants").ERROR_CODE_KEY])return b("React").jsx("div",{style:{width:this.$1().width},children:b("React").jsx(b("KeplerChartErrorNotice.react"),{className:"_3vzx",errorCode:this.props.data[b("KeplerConstants").ERROR_CODE_KEY]})});if(!this.props.data)return b("React").jsx("div",{style:this.$1()});var a=Object.keys(this.props.data),c=a.map(function(a){return this.props.getValue(this.props.data[a].audience,!0)},this);a=a.map(function(a){return this.props.getValue(this.props.data[a].benchmark,!0)},this);var d=["0","10","20","30","40","50","60","70","80","90+"];return b("React").jsxs(b("SpectrumChart"),{domain:[0,100],height:this.props.height,scaleY:this.props.scaleY,theme:this.props.theme,width:this.props.width,children:[b("React").jsx(b("SpectrumLines"),{data:[a,c],titles:this.props.lineTitles,valueX:this.props.valueX,valueY:this.props.valueY}),b("React").jsx(b("SpectrumBrush"),{selection:this.props.selection,onSelection:this.props.onSelection}),b("React").jsx(b("SpectrumXAxis"),{secondaryTicks:!0}),b("React").jsx(b("SpectrumYAxis"),{secondaryTicks:!0,ticks:d}),b("React").jsx(b("SpectrumTooltipMenu"),{})]})};return c}(b("React").Component);a.propTypes={data:b("prop-types").object};e.exports=a}),null);
__d("KeplerMedianChart.react",["cx","fbt","KeplerBarChartLabelRow.react","KeplerChartErrorNotice.react","KeplerConstants","React","SpectrumChart","SpectrumComparableColumns","SpectrumIntegerScale","SpectrumTooltipMenu"],(function(a,b,c,d,e,f,g,h){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$3=function(a){if(c.props.onClick){var b=c.$2();b=b[a.barIndex];c.props.onClick(b)}},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.$1=function(){return{height:this.props.height+16,width:this.props.width}};d.$2=function(){return this.props.columns?this.props.columns.order:Object.keys(this.props.data.audience)};d.render=function(){__p&&__p();if(!this.props.data)return b("React").jsx("div",{style:this.$1()});var a=this.props.data[b("KeplerConstants").ERROR_CODE_KEY];if(a)return b("React").jsx("div",{style:this.$1(),children:b("React").jsx(b("KeplerChartErrorNotice.react"),{className:"_2tv_",errorCode:a})});var c=this.props;a=c.columns?c.columns.order:Object.keys(c.data.audience);var d=function(a,b){return c.columns?c.columns.label[b]:b},e=a.map(function(a,c){return b("React").jsx("div",{className:"_4dfp",children:d(a,c)})}),f=a.map(function(a){return c.data.audience[a]}),g=a.map(function(a){return c.data.benchmark[a]});a=a.map(d);return b("React").jsxs("div",{className:"_5tt6",children:[b("React").jsxs(b("SpectrumChart"),{domain:a,height:this.props.height,scaleY:b("SpectrumIntegerScale")(),theme:this.props.theme,width:this.props.width,children:[b("React").jsx(b("SpectrumComparableColumns"),{data:[g,f],domain:a,titles:this.props.titles,valueX:d,onClick:this.$3}),b("React").jsx(b("SpectrumTooltipMenu"),{customFormat:this.$4,zIndex:1})]}),b("React").jsx("div",{className:"_4dfn",style:{width:this.props.width},children:b("React").jsx(b("KeplerBarChartLabelRow.react"),{labels:e,marginPercent:.15,parentWidth:this.props.width})})]})};d.$4=function(a){var c;c=(c=b("React")).jsx("div",{children:h._("{heading}{title}{audience_title}: {audience_value}{newline}{benchmark_title}: {benchmark_value}",[h._param("heading",c.jsx("b",{children:"Median Number of "})),h._param("title",c.jsxs("b",{children:[a.xValueString,c.jsx("br",{})]})),h._param("audience_title",a.title),h._param("audience_value",a.yValueString),h._param("newline",c.jsx("br",{})),h._param("benchmark_title",a.comparisonTitle),h._param("benchmark_value",a.comparisonYValueString)])});return c};return c}(b("React").Component);e.exports=a}),null);
__d("KeplerStyle",[],(function(a,b,c,d,e,f){a="#385490";b="#D3D6DB";c="#758AB7";d={AUDIENCE_COLOR:a,BAR_AXIS:{axisLineColor:"rgba(20, 26, 35, 0.2)",baseline:!0},BENCHMARK_COLOR:b,BAR_RANGE_BANDS:{padding:.15,outerPadding:0},LINE_CHART_GUTTER:{top:8,left:33,bottom:20,right:8},STANDARD_COLORSET:[b,a],BUTTERFLY_COLORSET:[b,c,b,a]};e.exports=d}),null);
__d("KeplerBar.react",["cx","fbt","LayerHideOnBlur","React","XUIBackgroundBar.react","XUIContextualDialog.react","joinClasses","prop-types"],(function(a,b,c,d,e,f,g,h){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={showDialog:!1},d.renderLayers=function(){if(!d.props.data)return null;var a=d.props.scale.tickFormat();if(d.props.onClick)var c=b("React").jsx("div",{className:"_1idr",children:h._("Click chart to target")});return b("React").jsx(b("XUIContextualDialog.react"),{alignment:"left",behaviors:{LayerHideOnBlur:b("LayerHideOnBlur")},contextRef:function(){return d.refs.bar},position:"right",shown:d.state.showDialog,children:b("React").jsxs("div",{className:"_1idm",children:[b("React").jsx("div",{className:"_n3d",children:d.props.data.title}),b("React").jsx("div",{className:"_1idn",children:h._("{audience_ratio} of {audience_name}",[h._param("audience_ratio",b("React").jsx("b",{children:a(d.props.values.audience.ratio)})),h._param("audience_name",d.props.titles[1])])}),b("React").jsx("div",{className:"_1ido",children:h._("{comparison_ratio} of {comparison_name}",[h._param("comparison_ratio",b("React").jsx("b",{children:a(d.props.values.benchmark.ratio)})),h._param("comparison_name",d.props.titles[0])])}),c]})},"dialog")},d.$1=function(){d.props.onClick&&d.props.onClick(d.props.data)},d.$2=function(a){if(!d.props.data)return;var b=d.props.onHover?d.props.onHover:function(){};d.setState({showDialog:!0},b.bind(a))},d.$3=function(a){if(!d.props.data)return;a=d.props.onHover?d.props.onHover:function(){};d.setState({showDialog:!1},a)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){__p&&__p();var a=b("joinClasses")("_5s18",this.props.className),c=this.props.scale;c.rangeRound([0,100]);var d=c.roundedDecimalFormat();d=[this.props.values.audience.ratio,this.props.values.benchmark?this.props.values.benchmark.ratio:0].map(d);var e=d[0];d=d[1];c=c(Math.max(e,d));e=[b("React").jsx("div",{className:"_5s16",children:b("React").jsx(b("XUIBackgroundBar.react"),{colors:[this.props.colors[1]],scale:this.props.scale,values:[e]})},"bar")];this.props.values.benchmark&&e.push(b("React").jsx("div",{className:"_5s17",children:b("React").jsx(b("XUIBackgroundBar.react"),{colors:[this.props.colors[0]],scale:this.props.scale,values:[d]})},"comparison"));e.push(b("React").jsx("div",{className:"_1idq",ref:"bar",role:"presentation",style:{width:c+"%"},onClick:this.$1,onMouseEnter:this.$2,onMouseLeave:this.$3},"target"));d=this.props.scale.tickFormat();return b("React").jsxs("div",{className:a,children:[b("React").jsx("div",{className:"_443u ellipsis",children:this.props.label||d(this.props.values.audience.ratio)}),b("React").jsx("div",{className:"_443v",children:e}),this.renderLayers()]})};return c}(b("React").Component);a.propTypes={data:(c=b("prop-types")).object,label:c.string,onHover:c.func,scale:c.func,values:c.object.isRequired};e.exports=a}),null);
__d("KeplerTooltip.react",["cx","LayerHideOnBlur","React","XUIContextualDialog.react","prop-types"],(function(a,b,c,d,e,f,g){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={showDialog:!1},d.$1=function(){d.setState({showDialog:!0})},d.$2=function(){d.setState({showDialog:!1})},d.renderLayers=function(){if(d.props.data.title)var a=b("React").jsx("div",{className:"_n3d",children:d.props.data.title});if(d.props.data.footer)var c=b("React").jsx("div",{className:"_1idr",children:d.props.data.footer});return b("React").jsx(b("XUIContextualDialog.react"),{alignment:"left",behaviors:{LayerHideOnBlur:b("LayerHideOnBlur")},contextRef:function(){return d.refs.target},position:d.props.position,shown:d.state.showDialog,width:d.props.width,children:b("React").jsxs("div",{className:"_1idm",children:[a,d.props.data.content,c]})},"dialog")},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a="_32n0"+(this.props.position==="left"?" _32m_":"");return b("React").jsxs("span",{children:[b("React").jsx("span",{className:a,ref:"target",onMouseEnter:this.$1,onMouseLeave:this.$2,children:this.props.children}),this.renderLayers()]})};return c}(b("React").Component);a.propTypes={data:b("prop-types").object.isRequired,position:b("prop-types").string,width:b("prop-types").number};e.exports=a}),null);
__d("KeplerTable.react",["cx","fbt","ix","AudienceInsightsMetaLoggerWWW","FDSText.react","Image.react","InsightsInfoTip.react","KeplerBar.react","KeplerChartErrorNotice.react","KeplerComparisonIndex.react","KeplerConstants","KeplerTooltip.react","React","ShimButton.react","SpectrumIntegerScale","SpectrumPercentageScale","URI","XUIButton.react","XUISortableDataTable.react"],(function(a,b,c,d,e,f,g,h,i){__p&&__p();var j,k=b("AudienceInsightsMetaLoggerWWW").LOGGER,l=22,m=10;a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.displayName="KeplerTable",d.state={expanded:!1,sort:{chart:"audience"},viewLength:m},d.comparators={affinity:function(a,b){return b.interest.affinity-a.interest.affinity},audience:function(a,b){return b.audience-a.audience},benchmark:function(a,b){return b.benchmark-a.benchmark},chart:function(a,b){var c=d.state.sort&&d.state.sort.chart?d.state.sort.chart:"audience";return b.chart[c].ratio-a.chart[c].ratio},index:function(a,b){var c=a.index.audience.ratio,d=b.index.audience.ratio;a=a.index.benchmark.ratio?a.index.benchmark.ratio:1;b=b.index.benchmark.ratio?b.index.benchmark.ratio:1;c=(c-a)/a;a=(d-b)/b;return a-c},rank:function(a,b){return a.rank-b.rank},title:function(a,b){a=a.label.title;b=b.label.title;return a.toLowerCase().localeCompare(b.toLowerCase())}},d.headers={affinity:function(a){return b("React").jsxs("div",{className:"_1rw0",children:[a,b("React").jsx(b("InsightsInfoTip.react"),{alignH:"center",className:"_2gs1",position:"above",tip:h._("How likely your audience is to like a given Page compared to everyone on Facebook.")})]})},chart:function(a){var c=["benchmark","audience"].map(function(a,c){var d=this;c={backgroundColor:this.props.theme.colors[c]};var e="_4hwr"+(a===this.state.sort.chart?" _4hws":"");return b("React").jsx(b("ShimButton.react"),{className:e,role:"presentation",onClick:function(b){return d.$1(b,"chart",a)},children:b("React").jsx("span",{className:"_4hwt",style:c})},a)},this);return b("React").jsxs("div",{className:"_1rw0",children:[b("React").jsx("div",{className:"_dbo",children:a}),b("React").jsx("div",{className:"_1rw1",children:c.reverse()})]})},rank:function(a){var c=h._("The Pages that are most likely to be relevant to your audience based on affinity, Page size and the number of people in your audience who already like that Page.");return b("React").jsxs("div",{className:"_1rw0",children:[a,b("React").jsx(b("InsightsInfoTip.react"),{alignH:"center",position:"above",tip:c})]})},benchmark:function(a){var c=h._("Number of MAP (monthly active people) for the Page");return b("React").jsxs("div",{className:"_1rw0",children:[a,b("React").jsx(b("InsightsInfoTip.react"),{alignH:"center",position:"above",tip:c})]})}},d.renderers={affinity:function(a){var c={audience:{ratio:a.affinity}};return b("React").jsx(b("KeplerTooltip.react"),{className:"_5ygz",data:this.$2(a),position:"left",width:220,children:b("React").jsx(b("KeplerBar.react"),{colors:this.props.theme.colors,label:Math.round(a.affinity)+"x",scale:b("SpectrumPercentageScale")().domain([0,this.$3()]),values:c,onClick:this.props.onClick,onHover:this.$4})})},population:function(a){var c=b("SpectrumIntegerScale")().tickFormat();return c(a)},category:function(a){return a.title},chart:function(a){var c={audience:a.audience,benchmark:a.benchmark};return b("React").jsx(b("KeplerBar.react"),{colors:this.props.theme.colors,data:a,label:this.props.getValue(a.audience),scale:b("SpectrumPercentageScale")().domain([0,this.$5("ratio")]),titles:this.props.titles,values:c,onClick:this.props.onClick,onHover:this.$6})},index:function(a){return b("React").jsx("div",{className:"_2fou",children:b("React").jsx(b("KeplerComparisonIndex.react"),{data:a,gauge:a.benchmark.ratio,titles:this.props.titles,value:a.audience.ratio})})},interest:function(a){return b("React").jsx(b("KeplerTooltip.react"),{data:this.$2(a),position:"right",width:275,children:b("React").jsx("a",{href:new(j||(j=b("URI")))(a[b("KeplerConstants").PAYLOAD_URL]),target:"_blank",children:a.title})})},pages:function(a){a=a.map(function(a){return b("React").jsx("span",{className:"_2v0o",children:b("React").jsx("a",{href:new(j||(j=b("URI")))(a[b("KeplerConstants").PAYLOAD_URL]),target:"_blank",children:a.title})},a.id)});return b("React").jsx("div",{className:"_2v0p",children:a})},rank:function(a){return b("React").jsx("div",{className:"_5yg-",children:a})},title:function(a){var c=b("KeplerConstants").CategoryDescriptions[a.value];c=c?b("React").jsx(b("InsightsInfoTip.react"),{alignH:"center",className:"_2gs1",position:"above",tip:c}):null;return b("React").jsxs("span",{children:[a.title,c]})}},d.$7=function(){var a;d.state.expanded?a=m:d.props.paginated?a=d.state.viewLength+m:a=d.props.data.values.length;d.setState({expanded:a>=d.props.data.values.length,viewLength:a});k.logEvent(b("KeplerConstants").EVENT_TABLE_SEE_ALL)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){__p&&__p();var a=this;if(this.props.data&&this.props.data[b("KeplerConstants").ERROR_CODE_KEY])return b("React").jsx("div",{style:{width:this.props.width-l},children:b("React").jsx(b("KeplerChartErrorNotice.react"),{className:"_2tv_",errorCode:this.props.data[b("KeplerConstants").ERROR_CODE_KEY]})});if(!this.props.data)return b("React").jsx("div",{style:{width:this.props.width-l}});var c,d=this.props.columns.map(function(b){var d=babelHelpers["extends"]({},b);b.header&&(d.headerRenderer=a.headers[b.header].bind(a));b.renderer&&(d.cellRenderer=a.renderers[b.renderer].bind(a));b.comparator&&typeof b.comparator==="string"&&(d.comparator=a.comparators[b.comparator].bind(a));b.sorted&&(c=b.id);return d},this),e=this.props.data.values.map(function(b){var c={};a.props.columns.forEach(function(a){a=a.id;Object.prototype.hasOwnProperty.call(b,a)?c[a]=b[a]:c[a]=b});return c},this),f=this.props.paginated?h._("See More"):h._("See All");this.state.viewLength>=e.length&&(f=h._("See Top 10"));f=m<this.props.data.values.length?b("React").jsx(b("XUIButton.react"),{className:"_5xp8",label:f,size:"xlarge",onClick:this.$7}):null;var g;if(this.props.overlap){var j=b("SpectrumPercentageScale")().domain([0,1]).tickFormat();g=b("React").jsx("div",{className:"_4bls",children:b("React").jsxs("span",{"aria-label":h._("Partner data may only match a portion of your audience within the United States."),"data-hover":"tooltip","data-tooltip-alignh":"center",children:[b("React").jsx(b("Image.react"),{alt:"",className:"_jf8",src:i("22954")}),h._("{number} of audience matched",[h._param("number",j(this.props.overlap))])]})})}return b("React").jsxs("div",{className:"_5ttb",style:{width:this.props.width},children:[b("React").jsx(b("XUISortableDataTable.react"),{columnToSortBy:c,columns:d,ref:"table",rows:e,showHeader:this.props.showHeader,viewLength:this.state.viewLength,onSort:this.$8}),f,g]})};d.$2=function(a){var c=b("SpectrumIntegerScale")().tickFormat(),d={};d.content=[b("React").jsx("p",{children:h._("The audience ({audience size (e.g. 100 people)}) likes {interest name}",[h._param("audience size (e.g. 100 people)",b("React").jsx(b("FDSText.react"),{size:"meta1",weight:"bold",children:h._("{count} people",[h._param("count",c(a.audience))])})),h._param("interest name",b("React").jsx(b("FDSText.react"),{size:"meta1",weight:"bold",children:a.title}))])},"audience")];this.props.onClick&&(d.footer=h._("Click to filter by this value"));return d};d.$5=function(a){return Math.max.apply(null,this.props.data.values.map(function(b){return Math.max(b.audience[a],b.benchmark[a])}))};d.$1=function(a,c,d){a.preventDefault();a.stopPropagation();var e={};e[c]=d;this.setState(function(a){return{sort:babelHelpers["extends"]({},a.sort,e)}});k.logEvent(b("KeplerConstants").EVENT_TABLE_SORT)};d.$3=function(){return Math.max.apply(null,this.props.data.values.map(function(a){return a[b("KeplerConstants").PAYLOAD_AFFINITY]}))};d.$8=function(){k.logEvent(b("KeplerConstants").EVENT_TABLE_SORT)};return c}(b("React").Component);e.exports=a}),null);
__d("KeplerTabsText",["fbt"],(function(a,b,c,d,e,f,g){"use strict";e.exports={LABEL_AUDIENCE:g._("selected audience"),LABEL_BENCHMARK:g._("Facebook users"),DEMOGRAPHICS:g._("Demographics"),AGE_AND_GENDER_TITLE:g._("Age and Gender"),AGE_AND_GENDER_DESC:g._("Self-reported information from people in their Facebook Profiles. Information only available for people aged 18 and older."),MEN:g._("Men"),WOMEN:g._("Women"),LIFESTYLE_TITLE:g._("Lifestyle"),LIFESTYLE_DESC:g._("US demographic and interest data based on purchase behaviour, brand affinity and other activities. Source: Personicx"),LIFESTYLE_LINK_DESC:g._("Request audiences here from Acxiom Data Guru."),LIFESTYLE_COLUMN:g._("Lifestyle"),SELECTED_AUDIENCE_COLUMN:g._("Selected Audience"),COMPARE_COLUMN:g._("Compare"),RELATIONSHIP_STATUS_TITLE:g._("Relationship Status"),RELATIONSHIP_STATUS_DESC:g._("Self-reported data from people who list a relationship status on Facebook."),SINGLE_COLUMN:g._("Single"),IN_A_RELATIONSHIP_COLUMN:g._("In a Relationship"),ENGAGED_COLUMN:g._("Engaged"),MARRIED_COLUMN:g._("Married"),EDUCATION_LEVEL_TITLE:g._("Education Level"),EDUCATION_LEVEL_DESC:g._("The highest level of education reached based on self-reported data from people on Facebook"),HIGH_SCHOOL_COLUMN:g._("High School"),COLLEGE_COLUMN:g._("University"),GRAD_SCHOOL_COLUMN:g._("University (postgraduate)"),JOB_TITLE_TITLE:g._("Job Title"),JOB_TITLE_DESC:g._("Industries that people are likely to work in based on self-reported data on Facebook."),JOB_TITLE_COLUMN:g._("Job Title"),PAGE_LIKES:g._("Page Likes"),TOP_CATEGORIES_TITLE:g._("Top Categories"),PAGE_LIKES_TITLE:g._("Page Likes"),PAGE_LIKES_DESC:g._("Facebook Pages that are likely to be relevant to your audience based on Facebook Page likes."),PAGE_COLUMN:g._("Page"),RELEVANCE_COLUMN:g._("Relevance"),AUDIENCE_COLUMN:g._("Audience"),FACEBOOK_COLUMN:g._("Facebook"),AFFINITY_COLUMN:g._("Affinity"),LOCATION:g._("Location"),GEOGRAPHY_TITLE:g._("Geography"),TOP_CITIES_TITLE:g._("Top Towns\/Cities"),CITIES_COLUMN:g._("Towns\/Cities"),TOP_COUNTRIES_TITLE:g._("Top Countries"),COUNTRIES_COLUMN:g._("Countries"),TOP_LANGUAGES_TITLE:g._("Top Languages"),LANGUAGES_COLUMN:g._("Languages"),ACTIVITY:g._("Activity"),WHEN_ON_FACEBOOK_TITLE:g._("When on Facebook"),AVG_FACEBOOK_PEOPLE_BY_DAY_TITLE:g._("Average number of People on Facebook by day of week."),AVG_FACEBOOK_PEOPLE_BY_HOUR_TITLE:g._("Average number of People on Facebook by time of day."),FREQUENCY_OF_ACTIVITIES_TITLE:g._("Frequency of Activities"),FREQUENCY_OF_ACTIVITIES_DESC:g._("The number of times the selected audience performed these actions on Facebook. Based on Facebook user activity and environmental data."),LIFETIME_DESC:g._("Lifetime"),PAGES_LIKED_COLUMN:g._("Pages Liked"),PEOPLE_ON_FACEBOOK_COLUMN:g._("People on Facebook"),IN_THE_LAST_30_DAYS_DESC:g._("In the last 30 days"),COMMENTS_COLUMN:g._("Comments"),POSTS_LIKED_COLUMN:g._("Posts Liked"),POSTS_SHARED_COLUMN:g._("Posts Shared"),PROMOTIONS_REDEEMED_COLUMN:g._("Promotions Redeemed"),ADS_CLICKED_COLUMN:g._("Ads Clicked"),DEVICE_USERS_TITLE:g._("Device Users"),DEVICE_USERS_DESC:g._("How the selected audience accessed Facebook in the last 30 days, based on user activity and environmental data."),ALL_DEVICES_USED_FILTER:g._("All Devices Used"),PRIMARY_DEVICES_FILTER:g._("Primary Devices"),DESKTOP_ONLY_COLUMN:g._("Desktop Only"),DESKTOP_AND_MOBILE_COLUMN:g._("Desktop & Mobile"),MOBILE_ONLY_COLUMN:g._("Mobile Only"),COMPUTER_COLUMN:g._("Computer"),IPHONE_IPAD_COLUMN:g._("iPhone\/iPod"),IPAD_COLUMN:g._("iPad"),ANDROID_COLUMN:g._("Android"),BLACKBERRY_COLUMN:g._("BlackBerry"),MOBILE_WEB_COLUMN:g._("Mobile Web"),FEATURE_PHONE_COLUMN:g._("Feature Phone"),UNKNOWN_COLUMN:g._("Unknown"),HOUSEHOLD:g._("Household"),HOUSEHOLD_INCOME_TITLE:g._("Household Income"),HOUSEHOLD_INCOME_DESC:g._("Estimated income for US households based on survey responses and estimates using demographic data."),IN_THOUSANDS_OF_USD:g._("In Thousands of US Dollars"),HOME_OWNERSHIP_TITLE:g._("Home Ownership"),HOME_OWNERSHIP_DESC:g._("US home ownership based on survey responses and publicly available data."),RENTER_COLUMN:g._("Renter"),OWNER_COLUMN:g._("Owner"),HOUSEHOLD_SIZE_TITLE:g._("Household Size"),HOUSEHOLD_SIZE_DESC:g._("Number of adults and children who live in a single US home, based on survey responses, purchase activity and publicly available data. Source: Acxiom"),HOME_MARKET_VALUE_TITLE:g._("Home Market Value"),HOME_MARKET_VALUE_DESC:g._("Estimated US home value based on survey responses and publicly available data."),SPENDING_METHODS_TITLE:g._("Spending Methods"),SPENDING_METHODS_DESC:g._("US spending behaviour based on survey responses or estimates using purchase activity, occupation and census data. Source: Acxiom"),ANY_CARD_COLUMN:g._("Any Card"),BANK_CARD_COLUMN:g._("Debit Card"),TRAVEL_AND_ENTERTAINMENT_CARD_COLUMN:g._("Travel & Entertainment"),GAS_STORE_CARD_COLUMN:g._("Fuel\/Store"),UPSCALE_DEPARTMENT_STORE_CARD_COLUMN:g._("Upmarket Department Store"),PREMIUM_CARD_COLUMN:g._("Premium"),PRIMARILY_CASH_COLUMN:g._("Primarily Cash"),PRIMARILY_CREDIT_CARD_COLUMN:g._("Primarily Credit Card"),PURCHASE:g._("Purchase"),RETAIL_SPENDING_TITLE:g._("Retail Spending"),RETAIL_SPENDING_DESC:g._("Estimated US retail spending compared to income based on purchase activity. Source: Epsilon"),LOW_RETAIL_SPEND_COLUMN:g._("Low"),HIGH_RETAIL_SPEND_COLUMN:g._("High"),PURCHASE_BEHAVIOR_TITLE:g._("Purchase Behaviour"),PURCHASE_BEHAVIOR_DESC:g._("US consumer behaviour based on purchase activity. Source: Datalogix, Epsilon and Acxiom"),CATEGORY_COLUMN:g._("Category"),IN_MARKET_FOR_A_VEHICLE_TITLE:g._("In Market for a Vehicle"),IN_MARKET_FOR_A_VEHICLE_DESC:g._("US automotive purchase behaviour based on geography, demographics and vehicle registration data. Source: Datalogix")}}),null);
__d("KeplerTabsConfig",["KeplerBarChart.react","KeplerButterflyChart.react","KeplerConstants","KeplerHandlers","KeplerLineChart.react","KeplerMedianChart.react","KeplerStyle","KeplerTable.react","KeplerTabsText"],(function(a,b,c,d,e,f){__p&&__p();var g,h,i,j;a=b("KeplerLineChart.react");d={columns:{colors:(c=b("KeplerStyle")).STANDARD_COLORSET,innerMargin:.15},rangeBands:c.BAR_RANGE_BANDS};var k=[{id:"interest",label:(f=b("KeplerTabsText")).PAGE_COLUMN,renderer:"interest",width:240},{id:"rank",label:f.RELEVANCE_COLUMN,sortable:!0,sorted:!0,comparator:"rank",renderer:"rank",header:"rank",width:95},{id:"audience",label:f.AUDIENCE_COLUMN,renderer:"population",sortable:!0,width:80},{id:"benchmark",label:f.FACEBOOK_COLUMN,renderer:"population",header:"benchmark",sortable:!0,width:80}];k.push({id:"bar",label:f.AFFINITY_COLUMN,sortable:!0,comparator:"affinity",renderer:"affinity",header:"affinity"});k={people:{title:f.DEMOGRAPHICS,cards:{ageGender:{header:{title:f.AGE_AND_GENDER_TITLE,description:f.AGE_AND_GENDER_DESC},charts:[{chartProps:{bottom:{key:(g=b("KeplerConstants")).GENDER_MALE,label:f.MEN},columns:{order:[0,1,2,3,4,5],label:["18 - 24","25 - 34","35 - 44","45 - 54","55 - 64","65 +"]},height:251,filter:[g.PARAM_AGE,g.PARAM_GENDER],filterHandler:(h=b("KeplerHandlers")).ageFilterHandler,theme:{colors:c.BUTTERFLY_COLORSET,rangeBands:c.BAR_RANGE_BANDS,xAxis:c.BAR_AXIS},titles:[f.LABEL_BENCHMARK,f.LABEL_AUDIENCE],top:{key:g.GENDER_FEMALE,label:f.WOMEN},width:604},handler:h.ageHandler,key:"ageGender",metric:g.METRIC_AGE_BY_GENDER,type:b("KeplerButterflyChart.react")}]},lifestyle:{header:{title:f.LIFESTYLE_TITLE,description:f.LIFESTYLE_DESC,link:{description:f.LIFESTYLE_LINK_DESC,uri:"http://www.acxiom.com/data-guru/"}},charts:[{key:"lifestyle",type:i=b("KeplerTable.react"),metric:g.METRIC_LIFESTYLE,handler:h.tableHandler,chartProps:{columns:[{id:"label",label:f.LIFESTYLE_COLUMN,renderer:"title",comparator:"title",sortable:!0},{id:"chart",label:f.SELECTED_AUDIENCE_COLUMN,sortable:!0,comparator:"chart",renderer:"chart",header:"chart",width:460},{id:"index",label:f.COMPARE_COLUMN,sortable:!0,sorted:!0,comparator:"index",renderer:"index",width:80}],theme:{colors:c.STANDARD_COLORSET},titles:[f.LABEL_BENCHMARK,f.LABEL_AUDIENCE],width:788}}]},relationship:{header:{title:f.RELATIONSHIP_STATUS_TITLE,description:f.RELATIONSHIP_STATUS_DESC},charts:[{key:"relationship",type:j=b("KeplerBarChart.react"),metric:g.METRIC_RELATIONSHIP,handler:h.barHandler,chartProps:{height:200,filter:g.PARAM_RELATIONSHIP,filterHandler:h.barFilterHandler,columns:{order:[g.RELATIONSHIP_SINGLE,g.RELATIONSHIP_IN_A_RELATIONSHIP,g.RELATIONSHIP_ENGAGED,g.RELATIONSHIP_MARRIED],label:[f.SINGLE_COLUMN,f.IN_A_RELATIONSHIP_COLUMN,f.ENGAGED_COLUMN,f.MARRIED_COLUMN]},titles:[f.LABEL_BENCHMARK,f.LABEL_AUDIENCE],theme:d,width:366}}]},education:{header:{title:f.EDUCATION_LEVEL_TITLE,description:f.EDUCATION_LEVEL_DESC},charts:[{key:"education",type:j,metric:g.METRIC_EDUCATION_LEVEL,handler:h.barHandler,chartProps:{height:200,filter:g.PARAM_EDUCATION,filterHandler:h.barFilterHandler,columns:{order:[g.EDUCATION_HIGH_SCHOOL,g.EDUCATION_COLLEGE_UNDERGRAD,g.EDUCATION_COLLEGE_ALUMNUS],label:[f.HIGH_SCHOOL_COLUMN,f.COLLEGE_COLUMN,f.GRAD_SCHOOL_COLUMN]},titles:[f.LABEL_BENCHMARK,f.LABEL_AUDIENCE],theme:d,width:366}}]},industries:{header:{title:f.JOB_TITLE_TITLE,description:f.JOB_TITLE_DESC},charts:[{key:"industries",type:i,metric:g.METRIC_JOB_ROLE,handler:h.tableHandler,chartProps:{columns:[{id:"label",label:f.JOB_TITLE_COLUMN,renderer:"title",comparator:"title",sortable:!0},{id:"chart",label:f.SELECTED_AUDIENCE_COLUMN,sortable:!0,comparator:"chart",renderer:"chart",header:"chart",width:460},{id:"index",label:f.COMPARE_COLUMN,sortable:!0,sorted:!0,comparator:"index",renderer:"index",width:80}],filter:g.PARAM_INDUSTRIES,filterHandler:h.tableFilterHandler,titles:[f.LABEL_BENCHMARK,f.LABEL_AUDIENCE],theme:{colors:c.STANDARD_COLORSET},width:788}}]}}},interests:{title:f.PAGE_LIKES,cards:{categories:{header:{title:f.TOP_CATEGORIES_TITLE},charts:[{key:"categories",type:i,metric:g.METRIC_AFFINITY,handler:h.tableHandler,chartProps:{columns:[{id:"rank",sortable:!0,sorted:!0,comparator:"rank",renderer:"rank",width:35},{id:"category",renderer:"category",width:253},{id:"pages",renderer:"pages"}],showHeader:!1,theme:{colors:c.STANDARD_COLORSET},titles:[f.LABEL_BENCHMARK,f.LABEL_AUDIENCE],paginated:!1,width:788}}]},interests:{header:{title:f.PAGE_LIKES_TITLE,description:f.PAGE_LIKES_DESC},charts:[{key:"interests",type:i,metric:g.METRIC_AFFINITY,handler:h.affinityTableHandler,chartProps:{columns:k,theme:{colors:c.STANDARD_COLORSET},titles:[f.LABEL_BENCHMARK,f.LABEL_AUDIENCE],paginated:!0,width:788}}]}}},geography:{title:f.LOCATION,cards:{geography:{id:"geography",header:{title:f.GEOGRAPHY_TITLE},charts:[]},geographyBreakdown:{tabs:[{key:"cities",title:f.TOP_CITIES_TITLE,charts:[{key:"cities",type:i,metric:g.METRIC_CITY,handler:h.tableHandler,chartProps:{columns:[{id:"title",label:f.CITIES_COLUMN,sortable:!0},{id:"chart",label:f.SELECTED_AUDIENCE_COLUMN,sortable:!0,comparator:"chart",renderer:"chart",header:"chart",width:460},{id:"index",label:f.COMPARE_COLUMN,sortable:!0,sorted:!0,comparator:"index",renderer:"index",width:80}],filter:g.PARAM_CITY,filterHandler:h.tableFilterHandler,theme:{colors:c.STANDARD_COLORSET},titles:[f.LABEL_BENCHMARK,f.LABEL_AUDIENCE],width:788}}]},{key:"countries",title:f.TOP_COUNTRIES_TITLE,charts:[{key:"countries",type:i,metric:g.METRIC_COUNTRY,handler:h.tableHandler,chartProps:{columns:[{id:"title",label:f.COUNTRIES_COLUMN,sortable:!0},{id:"chart",label:f.SELECTED_AUDIENCE_COLUMN,sortable:!0,comparator:"chart",renderer:"chart",header:"chart",width:460},{id:"index",label:f.COMPARE_COLUMN,sortable:!0,sorted:!0,comparator:"index",renderer:"index",width:80}],filter:g.PARAM_COUNTRY,filterHandler:h.tableFilterHandler,theme:{colors:c.STANDARD_COLORSET},titles:[f.LABEL_BENCHMARK,f.LABEL_AUDIENCE],width:788}}]},{key:"languages",title:f.TOP_LANGUAGES_TITLE,charts:[{key:"languages",type:i,metric:g.METRIC_LANGUAGE,handler:h.tableHandler,chartProps:{columns:[{id:"title",label:f.LANGUAGES_COLUMN,sortable:!0},{id:"chart",label:f.SELECTED_AUDIENCE_COLUMN,sortable:!0,comparator:"chart",renderer:"chart",header:"chart",width:460},{id:"index",label:f.COMPARE_COLUMN,sortable:!0,sorted:!0,comparator:"index",renderer:"index",width:80}],filter:g.PARAM_LANGUAGE,filterHandler:h.tableFilterHandler,theme:{colors:c.STANDARD_COLORSET},titles:[f.LABEL_BENCHMARK,f.LABEL_AUDIENCE],width:788}}]}]}}},activity:{title:f.ACTIVITY,cards:{presence:{header:{title:f.WHEN_ON_FACEBOOK_TITLE},charts:[{key:"weekday",title:f.AVG_FACEBOOK_PEOPLE_BY_DAY_TITLE,type:j,metric:g.METRIC_WHEN_ON_FACEBOOK,handler:h.barHandler,chartProps:{height:120,theme:{columns:{colors:[c.AUDIENCE_COLOR]},xAxis:c.BAR_AXIS},width:766}},{key:"hourly",title:f.AVG_FACEBOOK_PEOPLE_BY_HOUR_TITLE,type:a,metric:g.METRIC_WHEN_ON_FACEBOOK,handler:h.areaHandler,chartProps:{height:220,theme:{colors:[c.AUDIENCE_COLOR],gutter:c.LINE_CHART_GUTTER},width:764}}]},frequency:{header:{title:f.FREQUENCY_OF_ACTIVITIES_TITLE,description:f.FREQUENCY_OF_ACTIVITIES_DESC},charts:[{key:"pages",description:f.LIFETIME_DESC,type:b("KeplerMedianChart.react"),metric:g.METRIC_MEDIAN_PAGE_LIKE_COUNT,handler:h.barHandler,chartProps:{height:160,columns:{order:[g.METRIC_MEDIAN_PAGE_LIKE_COUNT],label:[f.PAGES_LIKED_COLUMN]},titles:[f.PEOPLE_ON_FACEBOOK_COLUMN,f.SELECTED_AUDIENCE_COLUMN],theme:d,width:120}},{key:"multi",description:f.IN_THE_LAST_30_DAYS_DESC,type:b("KeplerMedianChart.react"),metric:g.METRIC_MULTI_MEDIAN,handler:h.barHandler,chartProps:{height:160,columns:{order:[g.METRIC_MEDIAN_COMMENT,g.METRIC_MEDIAN_LIKE,g.METRIC_MEDIAN_SHARE,g.METRIC_MEDIAN_REDEEM_PROMOTION,g.METRIC_MEDIAN_CLICK_AD],label:[f.COMMENTS_COLUMN,f.POSTS_LIKED_COLUMN,f.POSTS_SHARED_COLUMN,f.PROMOTIONS_REDEEMED_COLUMN,f.ADS_CLICKED_COLUMN]},titles:[f.PEOPLE_ON_FACEBOOK_COLUMN,f.SELECTED_AUDIENCE_COLUMN],theme:d,width:624}}]},accessMethod:{header:{title:f.DEVICE_USERS_TITLE,description:f.DEVICE_USERS_DESC},filters:[{param:g.PARAM_IS_PRIMARY_DEVICE,value:1,options:[{value:g.DEVICE_ALL_DEVICES,label:f.ALL_DEVICES_USED_FILTER},{value:g.DEVICE_PRIMARY_DEVICES,label:f.PRIMARY_DEVICES_FILTER}]}],charts:[{key:"type",type:j,metric:g.METRIC_INTERFACE_USAGE,handler:h.barHandler,chartProps:{getColumns:function(a){a=a[b("KeplerConstants").PARAM_IS_PRIMARY_DEVICE];if(a===b("KeplerConstants").DEVICE_ALL_DEVICES)return{order:[1,3,2],label:[b("KeplerTabsText").DESKTOP_ONLY_COLUMN,b("KeplerTabsText").DESKTOP_AND_MOBILE_COLUMN,b("KeplerTabsText").MOBILE_ONLY_COLUMN]};else return{order:[1,2],label:[b("KeplerTabsText").DESKTOP_ONLY_COLUMN,b("KeplerTabsText").MOBILE_ONLY_COLUMN]}},columns:{order:[1,3,2],label:[f.DESKTOP_ONLY_COLUMN,f.DESKTOP_AND_MOBILE_COLUMN,f.MOBILE_ONLY_COLUMN]},height:178,theme:d,titles:[f.LABEL_BENCHMARK,f.LABEL_AUDIENCE],width:210}},{key:"source",type:j,metric:g.METRIC_ACCESS_METHOD,handler:h.barHandler,chartProps:{columns:{order:[1,2,4,8,16,32,64,128],label:[f.COMPUTER_COLUMN,f.IPHONE_IPAD_COLUMN,f.IPAD_COLUMN,f.ANDROID_COLUMN,f.BLACKBERRY_COLUMN,f.MOBILE_WEB_COLUMN,f.FEATURE_PHONE_COLUMN,f.UNKNOWN_COLUMN]},height:178,theme:d,titles:[f.LABEL_BENCHMARK,f.LABEL_AUDIENCE],width:534}}]}}},household:{title:f.HOUSEHOLD,primaryCountry:"US",cards:{income:{header:{title:f.HOUSEHOLD_INCOME_TITLE,description:f.HOUSEHOLD_INCOME_DESC},charts:[{key:"income",type:j,metric:g.METRIC_HOUSEHOLD_INCOME,handler:h.barHandler,description:f.IN_THOUSANDS_OF_USD,chartProps:{columns:{order:[g.INCOME_OVER_30K,g.INCOME_OVER_40K,g.INCOME_OVER_50K,g.INCOME_OVER_75K,g.INCOME_OVER_100K,g.INCOME_OVER_125K,g.INCOME_OVER_150K,g.INCOME_OVER_250K,g.INCOME_OVER_350K,g.INCOME_OVER_500K],label:["$30-40","$40-50","$50-75","$75-100","$100-125","$125-150","$150-250","$250-350","$350-500",">$500"],targetable:function(a){switch(a){case b("KeplerConstants").INCOME_UNDER_15K:case b("KeplerConstants").INCOME_OVER_15K:case b("KeplerConstants").INCOME_OVER_20K:return!1;default:return!0}}},height:178,filter:g.PARAM_INCOME,filterHandler:h.barFilterHandler,theme:d,titles:[f.LABEL_BENCHMARK,f.LABEL_AUDIENCE],width:562}}]},ownership:{header:{title:f.HOME_OWNERSHIP_TITLE,description:f.HOME_OWNERSHIP_DESC},charts:[{key:"ownership",type:j,metric:g.METRIC_HOME_OWNER,handler:h.barHandler,chartProps:{columns:{order:[g.HOME_OWNER_RENT_1,g.HOME_OWNER_OWN],label:[f.RENTER_COLUMN,f.OWNER_COLUMN]},height:190,filter:g.PARAM_HOME_OWNERSHIP,filterHandler:h.barFilterHandler,theme:d,titles:[f.LABEL_BENCHMARK,f.LABEL_AUDIENCE],width:170}}]},size:{header:{title:f.HOUSEHOLD_SIZE_TITLE,description:f.HOUSEHOLD_SIZE_DESC},charts:[{key:"size",type:j,metric:g.METRIC_HOUSEHOLD_SIZE,handler:h.barHandler,chartProps:{columns:{order:[g.HOME_SIZE_JUST_1,g.HOME_SIZE_WITH_1,g.HOME_SIZE_WITH_2,g.HOME_SIZE_WITH_3,g.HOME_SIZE_WITH_4,g.HOME_SIZE_WITH_5],label:["1","2","3","4","5","6"]},height:184,theme:d,titles:[f.LABEL_BENCHMARK,f.LABEL_AUDIENCE],width:366}}]},value:{header:{title:f.HOME_MARKET_VALUE_TITLE,description:f.HOME_MARKET_VALUE_DESC},charts:[{key:"value",type:j,description:f.IN_THOUSANDS_OF_USD,metric:g.METRIC_HOME_MARKET_VALUE,handler:h.barHandler,chartProps:{columns:{order:[g.HOME_VALUE_BUCKET_UNDER_100,g.HOME_VALUE_BUCKET_100_TO_200,g.HOME_VALUE_BUCKET_200_TO_500,g.HOME_VALUE_BUCKET_500_TO_700,g.HOME_VALUE_BUCKET_700_TO_1M,g.HOME_VALUE_BUCKET_OVER_1M],label:["<$100","$100-200","$200-500","$500-700","$700-1,000",">$1,000"]},height:172,filter:g.PARAM_HOME_VALUE,filterHandler:h.barFilterHandler,theme:d,titles:[f.LABEL_BENCHMARK,f.LABEL_AUDIENCE],width:366}}]},credit:{header:{title:f.SPENDING_METHODS_TITLE,description:f.SPENDING_METHODS_DESC},charts:[{key:"use",type:j,metric:g.METRIC_CREDIT_CARD_USE,handler:h.barHandler,chartProps:{columns:{order:[g.CREDIT_CARD_USE_ANY,g.CREDIT_CARD_USE_BANK_CARD,g.CREDIT_CARD_USE_TRAVEL_CARD,g.CREDIT_CARD_USE_RETAIL,g.CREDIT_CARD_USE_HIGH_END,g.CREDIT_CARD_USE_PREMIUM_CARD],label:[f.ANY_CARD_COLUMN,f.BANK_CARD_COLUMN,f.TRAVEL_AND_ENTERTAINMENT_CARD_COLUMN,f.GAS_STORE_CARD_COLUMN,f.UPSCALE_DEPARTMENT_STORE_CARD_COLUMN,f.PREMIUM_CARD_COLUMN]},height:178,theme:d,titles:[f.LABEL_BENCHMARK,f.LABEL_AUDIENCE],width:572}},{key:"creditServiceProvider",type:j,metric:g.METRIC_PAYMENT_PREFERENCE,handler:h.barHandler,chartProps:{columns:{order:[g.PAYMENT_PREFERENCE_CASH,g.PAYMENT_PREFERENCE_CARD],label:[f.PRIMARILY_CASH_COLUMN,f.PRIMARILY_CREDIT_CARD_COLUMN]},height:178,theme:d,titles:[f.LABEL_BENCHMARK,f.LABEL_AUDIENCE],width:172}}]}}},retail:{title:f.PURCHASE,primaryCountry:"US",cards:{spend:{header:{title:f.RETAIL_SPENDING_TITLE,description:f.RETAIL_SPENDING_DESC},charts:[{key:"spend",type:j,metric:g.METRIC_RETAIL_SPEND,handler:h.barHandler,chartProps:{columns:{order:[g.RETAIL_SPEND_BELOW_AVG,g.RETAIL_SPEND_ABOVE_AVG],label:[f.LOW_RETAIL_SPEND_COLUMN,f.HIGH_RETAIL_SPEND_COLUMN]},height:200,theme:d,titles:[f.LABEL_BENCHMARK,f.LABEL_AUDIENCE],width:366}}]},products:{header:{title:f.PURCHASE_BEHAVIOR_TITLE,description:f.PURCHASE_BEHAVIOR_DESC},charts:[{key:"products",type:i,metric:g.METRIC_BUYER_OF_PRODUCTS,handler:h.tableHandler,chartProps:{columns:[{id:"title",label:f.CATEGORY_COLUMN,sortable:!0},{id:"chart",label:f.SELECTED_AUDIENCE_COLUMN,sortable:!0,comparator:"chart",renderer:"chart",header:"chart",width:490},{id:"index",label:f.COMPARE_COLUMN,sortable:!0,sorted:!0,comparator:"index",renderer:"index",width:80}],theme:{colors:c.STANDARD_COLORSET},titles:[f.LABEL_BENCHMARK,f.LABEL_AUDIENCE],width:788}}]},car:{header:{title:f.IN_MARKET_FOR_A_VEHICLE_TITLE,description:f.IN_MARKET_FOR_A_VEHICLE_DESC},charts:[{key:"car",type:i,metric:g.METRIC_CAR_MARKET,handler:h.tableHandler,chartProps:{columns:[{id:"title",label:f.CATEGORY_COLUMN,sortable:!0},{id:"chart",label:f.SELECTED_AUDIENCE_COLUMN,sortable:!0,comparator:"chart",renderer:"chart",header:"chart",width:490},{id:"index",label:f.COMPARE_COLUMN,sortable:!0,sorted:!0,comparator:"index",renderer:"index",width:80}],theme:{colors:c.STANDARD_COLORSET},titles:[f.LABEL_BENCHMARK,f.LABEL_AUDIENCE],width:788}}]}}}};e.exports=k}),null);
__d("KeplerSectionNavigation.react",["cx","fbt","KeplerConstants","KeplerFilterStore","KeplerMetaDataStore","KeplerSectionActions","KeplerSectionStore","KeplerTabsConfig","React"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("KeplerConstants").PartnerCategoryTabs;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.UNSAFE_componentWillMount=function(){var a=this;this.$1=[b("KeplerMetaDataStore").subscribe("change",function(){return a.forceUpdate()}),b("KeplerSectionStore").subscribe("change",function(){return a.forceUpdate()})]};d.componentWillUnmount=function(){this.$1.forEach(function(a){return a.unsubscribe()})};d.render=function(){__p&&__p();var a=b("KeplerFilterStore").getCountries(),c=b("KeplerSectionStore").get(),d=Object.keys(b("KeplerTabsConfig")).filter(function(a,b){return!i.has(a)}).map(function(d,e){e=b("KeplerTabsConfig")[d];var f=e.primaryCountry&&!a.includes(e.primaryCountry),g=(f?"_1wti":"")+" _5vqv",i=(d===c?"_5vqh":"")+" _5vqe",j=f?null:function(){return b("KeplerSectionActions").set(d)};i=b("React").jsxs("span",{className:"_5vqw",children:[b("React").jsx("a",{className:i,children:e.title}),b("React").jsx("span",{className:"_1vx7"})]});if(f){e=h._("This data is currently only available for audiences in the United States");return b("React").jsx("li",{className:g,"data-hover":"tooltip","data-tooltip-content":e,"data-tooltip-alignh":"center",onClick:j,children:i},d)}else return b("React").jsx("li",{className:g,onClick:j,children:i},d)},this);return b("React").jsx("div",{className:"_5vqt _5p09",children:b("React").jsx("ul",{className:"_5vqu",children:d})})};return c}(b("React").Component);e.exports=a}),null);
__d("KeplerStartConfig",["fbt","ix","KeplerConstants"],(function(a,b,c,d,e,f,g,h){__p&&__p();function a(a){var c={};c[b("KeplerConstants").Payload.HIGHLIGHTED_FIELDSET]=a;return c}c={};c[(d=b("KeplerConstants")).Start.CONNECTIONS]=a({calloutContent:g._("Enter the name of your Page here."),calloutOffsetY:58,id:d.Start.CONNECTIONS});c[d.Start.LOCATIONS]=a({calloutContent:g._("Add or remove locations here to change your selected audience."),calloutOffsetY:78,id:d.Start.LOCATIONS});c[d.Start.CUSTOM_AUDIENCE]=a({calloutContent:g._("Add your Custom Audiences here"),calloutOffsetY:40,id:d.Start.CUSTOM_AUDIENCE});f={dialogOptions:[{imageSrc:h("1074689"),label:g._("Everyone on Facebook"),key:d.Start.LOCATIONS},{imageSrc:h("1074691"),label:g._("People connected to your Page"),key:d.Start.CONNECTIONS},{imageSrc:h("22967"),label:g._("A Custom Audience"),key:d.Start.CUSTOM_AUDIENCE}],fieldsetPayloads:c};e.exports=f}),null);
__d("KeplerStartDialog.react",["cx","fbt","AudienceInsightsMetaLoggerWWW","FDSSpinner.react","Image.react","ImageBlock.react","InlineBlock.react","InputLabel.react","KeplerActiveAdAccountStore","KeplerBrowseableSearchSource","KeplerConstants","KeplerPreferencesStore","KeplerStartConfig","React","ShimButton.react","XUICheckboxInput.react","XUIDialogBody.react","XUIDialogTitle.react","gkx"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("AudienceInsightsMetaLoggerWWW").LOGGER,j=b("gkx")("677987");a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={isLoading:!0,showCustomAudiences:!0,showInitialHighlight:!0},d.$1=function(a,c){if(a.key===b("KeplerConstants").Start.CUSTOM_AUDIENCE&&(!j||!d.state.showCustomAudiences))return null;c="_2pwi"+(c===0&&d.state.showInitialHighlight?" _2pwj":"");return b("React").jsx(b("ShimButton.react"),{className:c,form:"link",onClick:d.props.onOptionSelect.bind(null,a.key),onMouseEnter:d.$2,children:b("React").jsxs(b("ImageBlock.react"),{spacing:"none",children:[b("React").jsx(b("Image.react"),{src:a.imageSrc}),b("React").jsx(b("InlineBlock.react"),{alignv:"middle",fullWidth:!0,height:90,children:b("React").jsx("div",{className:"_2pwk",children:a.label})})]})},a.label)},d.$2=function(){d.state.showInitialHighlight&&d.setState({showInitialHighlight:!1})},d.$3=function(a){d.setState({isLoading:!1,showCustomAudiences:a.some(function(a){return!a.isDisabled})})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.UNSAFE_componentWillMount=function(){var a=b("KeplerActiveAdAccountStore").getDao();a=b("KeplerBrowseableSearchSource").getInstance(a.fetch.keplerCustomAudiencesForAccount,b("KeplerActiveAdAccountStore").getLegacyAccountID());a.getTreeData(this.$3)};d.onShowOnStartChange=function(a){b("KeplerPreferencesStore").set({hide_start_dialog:a.target.checked}),i.logEvent(b("KeplerConstants").EVENT_SET_HIDE_START_DIALOG,{hide_start_dialog:a.target.checked})};d.render=function(){var a;this.state.isLoading?a=b("React").jsx("div",{className:"_1uoi",children:b("React").jsx(b("FDSSpinner.react"),{size:"large"})}):a=[b("KeplerStartConfig").dialogOptions.map(this.$1),b("React").jsx(b("InputLabel.react"),{className:"_zcl",label:h._("Don't show this again"),children:b("React").jsx(b("XUICheckboxInput.react"),{onChange:this.onShowOnStartChange})},"suppressor")];return b("React").jsxs("div",{children:[b("React").jsx(b("XUIDialogTitle.react"),{children:h._("Choose an Audience to Start")}),b("React").jsx(b("XUIDialogBody.react"),{className:"_zcm",children:a})]})};return c}(b("React").Component);e.exports=a}),null);
__d("KeplerToast.react",["cx","DOM","KeplerConstants","KeplerDispatcher","React","ReactDOM","createReactClass_DEPRECATED","joinClasses"],(function(a,b,c,d,e,f,g){__p&&__p();var h=750,i=3e3,j=0,k={};b("KeplerDispatcher").register(function(a){a.has(b("KeplerConstants").Payload.TOAST)&&Object.keys(k).forEach(function(c){a.get(b("KeplerConstants").Payload.TOAST).forEach(function(a){k[c](a.data)})})});a=b("createReactClass_DEPRECATED")({displayName:"KeplerToast",_hideMessage:function(){this._timeout=null,this.setState({message:null},function(){this._timeout=setTimeout(this._showMessage,h)}.bind(this))},_instanceID:null,_messageQueue:[],_queueMessage:function(a){this._messageQueue.push(a),this._timeout||this._showMessage()},_showMessage:function(){this._timeout=null;var a=this._messageQueue.shift();if(!a){this.setState({message:null});return}this.setState({message:a},function(){this._timeout=setTimeout(this._hideMessage,h+i)}.bind(this))},_timeout:null,componentDidMount:function(){this._instanceID=j++,k[this._instanceID]=this._queueMessage},componentWillUnmount:function(){this._timeout&&clearTimeout(this._timeout),delete k[this._instanceID]},UNSAFE_componentWillUpdate:function(a,b){b.message!==null&&b.message!==this.state.message&&this._computeHeight(b.message)},getInitialState:function(){return{message:null}},render:function(){var a=b("joinClasses")("_5nu4",this.props.className),c={height:this.state.message!==null?this._height:0};return b("React").jsx("div",{className:a,children:b("React").jsx("div",{className:"_3jpn",style:c,children:b("React").jsx("div",{className:"_3jpo",children:this.state.message})})})},_computeHeight:function(a){var c,d=(c=b("DOM")).create("div",{className:"_3jpo",style:{visibility:"hidden"}});c.setContent(d,a);c.appendContent(b("ReactDOM").findDOMNode(this),d);this._height=d.clientHeight;c.remove(d)},_height:0});e.exports=a}),null);
__d("TourState",["AsyncRequest","Run","debounce"],(function(a,b,c,d,e,f){__p&&__p();var g=[];function h(){if(!g.length)return;var a={};g.forEach(function(b){if(Object.prototype.hasOwnProperty.call(a,b))return;a[b]=k[b]});new(b("AsyncRequest"))().setData({tours:a}).setMethod("POST").setReadOnly(!1).setURI("/tour_state/update/").send();g.length=0}var i=b("debounce")(h,15e3),j,k={};function l(a,c){Object.prototype.hasOwnProperty.call(k,a)||(k[a]={}),Object.assign(k[a],c),j||(j=b("Run").onLeave(function(){h(),j=null}))}a={incrementTimesHidden:function(a){l(a,{__incrementTimesHidden:1})},incrementTimesViewed:function(a){l(a,{__incrementTimesViewed:1})},init:function(a,b){k[a]=b},updateServer:function(a,b){l(a,b),g.push(a),i()},updateServerNow:function(a,b){l(a,b),g.push(a),h()}};e.exports=a}),null);
__d("TourStateReactMixin",["TourState"],(function(a,b,c,d,e,f){__p&&__p();a={completeTour:function(){var a={};a.tour_state_has_completed=1;a.tour_state_mode=0;this._setTourState(a)},getActiveTourStep:function(){return this._getTourStateValue("tour_state_step")},getTourMode:function(){return this._getTourStateValue("tour_state_mode")},_getTourStateValue:function(a){var b=this.state.tourState;if(b)return b[a]},initTourState:function(a,c){this.tourStateName=a,b("TourState").init(a,c),this.setState({tourState:c}),b("TourState").incrementTimesViewed(a),b("TourState").updateServerNow(a,c)},isTourComplete:function(){return this._getTourStateValue("tour_state_has_completed")===1},isTourHidden:function(){return this.getTourMode()===0},isTourPaused:function(){return this.getTourMode()===2},pauseTour:function(){var a={};a.tour_state_mode=2;this._setTourState(a)},resumeTour:function(){var a={};a.tour_state_mode=1;this._setTourState(a)},setActiveTourStep:function(a){var b={};b.tour_state_step=a;this._setTourState(b)},_setTourState:function(a){b("TourState").updateServer(this.tourStateName,a),this.setState({tourState:babelHelpers["extends"]({},this.state.tourState,a)})},_setTourStateNow:function(a){b("TourState").updateServerNow(this.tourStateName,a),this.setState({tourState:babelHelpers["extends"]({},this.state.tourState,a)})},userHidTour:function(){var a={};a.tour_state_mode=0;b("TourState").incrementTimesHidden(this.tourStateName);this._setTourStateNow(a)}};e.exports=a}),null);
__d("KeplerTour.react",["cx","fbt","AudienceInsightsMetaLoggerWWW","BUIAdoptionCloseButton.react","ContextualLayerBlind","KeplerConstants","LayerFadeOnHide","LayerHideOnEscape","Link.react","React","TourStateReactMixin","XUIButton.react","XUIContextualDialog.react","XUIDialog.react","XUIDialogBody.react","XUIDialogFooter.react","XUIDialogTitle.react","createReactClass_DEPRECATED","prop-types"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i=b("AudienceInsightsMetaLoggerWWW").LOGGER;a=b("createReactClass_DEPRECATED")({displayName:"KeplerTour",mixins:[b("TourStateReactMixin")],propTypes:{onTourCompleted:b("prop-types").func,steps:b("prop-types").array.isRequired,tourState:b("prop-types").object.isRequired},UNSAFE_componentWillMount:function(){this.initTourState("KeplerTour",this.props.tourState)},UNSAFE_componentWillReceiveProps:function(){this.setState({activeStep:this._getStepIndex(this.props.tourState.tour_state_step)})},renderLayers:function(){if(this.state.activeStep===void 0)return void 0;var a=this.state.activeStep===0?null:b("React").jsx(b("XUIButton.react"),{className:"_37kp",label:h._("Back"),onClick:this._handleRewind}),c=this.state.activeStep<this.props.steps.length-1?h._("Next"):h._("Done");c=this.state.activeStep===0?h._("Take Tour"):c;c=b("React").jsx(b("XUIButton.react"),{className:"_37kq",label:c,use:"confirm",onClick:this._handleForward});var d=this.props.steps[this.state.activeStep],e=this.props.tourState.tour_state_mode==1;return[b("React").jsxs(b("XUIDialog.react"),{behaviors:{LayerFadeOnHide:b("LayerFadeOnHide"),LayerHideOnEscape:b("LayerHideOnEscape")},shown:e&&!d.contextual,width:765,onToggle:this._handleToggle,children:[b("React").jsx(b("XUIDialogTitle.react"),{children:d.title}),b("React").jsx(b("XUIDialogBody.react"),{children:d.content}),b("React").jsxs(b("XUIDialogFooter.react"),{leftContent:b("React").jsx(b("Link.react"),{className:"_37kr",onClick:this._handleDismiss,children:h._("Not now")}),children:[a,c]})]},"dialog"),b("React").jsxs(b("XUIContextualDialog.react"),{alignment:d.alignment,behaviors:{ContextualLayerBlind:b("ContextualLayerBlind")},contextRef:this._getContextRef,position:d.position,shown:e&&d.contextual,width:b("XUIContextualDialog.react").WIDTH.NORMAL,children:[b("React").jsxs(b("XUIDialogBody.react"),{children:[b("React").jsx(b("BUIAdoptionCloseButton.react"),{className_DEPRECATED:"_3q74",onClick:this._handleDismiss}),b("React").jsx("div",{className:"_37ks",children:d.title},"title"),d.content]}),b("React").jsxs(b("XUIDialogFooter.react"),{leftContent:b("React").jsx("div",{className:"_3q75",children:h._("{Number of active step} of {Number of steps in total}",[h._param("Number of active step",this.state.activeStep),h._param("Number of steps in total",this.props.steps.length-1)])}),children:[a,c]})]},"contextualDialog")]},render:function(){return b("React").jsx("span",{children:this.renderLayers()})},start:function(){this._setStep(0),this.resumeTour()},resume:function(){this.resumeTour()},_handleDismiss:function(){this.userHidTour(),this._setStep(0),i.logEvent(b("KeplerConstants").EVENT_TOUR_DISMISSED)},_handleForward:function(){this.state.activeStep<this.props.steps.length-1?(this.state.activeStep===0&&i.logEvent(b("KeplerConstants").EVENT_TOUR_STARTED),this._setStep(this.state.activeStep+1)):(this.completeTour(),this._setStep(0),this.props.onComplete&&this.props.onComplete(),i.logEvent(b("KeplerConstants").EVENT_TOUR_COMPLETED))},_handleRewind:function(){this._setStep(this.state.activeStep-1)},_handleToggle:function(a){this.state.activeStep===0&&!a&&this._handleDismiss()},_getContextRef:function(){return this.props.steps[this.state.activeStep].element},_getStepIndex:function(a){var b;for(var c=0,d;d=this.props.steps[c];++c)d.id===a&&(b=c);return b},_setStep:function(a){this.setState({activeStep:a}),this.setActiveTourStep(this.props.steps[a].id)}});e.exports=a}),null);
__d("KeplerUnsavedAudienceDialog.react",["fbt","React","XUIDialogBody.react","XUIDialogButton.react","XUIDialogCancelButton.react","XUIDialogFooter.react","XUIDialogTitle.react","keyMirror","prop-types"],(function(a,b,c,d,e,f,g){__p&&__p();a=b("keyMirror")({CHANGE_AD_ACCOUNT:null,NEW_AUDIENCE:null,OPEN_AUDIENCE:null});c=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a,c=h[this.props.copyType];return(a=b("React")).jsxs("div",{children:[a.jsx(b("XUIDialogTitle.react"),{children:c.dialogTitle}),a.jsx(b("XUIDialogBody.react"),{children:c.dialogBody}),a.jsxs(b("XUIDialogFooter.react"),{children:[a.jsx(b("XUIDialogButton.react"),{action:"button",label:g._("Don't Save"),use:"default",onClick:this.props.dontSave}),a.jsxs("span",{className:"mll",children:[a.jsx(b("XUIDialogCancelButton.react"),{}),a.jsx(b("XUIDialogButton.react"),{action:"button",label:g._("Save"),use:"confirm",onClick:this.props.save})]})]})]})};return c}(b("React").Component);c.propTypes={copyType:b("prop-types").oneOf([a.CHANGE_AD_ACCOUNT,a.NEW_AUDIENCE,a.OPEN_AUDIENCE]).isRequired,dontSave:b("prop-types").func.isRequired,save:b("prop-types").func.isRequired};c.CopyTypes=a;var h={};h[a.CHANGE_AD_ACCOUNT]={dialogBody:g._("Switching to a different account will erase the changes you've made to this audience. Do you want to save it now?"),dialogTitle:g._("Are you sure you want to change accounts?")};h[a.NEW_AUDIENCE]={dialogBody:g._("You haven't saved your changes to this audience. Do you want to save it now?"),dialogTitle:g._("Are you sure you want to create a new audience?")};h[a.OPEN_AUDIENCE]={dialogBody:g._("You've made changes to this audience. Do you want to save it now?"),dialogTitle:g._("You Have Unsaved Changes")};e.exports=c}),null);
__d("KeplerUserCount",["KeplerConstants","KeplerFilterStore"],(function(a,b,c,d,e,f){var g=[b("KeplerConstants").PARAM_CUSTOM_AUDIENCES,b("KeplerConstants").PARAM_PAGE];a={metricForCurrentFilters:function(){for(var a=0,c,c;c=g[a];++a){c=b("KeplerFilterStore").getImmediately(c);if(c)return b("KeplerConstants").METRIC_USER_COUNT}return b("KeplerConstants").METRIC_USER_RANGE}};e.exports=a}),null);
__d("Kepler.react",["cx","fbt","ix","AdsAudienceManagerOverviewPlacementsTooltip.react","AdsCommonTargetingActions","AdsConvergenceGatingUtils","AdsConvergenceRoutingStrings","AdsManagerNavigationGatingUtils","AdsTargetingDefaultPlacementConstant","AudienceInsightsMetaLoggerWWW","ContextualDialogArrow","CurrentUser","FDSText.react","HelpTrayBootloadedContainer.audi.react","InsightsConstantsCountries","InsightsEnvironmentConfig","InsightsInfoTip.react","IPB4BImage.react","KeplerAccountSelector.react","KeplerActiveAdAccountStore","KeplerActiveAudienceStore","KeplerAdAccountStore","KeplerAudienceUtils","KeplerCard.react","KeplerChartErrorNotice.react","KeplerConstants","KeplerDispatcher","KeplerFieldset.react","KeplerFieldsetConfig","KeplerFilterSetDataLayer","KeplerFilterSetPreviewStore","KeplerFilterStore","KeplerHeader.react","KeplerMetricStore","KeplerNavigation.react","KeplerOpenAudienceDialog.react","KeplerPageActions","KeplerPageDescriptor","KeplerPageStore","KeplerPayload","KeplerPreferencesStore","KeplerProgressBar.react","KeplerProgressBarStatus","KeplerSaveAudienceAsDialog.react","KeplerSectionNavigation.react","KeplerSectionStore","KeplerStartConfig","KeplerStartDialog.react","KeplerStyle","KeplerTabsConfig","KeplerToast.react","KeplerTour.react","KeplerUnsavedAudienceDialog.react","KeplerUserCount","PageTransitions","PopoverMenu.react","React","ReactDOM","ReactFragment","ReactXUIMenu","Run","URI","XUIButton.react","XUIDialog.react","XUIDialogBody.react","XUIDialogFooter.react","XUIDialogOkayButton.react","XUIDialogTitle.react","areJSONRepresentationsEqual","cxMargin","gkx","intlList","intlSummarizeNumber","isEmpty","joinClasses","prop-types"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=b("AdsConvergenceRoutingStrings").AUDIENCE_INSIGHTS_ENTRY,m=b("AdsTargetingDefaultPlacementConstant").AUDIENCE_INSIGHTS_PLACEMENT_LABELS,n=b("AudienceInsightsMetaLoggerWWW").LOGGER,o=b("AudienceInsightsMetaLoggerWWW").initLogger,p=b("ReactXUIMenu").Item,q=b("gkx")("677987"),r=[{id:(a=b("KeplerConstants")).TOUR_STEP_OVERVIEW,contextual:!1,title:h._("Introducing Facebook Audience Insights"),content:(c=b("React")).jsxs("div",{className:"_u1b",children:[c.jsx(b("IPB4BImage.react"),{src:i("1074693")}),c.jsx("p",{children:h._("Get to know the people who matter to your business so that you can understand what matters to them. Learn about their locations, interests and behaviours so that you can create messages that will help your business grow.")})]})},{position:"right",id:a.TOUR_STEP_BUILD,contextual:!0,title:h._("Define Your Audience"),content:h._("Enter Custom Audiences, demographics, interests, behaviours and more to define your audience."),ref:"nux_one"},{position:"right",ref:"nux_two",contextual:!0,id:a.TOUR_STEP_COMPARE,label:h._("Find"),title:h._("Find Out Who's on Facebook"),content:h._("Compare your audience (in blue) to everyone on Facebook (in grey) to discover their unique characteristics.")},{position:"below",ref:"nux_three",contextual:!0,id:a.TOUR_STEP_EXPLORE,title:h._("Explore Your Audience"),content:h._("Click through these tabs to learn about their demographics, interests and behaviours.")},{position:"below",ref:"nux_four",contextual:!0,id:a.TOUR_STEP_SAVE,title:h._("Save Your Audience"),content:h._("Save your audience for future use. It will be available in Ads Manager's Audiences section.")},{alignment:"right",position:"below",ref:"createAdButton",contextual:!0,id:a.TOUR_STEP_TARGET,title:h._("Create Ad"),content:h._("Reach your audience straight away by creating an ad.")}];d=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={activeAdmarketID:d.props.initialAdmarketID,activeAudience:null,createFlowURI:null,displayValuesAs:b("KeplerConstants").Numbers.RATIO,onUnsavedChangesResolved:null,openDialogVisible:!1,progress:null,resolvingUnsavedChanges:!1,saveAsDialogVisible:!1,showContent:!0,showLegalTermDialog:d.props.showLegalTerm,startDialogVisible:!1,tourSteps:[],unsavedDialogCopyType:null,unsavedDialogVisible:!1,userCount:null,userCountError:null},d.$2=function(){var a=r.map(function(a){var c=babelHelpers["extends"]({},a);a.contextual&&this.refs[a.ref]&&(c.element=b("ReactDOM").findDOMNode(this.refs[a.ref]));return c},babelHelpers.assertThisInitialized(d));d.setState({tourSteps:a})},d.$9=function(){d.setState({showLegalTermDialog:!1})},d.$11=function(){var a=b("KeplerFilterStore").getCountries();if((j||(j=b("isEmpty")))(a))return;a=b("intlList")(a.map(function(a){return b("InsightsConstantsCountries")[a]}),b("intlList").CONJUNCTIONS.NONE);var c=h._("The comparison audience is automatically set to the same countries as your audience.");return b("React").jsxs("div",{children:[h._("Country: {countries}",[h._param("countries",a)]),b("React").jsx(b("InsightsInfoTip.react"),{alignH:"center",className:"_143d",position:"above",tip:c})]})},d.$4=function(){var a=b("KeplerUserCount").metricForCurrentFilters(),c=b("KeplerMetricStore").getImmediately(a);if(c){c=c[b("KeplerConstants").PAYLOAD_DATA];d.setState({progress:b("KeplerProgressBarStatus").COMPLETE,userCount:c,userCountError:c[b("KeplerConstants").ERROR_CODE_KEY]})}else b("KeplerMetricStore").get(a),d.setState({progress:b("KeplerProgressBarStatus").LOADING})},d.$12=function(a,b){a=b.item;b=a.getValue();b=="saveAs"&&d.$22(!0);b=="showTour"&&d.refs.tour&&(d.setState({section:"people"}),d.$2(),d.refs.tour.start(),d.forceUpdate())},d.$18=function(){d.setState({startDialogVisible:!0})},d.$27=function(a){var c=new(b("KeplerPayload"))();c.queueUpdate(b("KeplerConstants").Payload.ACCOUNT,a);c.queueUpdate(b("KeplerConstants").Payload.ACTIVE_FILTER_SET,null);c.queueDelete(b("KeplerConstants").Payload.FILTER);d.comparisonFilter=b("KeplerFilterStore").getDefaultJSON();d.$28();b("KeplerDispatcher").handleUpdateFromView(c)},d.$28=function(){d.setState({onUnsavedChangesResolved:null,openDialogVisible:!1,resolvingUnsavedChanges:!1,saveAsDialogVisible:!1,unsavedDialogCopyType:null,unsavedDialogVisible:!1})},d.$13=function(a){a=a.value;if(Object.prototype.hasOwnProperty.call(d.props.adAccounts,a)&&d.state.activeAdmarketID!=a){if(d.$10()){d.setState({onUnsavedChangesResolved:d.$27.bind(babelHelpers.assertThisInitialized(d),a),resolvingUnsavedChanges:!0,unsavedDialogCopyType:b("KeplerUnsavedAudienceDialog.react").CopyTypes.CHANGE_AD_ACCOUNT,unsavedDialogVisible:!0});return}d.$27(a)}},d.$5=function(){d.setState({activeAdmarketID:b("KeplerActiveAdAccountStore").getAdmarketID()})},d.$6=function(){b("KeplerActiveAudienceStore").getActiveAudience(function(a){a!==null&&(this.comparisonFilter=a.filter),this.setState({activeAudience:a})}.bind(babelHelpers.assertThisInitialized(d)))},d.$26=function(){d.state.onUnsavedChangesResolved()},d.$15=function(){if(d.$10()){d.setState({onUnsavedChangesResolved:d.$19.bind(babelHelpers.assertThisInitialized(d),!0),resolvingUnsavedChanges:!0,unsavedDialogCopyType:b("KeplerUnsavedAudienceDialog.react").CopyTypes.OPEN_AUDIENCE,unsavedDialogVisible:!0});return}d.$19(!0)},d.$19=function(a){a!==d.state.openDialogVisible&&d.setState({openDialogVisible:a})},d.$14=function(){if(d.$10()){d.setState({onUnsavedChangesResolved:d.$29,resolvingUnsavedChanges:!0,unsavedDialogCopyType:b("KeplerUnsavedAudienceDialog.react").CopyTypes.NEW_AUDIENCE,unsavedDialogVisible:!0});return}d.$29();d.forceUpdate()},d.$22=function(a){a!==d.state.saveAsDialogVisible&&d.setState({saveAsDialogVisible:a})},d.$23=function(a){a!==d.state.startDialogVisible&&d.setState({startDialogVisible:a})},d.$8=function(a){var c=new(b("KeplerPayload"))();c.queueUpdate(b("KeplerConstants").Payload.DISPLAY,b("KeplerConstants").Payload.NUMBERS,a);b("KeplerDispatcher").handleUpdateFromView(c);d.setState({displayValuesAs:a})},d.$24=function(a){__p&&__p();var c=null;switch(a){case b("KeplerConstants").Start.CONNECTIONS:c=b("KeplerStartConfig").fieldsetPayloads[b("KeplerConstants").Start.CONNECTIONS];break;case b("KeplerConstants").Start.CUSTOM_AUDIENCE:q&&(c=b("KeplerStartConfig").fieldsetPayloads[b("KeplerConstants").Start.CUSTOM_AUDIENCE]);break;case b("KeplerConstants").Start.LOCATIONS:c=b("KeplerStartConfig").fieldsetPayloads[b("KeplerConstants").Start.LOCATIONS];break;default:return}c||(c={},c[b("KeplerConstants").Payload.HIGHLIGHTED_FIELDSET]=null);a=new(b("KeplerPayload"))();a.queueUpdate(b("KeplerConstants").Payload.DISPLAY,c);b("KeplerDispatcher").handleUpdateFromView(a);d.setState({startDialogVisible:!1})},d.$16=function(){var a=d.state.activeAudience;a=b("KeplerAudienceUtils").isViewerOwnerOfAudience(d.props.viewerID,a);a?b("KeplerFilterStore").getTargeting().done(function(a){(j||(j=b("isEmpty")))(a)?d.$30([]):b("KeplerFilterSetPreviewStore").get(a,d.$30)}):d.setState({saveAsDialogVisible:!0})},d.$25=function(a){!a&&d.state.unsavedDialogVisible&&d.setState({onUnsavedChangesResolved:null,resolvingUnsavedChanges:!1,unsavedDialogCopyType:null,unsavedDialogVisible:!1})},d.$10=function(){var a;d.state.activeAudience?a=d.state.activeAudience.spec:a=d.comparisonFilter;return!b("areJSONRepresentationsEqual")(b("KeplerFilterStore").getJSON(),a)},d.$29=function(){var a=new(b("KeplerPayload"))();a.queueUpdate(b("KeplerConstants").Payload.ACTIVE_FILTER_SET,null);a.queueDelete(b("KeplerConstants").Payload.FILTER);d.comparisonFilter=b("KeplerFilterStore").getDefaultJSON();d.$28();b("KeplerDispatcher").handleUpdateFromView(a);d.setState({startDialogVisible:!b("KeplerPreferencesStore").get().hide_start_dialog,showContent:!1},function(){return d.setState({showContent:!0})});n.logEvent(b("KeplerConstants").EVENT_NEW_AUDIENCE)},d.$1=function(){if(d.$10())return h._("You haven't saved your changes to this audience.")},d.$21=function(a){d.setState({saveAsDialogVisible:!1}),b("KeplerFilterSetDataLayer").openFilterSetFromPayload(a)},d.$20=function(a){if(!d.state.resolvingUnsavedChanges&&d.$10()){d.setState({onUnsavedChangesResolved:d.$31.bind(babelHelpers.assertThisInitialized(d),a),resolvingUnsavedChanges:!0,unsavedDialogCopyType:b("KeplerUnsavedAudienceDialog.react").CopyTypes.OPEN_AUDIENCE,unsavedDialogVisible:!0});return}d.$31(a)},d.$31=function(a){__p&&__p();var c,e=new(b("KeplerPayload"))(),f=b("KeplerFilterStore").getJSON();for(var g in f)f[g]=null;e.queueUpdate((c=b("KeplerConstants")).Payload.FILTER,f);e.queueUpdate(c.Payload.ACTIVE_FILTER_SET,a.id);e.queueUpdate(c.Payload.FILTER,a.spec);e.queueUpdate(c.Payload.ACCOUNT,a.admarketID);d.$28();b("KeplerDispatcher").handleUpdateFromView(e);n.logEvent(c.EVENT_OPEN)},d.$30=function(a){var c=d.state.activeAudience,e=d.state.resolvingUnsavedChanges?d.state.onUnsavedChangesResolved:b("KeplerFilterSetDataLayer").openFilterSetFromPayload;b("KeplerFilterStore").getTargeting().done(function(d){return b("KeplerFilterSetDataLayer").updateFilterSet(c.id,c.name,b("KeplerFilterStore").getJSON(),a,d,e)})},d.$7=function(a){a=b("KeplerPageDescriptor").fromURI(a);if(!a)return!1;b("KeplerPageActions").pop(a);b("PageTransitions").transitionComplete();return!0},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){o(),n.setSessionID(this.props.loggerSessionID),n.logEvent(b("KeplerConstants").EVENT_VIEW_SECTION,{section:b("KeplerSectionStore").get()}),b("Run").onBeforeUnload(this.$1,!1),this.props.tourState.tour_state_mode==1&&(this.$2(),this.refs.tour.resume())};d.UNSAFE_componentWillMount=function(){__p&&__p();var a=this;b("KeplerAdAccountStore").addAdAccounts(this.props.adAccounts);b("KeplerConstants").UseTargetSpec&&(b("AdsCommonTargetingActions").initTargetingForID(b("KeplerConstants").SPEC_KEY),b("AdsCommonTargetingActions").updateStoreFromExternal({},b("KeplerConstants").SPEC_KEY));var c=b("KeplerPageDescriptor").fromURI((k||(k=b("URI"))).getNextURI());c.admarketID=this.props.initialAdmarketID;var d=b("KeplerPageStore").resolve(c);b("KeplerPageActions").replace(d);this.$3=[];this.$3.push(b("KeplerMetricStore").subscribe("change",this.$4));this.$4();this.$3.push(b("KeplerActiveAdAccountStore").subscribe("change",this.$5));this.$3.push(b("KeplerActiveAudienceStore").subscribe("change",this.$6));this.$3.push(b("KeplerSectionStore").subscribe("change",function(){return a.forceUpdate()}));this.comparisonFilter=d.filters;b("PageTransitions").registerHandler(this.$7,4);b("KeplerPreferencesStore").initialize(this.props.preferences);d=this.props.tourState;var e=3;d=!b("KeplerPreferencesStore").get().hide_start_dialog&&!(d.tour_state_step==b("KeplerConstants").TOUR_STEP_OVERVIEW&&d.tour_state_mode==1&&d.tour_state_times_viewed<=e)&&!c.filters&&!this.state.showLegalTermDialog;this.setState({startDialogVisible:d});this.$8(b("KeplerConstants").Numbers.RATIO)};d.componentWillUnmount=function(){this.$3.forEach(function(a){a.unsubscribe()})};d.getChildContext=function(){return{insightsContext:b("InsightsEnvironmentConfig").Names.KEPLER}};d.render=function(){__p&&__p();var a=this.state.userCountError,c=this.state.progress===b("KeplerProgressBarStatus").LOADING,d=a&&a==b("KeplerConstants").ERROR_CODE_MIN_THRESHOLD,e={people:[b("React").jsx(b("KeplerCard.react"),{config:b("KeplerTabsConfig").people.cards.ageGender,ref:"nux_two"},"ageGender"),b("React").jsx(b("KeplerCard.react"),{config:b("KeplerTabsConfig").people.cards.relationship},"relations"),b("React").jsx(b("KeplerCard.react"),{config:b("KeplerTabsConfig").people.cards.education},"education"),b("React").jsx(b("KeplerCard.react"),{config:b("KeplerTabsConfig").people.cards.industries},"industries")],interests:[b("React").jsx(b("KeplerCard.react"),{config:b("KeplerTabsConfig").interests.cards.categories},"categories"),b("React").jsx(b("KeplerCard.react"),{config:b("KeplerTabsConfig").interests.cards.interests},"interests")],activity:[b("React").jsx(b("KeplerCard.react"),{config:b("KeplerTabsConfig").activity.cards.frequency},"frequency"),b("React").jsx(b("KeplerCard.react"),{config:b("KeplerTabsConfig").activity.cards.accessMethod},"access")],geography:[b("React").jsx(b("KeplerCard.react"),{config:b("KeplerTabsConfig").geography.cards.geographyBreakdown},"geographyBreakdown")]};if(d)var d=b("React").jsx(b("KeplerChartErrorNotice.react"),{className:"_382o",errorCode:this.state.userCountError,type:"table"});else d=e[b("KeplerSectionStore").get()];e="";var f,g,i=this.state.userCount,j=i&&i.audience&&i.audience.length===2;!a&&j&&(f=this.state.userCount.audience[0],g=this.state.userCount.audience[1]);!c&&!a&&(j?f===b("KeplerConstants").MAX_USER_RANGE?e=h._("More than 1B people"):e=h._({"*":{"*":"{numLow} - {numHigh} people"}},[h._param("numLow",b("intlSummarizeNumber")(f),[0,f]),h._param("numHigh",b("intlSummarizeNumber")(g),[0,g])]):e=h._({"*":"{numTotal} people"},[h._param("numTotal",b("intlSummarizeNumber")(i.audience),[0,i.audience])]));this.state.activeAudience?c=this.$10()?"("+this.state.activeAudience.name+")":this.state.activeAudience.name:c=h._("(New Audience)");a=[{color:b("KeplerStyle").AUDIENCE_COLOR,label:c,ref:"audience",subtitle:b("React").jsxs("span",{children:[e," ",b("React").jsx(b("AdsAudienceManagerOverviewPlacementsTooltip.react"),{activeAdmarketID:this.state.activeAdmarketID,placementLabels:m})]})},{color:b("KeplerStyle").BENCHMARK_COLOR,label:h._("People on Facebook"),ref:"benchmark",subtitle:this.$11()}];j=b("CurrentUser").isEmployee()?b("React").jsx(p,{href:"https://www.facebook.com/help/contact/146749728811602",children:h._("Report a Problem")}):null;i=b("React").jsxs(b("ReactXUIMenu"),{className:"_43j5",onItemClick:this.$12,children:[b("React").jsx(p,{value:"saveAs",children:h._("Save as...")}),b("React").jsx(p,{value:"showTour",children:h._("Take Tour")}),j]});c=b("joinClasses")("_5p07","clearfix");e=b("React").jsx(b("KeplerFieldset.react"),{config:b("KeplerFieldsetConfig").connections,children:b("React").jsx(b("KeplerFieldset.react"),{config:b("KeplerFieldsetConfig").connections_pages})});return b("React").jsxs("span",{children:[b("React").jsxs("div",{className:c,ref:"root",children:[b("React").jsxs("div",{className:"_5vqd _3mz",children:[b("React").jsxs(b("KeplerNavigation.react"),{className:"_5p05",children:[b("React").jsx("div",{className:"_4u64",children:b("React").jsx(b("KeplerAccountSelector.react"),{activeAdAccountID:this.state.activeAdmarketID,className:"mls",maxWidth:180,onAccountSelect:this.$13})}),b("React").jsx("a",{className:"_5vqe",href:"#",onClick:this.$14,children:h._("Create New")}),b("React").jsx("a",{className:"_5vqe _5x2_",href:"#",ref:"openLink",onClick:this.$15,children:h._("Open")}),b("React").jsx("a",{className:"_5vqe _1p9e",href:"#",ref:"nux_four",onClick:this.$16,children:h._("Save")}),b("React").jsx(b("PopoverMenu.react"),{layerBehaviors:[b("ContextualDialogArrow")],menu:i,children:b("React").jsx("a",{className:"_5vqe _43j6",href:"#",children:h._("More")})})]}),b("React").jsx(b("XUIButton.react"),{className:"_5vqf",label:h._("Create Ad"),ref:"createAdButton",size:"large",use:this.props.createAdButtonType,onClick:this.$17})]}),b("React").jsx(b("KeplerToast.react"),{className:"_u1c"}),b("React").jsxs("div",{className:"_5p06",ref:"nux_one",children:[b("React").jsx("div",{className:"_5wq_",children:h._("Create Audience")}),q?b("React").jsx(b("KeplerFieldset.react"),{config:b("KeplerFieldsetConfig").customAudience}):null,b("React").jsx(b("KeplerFieldset.react"),{config:b("KeplerFieldsetConfig").location}),b("React").jsx(b("KeplerFieldset.react"),{config:b("KeplerFieldsetConfig").ageGender}),b("React").jsx(b("KeplerFieldset.react"),{config:b("KeplerFieldsetConfig").interests}),e,b("React").jsxs(b("KeplerFieldset.react"),{config:b("KeplerFieldsetConfig").advanced,children:[b("React").jsx(b("KeplerFieldset.react"),{config:b("KeplerFieldsetConfig").language}),b("React").jsx(b("KeplerFieldset.react"),{config:b("KeplerFieldsetConfig").relationshipStatus}),b("React").jsx(b("KeplerFieldset.react"),{config:b("KeplerFieldsetConfig").education}),b("React").jsx(b("KeplerFieldset.react"),{config:b("KeplerFieldsetConfig").work}),b("React").jsx(b("KeplerFieldset.react"),{config:b("KeplerFieldsetConfig").market}),b("React").jsx(b("KeplerFieldset.react"),{config:b("KeplerFieldsetConfig").parents}),b("React").jsx(b("KeplerFieldset.react"),{config:b("KeplerFieldsetConfig").politics}),b("React").jsx(b("KeplerFieldset.react"),{config:b("KeplerFieldsetConfig").lifeEvents})]})]}),b("React").jsxs("div",{className:"_5p08",children:[b("React").jsxs(b("KeplerHeader.react"),{className:"_5p04",titles:a,children:[b("React").jsx(b("KeplerProgressBar.react"),{className:"_382p",status:this.state.progress}),b("React").jsx(b("KeplerSectionNavigation.react"),{ref:"nux_three"})]}),this.state.showContent?d:null]}),b("React").jsx(b("KeplerTour.react"),{ref:"tour",steps:this.state.tourSteps,tourState:this.props.tourState,onComplete:this.$18}),b("React").jsx(b("HelpTrayBootloadedContainer.audi.react"),{v1HelpContent:!0})]}),this.renderLayers()]})};d.renderLayers=function(){__p&&__p();var a=this,c=null;this.state.openDialogVisible&&(c=b("React").jsx(b("XUIDialog.react"),{causalElementRef:function(){return a.refs.openLink},onToggle:this.$19,shown:this.state.openDialogVisible,width:915,children:b("React").jsx(b("KeplerOpenAudienceDialog.react"),{openAudience:this.$20})}));var d=null;if(this.state.saveAsDialogVisible){var e=this.state.resolvingUnsavedChanges?this.state.onUnsavedChangesResolved:this.$21;d=b("React").jsx(b("XUIDialog.react"),{onToggle:this.$22,shown:this.state.saveAsDialogVisible,width:915,children:b("React").jsx(b("KeplerSaveAudienceAsDialog.react"),{audienceSaveCallback:e,viewerID:this.props.viewerID})})}e=null;this.state.startDialogVisible&&(e=b("React").jsx(b("XUIDialog.react"),{onToggle:this.$23,shown:this.state.startDialogVisible,width:536,children:b("React").jsx(b("KeplerStartDialog.react"),{onOptionSelect:this.$24})}));var f=null;this.state.unsavedDialogVisible&&(f=b("React").jsx(b("XUIDialog.react"),{onToggle:this.$25,shown:this.state.unsavedDialogVisible,width:400,children:b("React").jsx(b("KeplerUnsavedAudienceDialog.react"),{copyType:this.state.unsavedDialogCopyType,dontSave:this.$26,save:this.$16})}));var g=h._("We are really excited to provide you with early access to Audience Insights. This tool is currently only deployed publicly in the United States, and therefore we would like to remind you that Audience Insights and any data received from its use may only be used for internal evaluation purposes. Our legal team would like you to acknowledge that you understand that the existence of Audience Insights and any data you receive from using Audience Insights is confidential information of Facebook and is subject to our non-disclosure agreement. Accordingly, no one at your company should discuss with a third party (including agencies and preferred marketing developers) any details about this tool or any data you receive from using it without Facebook prior written consent."),i=null;if(this.state.showLegalTermDialog){var j;i=(j=b("React")).jsxs(b("XUIDialog.react"),{shown:!0,width:500,children:[j.jsx(b("XUIDialogTitle.react"),{children:h._("Important Notice")}),j.jsx(b("XUIDialogBody.react"),{children:j.jsx(b("FDSText.react"),{display:"block",margin:"_3-96",size:"body1",children:g})}),j.jsx(b("XUIDialogFooter.react"),{children:j.jsx(b("XUIDialogOkayButton.react"),{action:"cancel",onClick:this.$9,use:"confirm"})})]})}return b("ReactFragment").create({legalTermDialog:i,openDialog:c,saveAsDialog:d,startDialog:e,unsavedDialog:f})};d.$17=function(){n.logEvent(b("KeplerConstants").EVENT_CLICK_CREATE_AD),b("KeplerFilterStore").getTargeting().done(function(a){var c=b("KeplerActiveAdAccountStore").getLegacyAccountID();a=JSON.stringify(a);c=!b("AdsManagerNavigationGatingUtils").getIsOptedInModernization()&&b("AdsConvergenceGatingUtils").getIsConvergenceV2RoutingEnabled()?{act:c,targeting_spec:a,entry_point:l}:{act:c,targeting_spec:a};a=new(k||(k=b("URI")))(b("KeplerConstants").CREATE_FLOW_URI).addQueryData(c).toString();return k.goURIOnNewWindow(a)})};return c}(c.Component);d.propTypes={adAccounts:(f=b("prop-types")).object.isRequired,initialAdmarketID:f.string.isRequired,loggerSessionID:f.string.isRequired,showLegalTerm:f.bool,tourState:f.object,viewerID:f.string.isRequired};d.childContextTypes={insightsContext:f.string};e.exports=d}),null);